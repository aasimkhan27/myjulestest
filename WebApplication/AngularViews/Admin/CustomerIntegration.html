<form id="CustomerIntegrationForm" name="CustomerIntegrationForm" novalidate>
    <div class="card-header">
        <div class="row">

            <div class="col-md-4">
                <div class="form-group">
                    <label>Customer :*</label>
                    <select class="custom-select"
                            name="CUSTOMER_ID"
                            ng-model="CustomerIntegrationSearch.CUSTOMER_ID"
                            ng-options="CT.CUSTOMER_ID as CT.CUSTOMER_NAME for CT in CUSTOMER_LIST"
                            required
                            ng-change="GET_ENTITY_LIST()"
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.CUSTOMER_ID.$error.required}">
                        <option value="">- Please Select Customer-</option>
                    </select>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Entity :*</label>
                    <select class="custom-select"
                            name="ENTITY_ID"
                            ng-model="CustomerIntegrationSearch.ENTITY_ID"
                            ng-options="EL.ENTITY_ID as EL.ENTITY_NAME for EL in ENTITY_LIST"
                            required
                            ng-change="ADMIN_GET_BRANCH()"
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.ENTITY_ID.$error.required}">
                        <option value="">- Please Select Entity-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Branch :</label>
                    <select class="custom-select"
                            name="BRANCH_ID"
                            ng-model="CustomerIntegrationSearch.BRANCH_ID"
                            ng-options="EL.BRANCH_ID as EL.BRANCH_NAME for EL in BRANCH_LIST"
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.BRANCH_ID.$error.required}">
                        <option value="">- Please Select Branch-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Integration Type :*</label>
                    <select class="custom-select"
                            name="INTEGRATION_TYPE_ID"
                            ng-model="CustomerIntegrationSearch.INTEGRATION_TYPE_ID"
                            ng-options="IN.INTEGRATION_TYPE_ID as IN.INTEGRATION_TYPE for IN in INTEGRATION_TYPE_LIST"
                            ng-change="GET_INTEGRATION_SYSTEM_BY_ID()"
                            required
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.INTEGRATION_TYPE_ID.$error.required}">
                        <option value="">- Please Select Integration Type-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Integration System :*</label>
                    <select class="custom-select"
                            name="INTEGRATION_SYSTEM_ID"
                            ng-model="CustomerIntegrationSearch.INTEGRATION_SYSTEM_ID"
                            ng-options="IS.INTEGRATION_SYSTEM_ID as IS.SYSTEM_NAME for IS in INTEGRATION_SYSTEM_LIST"
                            required
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.INTEGRATION_SYSTEM_ID.$error.required}">
                        <option value="">- Please Select Integration System-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Module :*</label>
                    <select class="custom-select"
                            name="MODULE_ID"
                            ng-model="CustomerIntegrationSearch.MODULE_ID"
                            ng-options="ML.MODULE_ID as ML.MODULE_NAME for ML in MODULE_BY_LIST"
                            required
                            ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.MODULE_ID.$error.required}">
                        <option value="">- Please Select Modules-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>URL Parameters :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="5000"
                           name="URL_PARAMETERS"
                           ng-model="CustomerIntegrationSearch.URL_PARAMETERS"
                           placeholder="Enter ..."
                           only-url
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.URL_PARAMETERS.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>URL Path :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="5000"
                           name="URL_PATH"
                           ng-model="CustomerIntegrationSearch.URL_PATH"
                           only-url
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.URL_PATH.$error.required}" />
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label class="d-block">&nbsp;</label>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="ACTIVE"
                               name="ACTIVE"
                               ng-model="CustomerIntegrationSearch.ACTIVE"
                               ng-checked="CustomerIntegrationSearch.ACTIVE">
                        <label for="ACTIVE" class="custom-control-label">: ACTIVE</label>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>API Key :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="5000"
                           name="API_KEY"
                           ng-model="CustomerIntegrationSearch.API_KEY"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.API_KEY.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>User ID :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="500"
                           name="USERID"
                           ng-model="CustomerIntegrationSearch.USERID"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.USERID.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Password :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="500"
                           name="PASSWORD"
                           ng-model="CustomerIntegrationSearch.PASSWORD"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.PASSWORD.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label class="d-block">&nbsp;</label>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="IS_OUTBOUND"
                               name="IS_OUTBOUND"
                               ng-model="CustomerIntegrationSearch.IS_OUTBOUND"
                               ng-checked="CustomerIntegrationSearch.IS_OUTBOUND">
                        <label for="IS_OUTBOUND" class="custom-control-label">: Outbound</label>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label class="d-block">&nbsp;</label>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="INTEGRATION_PICKUP_FLAG"
                               name="INTEGRATION_PICKUP_FLAG"
                               ng-model="CustomerIntegrationSearch.INTEGRATION_PICKUP_FLAG"
                               ng-checked="CustomerIntegrationSearch.INTEGRATION_PICKUP_FLAG">
                        <label for="INTEGRATION_PICKUP_FLAG" class="custom-control-label">: Integration Pickup Flag</label>
                    </div>
                </div>
            </div>

            <div class="col-md-4" ng-init="DateInputLoad()">
                <div class="form-group">
                    <label>Last Pickup Date :</label>
                    <input type="text"
                           class="form-control dateinput"
                           maxlength="250"
                           name="LAST_PICKUP_DATE"
                           ng-model="CustomerIntegrationSearch.LAST_PICKUP_DATE"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.LAST_PICKUP_DATE.$error.required}">
                </div>
            </div>

            <div class="col-md-4" ng-init="DateInputLoad()">
                <div class="form-group">
                    <label>Integration Start Date :</label>
                    <input type="text"
                           class="form-control dateinput"
                           maxlength="250"
                           name="INTEGRATION_START_DATE"
                           ng-model="CustomerIntegrationSearch.INTEGRATION_START_DATE"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.INTEGRATION_START_DATE.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Integration Status :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="INTEGRATION_STATUS"
                           ng-model="CustomerIntegrationSearch.INTEGRATION_STATUS"
                           placeholder="Enter ..."
                           only-Digits
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.INTEGRATION_STATUS.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Automation URL :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="AUTOMATION_URL"
                           ng-model="CustomerIntegrationSearch.AUTOMATION_URL"
                           placeholder="Enter ..."
                           only-url
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.AUTOMATION_URL.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Automation Username :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="AUTOMATION_USER_NAME"
                           ng-model="CustomerIntegrationSearch.AUTOMATION_USER_NAME"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.AUTOMATION_USER_NAME.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Automation Password :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="AUTOMATION_PASSWORD"
                           ng-model="CustomerIntegrationSearch.AUTOMATION_PASSWORD"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.AUTOMATION_PASSWORD.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Automation Parameters :</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="AUTOMATION_PARAMETERS"
                           ng-model="CustomerIntegrationSearch.AUTOMATION_PARAMETERS"
                           placeholder="Enter ..."
                           ng-class="{'error':CustomerIntegrationForm.submitted && CustomerIntegrationForm.AUTOMATION_PARAMETERS.$error.required}">
                </div>
            </div>

        </div>
    </div>

    <div class="col-md-12">
        <div data-ng-show="CustomerIntegrationForm.submitted && CustomerIntegrationForm.$invalid" class="form-group has-error errormessage form-group has-error errormessage badge badge-light-red w-100 p-3">
            <span class="help-block errormessageline"><i class="fa fa-exclamation-triangle"></i> - Please provide the mandatory details to submit(marked in red).</span>
        </div>
        <div id="divInvlidUser" class="hideshowdiv" data-ng-show="CustomerIntegrationForm.$valid">
            <span class="help-block">{{InvalidUser}}</span>
        </div>
    </div>

    <div class="col-md-12 text-right">
        <button ng-click="INS_UPD_CUSTOMER_INTEGRATION()" class="btn btn-wenodo">Save</button>
        <button ng-click="GET_CUSTOMER_INTEGRATION(1);" class="btn btn-w-default">Search</button>
        <button type="button" ng-click="RESET_CUSTOMER_INTEGREATION()" class="btn btn-w-default">Reset</button>
    </div>
</form>
<style>
    .tooltip-inner {
      
    }
</style>
<div class="card-body">
    <div class="text-center" ng-show="CUSTOMER_INTEGRATION_LIST.length==0" empty-grid>
    </div>
    <div class="table-responsive custom-scrollbar height-auto" ng-show="CUSTOMER_INTEGRATION_LIST.length>0">
        <table class="table table-striped">
            <thead class="bg-wenodo-dark-blue">
                <tr>
                    <th class="text-nowrap">CUSTOMER/Entity/Branch</th>
                    <th class="text-nowrap">Integration<br /> Type</th>
                    <th class="text-nowrap">Integration <br />System</th>
                    <th class="text-nowrap">Module</th>
                    <th class="text-nowrap url_heading">URL <br />Parameters</th>
                    <th class="text-nowrap url_heading">URL <br />Path</th>
                    <th class="text-nowrap ">Active</th>
                    <th class="text-nowrap url_heading">API Key</th>
                    <th class="text-nowrap url_heading">User Id</th>
                    <th class="text-nowrap">Password</th>
                    <th class="text-nowrap">Outbound</th>
                    <th class="text-nowrap">Integration<br /> Pickup Flag</th>
                    <th class="text-nowrap">Last <br />Pickup Date</th>
                    <th class="text-nowrap">Integration <br />Start Date</th>
                    <th class="text-nowrap">Integration<br /> Status</th>
                    <th class="text-nowrap url_heading">Automation<br /> URL</th>
                    <th class="text-nowrap">Automation <br />Username</th>
                    <th class="text-nowrap">Automation<br /> Password</th>
                    <th class="text-nowrap url_heading">Automation <br />Parameters</th>

                    <th></th>
                    <th width="5%"></th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <td colspan="8" align="center" ng-show="GetData">
                        <a class="btn btn-secondary text-white" ng-click="LAZY_GET_CUSTOMER_INTEGRATION();">{{VIEWMORERECORD}}</a>
                    </td>
                </tr>
            </tfoot>
            <tbody ng-repeat="CI in CUSTOMER_INTEGRATION_LIST" on-finish-render="ngRepeatFinished">
                <tr>
                    <td>{{CI.CUSTOMER_NAME}}<br />{{CI.ENTITY_NAME}}<br />{{CI.BRANCH_NAME}}</td>
                   
                    <td>{{CI.INTEGRATION_TYPE}}</td>
                    <td>{{CI.INTEGRATION_SYSTEM_NAME}}</td>
                    <td>{{CI.MODULE_NAME}}</td>
                    <td class="wrapping" data-toggle="tooltip" data-html="true"  data-original-title="{{CI.URL_PARAMETERS}}">{{CI.URL_PARAMETERS | limitTo:30}}</td>
                    <td class="wrapping" data-toggle="tooltip" data-html="true " data-original-title="{{CI.URL_PATH}}">{{CI.URL_PATH | limitTo:30}}</td>
                    <td>{{CI.ACTIVE}}</td>
                    <td class="wrapping" data-toggle="tooltip" data-html="true" data-original-title="{{CI.API_KEY}}">{{CI.API_KEY | limitTo:30}}</td>
                    <td class="wrapping" >{{CI.USERID}}</td>
                    <td>{{CI.PASSWORD}}</td>
                    <td>{{CI.IS_OUTBOUND}}</td>
                    <td>{{CI.INTEGRATION_PICKUP_FLAG}}</td>
                    <td>{{CI.LAST_PICKUP_DATE | date:'MMM dd yyyy, HH:mm'}}</td>
                    <td>{{CI.INTEGRATION_START_DATE | date:'MMM dd yyyy'}}</td>
                    <td>{{CI.INTEGRATION_STATUS}}</td>
                    <td class="wrapping" data-toggle="tooltip"  data-html="true" data-original-title="{{CI.AUTOMATION_URL}}">{{CI.AUTOMATION_URL | limitTo:30}}</td>
                    <td>{{CI.AUTOMATION_USER_NAME}}</td>
                    <td>{{CI.AUTOMATION_PASSWORD}}</td>
                    <td>{{CI.AUTOMATION_PARAMETERS}}</td>
                    <td>
                        <a ng-click="EDIT_INS_UPD_CUSTOMER_INTEGRATION(CI)" data-toggle="tooltip" data-placement="bottom" data-html="true" data-original-title="Edit"><i class="fad fa-edit fa-lg text-green"></i></a>
                        <!--<a ng-click="DELETE_INS_UPD_UNITS(LL)"><i class="fal fa-trash-alt fa-lg text-danger"></i></a>-->
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>