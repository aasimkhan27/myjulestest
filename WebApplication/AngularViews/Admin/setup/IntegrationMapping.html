<form id="IntegrationMappingForm" name="IntegrationMappingForm" novalidate ng-init="">
    <div class="card-header">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label>Customer:*</label>
                    <select class="custom-select"
                            name="CUSTOMER_ID"
                            ng-model="IntegrationMappingSearch.CUSTOMER_ID"
                            ng-options="EL.CUSTOMER_ID as EL.CUSTOMER_NAME for EL in CUSTOMER_LIST"
                            ng-change="GET_ENTITY_LIST()"
                            required
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.CUSTOMER_ID.$error.required}">
                        <option value="">- Please Select Customer -</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Entity:*</label>
                    <select class="custom-select"
                            name="ENTITY_ID"
                            ng-model="IntegrationMappingSearch.ENTITY_ID"
                            ng-change="ADMIN_GET_BRANCH();GET_PYMNT_SUPPLIERS();"
                            ng-options="EL.ENTITY_ID as EL.ENTITY_NAME for EL in ENTITY_LIST" required
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.ENTITY_ID.$error.required}">
                        <option value="">- Please Select Entity-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Branch:</label>
                    <select class="custom-select"
                            name="BRANCH_ID"
                            ng-model="IntegrationMappingSearch.BRANCH_ID"
                            ng-options="IL.BRANCH_ID as IL.BRANCH_NAME for IL in BRANCH_LIST"
                            ng-change="GET_PYMNT_SUPPLIERS();"
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.BRANCH_ID.$error.required}">
                        <option value="">- Please Select Branch -</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Group:*</label>
                    <select class="custom-select"
                            name="GROUP_ID"
                            ng-model="IntegrationMappingSearch.GROUP_ID"
                            ng-options="IL.ID as IL.GROUP_NAME for IL in INTEGRATION_GROUP_MASTER"
                            ng-change=""
                            required
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.GROUP_ID.$error.required}">
                        <option value="">- Please Select Group -</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="d-block">Supplier:<span ng-if="IntegrationMappingSearch.IS_OUTBOUND==1">*</span></label>
                    <select class="form-control select2"
                            name="XERO_SUPPLIER"
                            ng-model="IntegrationMappingSearch.XERO_SUPPLIER"
                            ng-options="XS.ID as XS.SUPPLIER_NAME for XS in XERO_SUPPLIERS"
                            ng-required="IntegrationMappingSearch.IS_OUTBOUND==1"
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.XERO_SUPPLIER.$error.required}">
                        <option value="">- Please Select -</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Is Out Bound:*</label>
                    <select class="custom-select"
                            name="IS_OUTBOUND"
                            ng-model="IntegrationMappingSearch.IS_OUTBOUND"
                            ng-options="OB.ID as OB.OB_FLAG for OB in IS_OUTBOUND_LIST"
                            required
                            ng-class="{'error':IntegrationMappingForm.submitted && IntegrationMappingForm.IS_OUTBOUND.$error.required}">
                        <option value="">- Please Select -</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="row">
                <div class="form-group">
                    <button ng-click="INTEGRATION_MAPPING(IntegrationMappingSearch.URL);" href="#" class="btn btn-wenodo">Connect To Xero</button>
                    <!--<button ng-click="EXCHANGE_CODE(IntegrationMappingSearch.URL);" ng-disabled="XERO_TENANTS.length>0" href="#" class="btn btn-wenodo">Get Xero Token</button>-->
                    <button ng-click="UPD_INTEGRATION_TOKENS();" class="btn btn-wenodo">SAVE</button>
                    <button ng-click="BACK();" href="#" class="btn btn-w-default">Back</button>

                </div>
            </div>
        </div>
    </div>


    <div class="card-body mb-0">
        <div class="text-center" ng-show="XERO_TENANTS.length==0" empty-grid>
        </div>
        <div class="table-responsive custom-scrollbar height-auto" ng-show="XERO_TENANTS.length>0">
            <table class="table table-striped">
                <thead class="bg-wenodo-dark-blue">
                    <tr>
                        <th></th>
                        <th>TENANT NAME</th>

                    </tr>
                </thead>
                <tbody ng-repeat="XT in XERO_TENANTS" on-finish-render="ngRepeatFinished">
                    <tr>
                        <td><input type="radio" name="Tenant" ng-model="$parent.SELECTED_TENANT" value="{{XT.tenantId}}" /></td>
                        <td>{{XT.tenantName}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="FIELD_VALUE">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Xero Token</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea class="form-control" rows="8" readonly
                              ng-model="IntegrationMappingSearch.COPY_XERO_TOKEN">
               </textarea>
                </div>
            </div>
        </div>
    </div>
</form>
<script>
    $('.select2').select2();
</script>

