<style>
    h5 {
        font-size: 12px;
    }
    .dropdown-menu li.active {
        background-color: #e7e7e7;
    }

    .dropdown-menu li {
        padding: 6px 10px;
        border-bottom: 1px solid #e9ecef;
        cursor: pointer;
    }
</style>
<!--<div class="animated fadeInLeft" id="Vouchers" role="tabpanel" ng-show="CASHUP.STEP_NO==7" aria-labelledby="custom-content-below-settings-tab">-->
<!--<div  ng-controller="CashupEntryController">-->
<div class="overlay_loadingNew" style="display:{{overlay_loadingNew}}!important"></div>
<div id="LOADER_ID">
    <div class="card-header">
        <ul class="nav nav-pills float-left">
            <li class="nav-item border radius-50">
                <span class="font-12 text-bold">Branch: <span class="cash-up-header">{{CASHUP.BRANCH_NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">Area: <span class="cash-up-header">{{CASHUP.AreaList[0].NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">Session: <span class="cash-up-header">{{CASHUP.SESSION.SESSION_NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">CashUp Date: <span class="cash-up-header">{{CASHUP.CASHUP_DATE|date}}</span></span>
            </li>
        </ul>
        <div class="card-tools">
            <ul class="nav nav-pills ml-auto">
                <li class="nav-item border radius-50">
                    <span class="font-12 text-bold">ePOS: <span class="cash-up-header">{{(CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Issued"})[0].SALES_AMT | number:2}}
                        <!--{{CASHUP.EPOS_HEADER_DATA[0].GIFT_CERT_TOTAL |number:2}}--></span></span>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold">Actual: <span class="cash-up-header">{{CASHUP.ISSUE_TOTAL |number:2}}</span></span>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <sapn class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_ISSUE!=0}">Variance: <span class="cash-up-header">{{ CASHUP.VARIANCE_ISSUE=(CASHUP.ISSUE_TOTAL-((CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Issued"})[0].SALES_AMT)) |number:2}}</span></sapn>

                    <!--<sapn class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_ISSUE!=0}">Variance: <span class="cash-up-header">{{ CASHUP.VARIANCE_ISSUE=((CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Issued"}).length>0?CASHUP.ISSUE_TOTAL-((CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Issued"})[0].SALES_AMT):0) |number:2}}</span></sapn>-->
                    <!--<sapn class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_ISSUE!=0}">Variance: <span class="cash-up-header">{{ CASHUP.VARIANCE_ISSUE=(CASHUP.EPOS_HEADER_DATA[0].GIFT_CERT_TOTAL*1-CASHUP.ISSUE_TOTAL*1) |number:2}}</span></sapn>-->
                </li>
            </ul>
        </div>
    </div>
    <div class="card-header">
        <h5 class="card-title">Vouchers Issued</h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-lg-1">
                <label>Voucher Type</label>
            </div>

            <div class="col-md-2">
                <label for="cheque">Voucher # <span class="text-danger">*</span></label>
            </div>

            <div class="col-md-1">
                <label for="cheque">Amount <span class="text-danger">*</span></label>
            </div>

            <div class="col-lg-1">
                <label for="date">Validity</label>
            </div>

            <div class="col-md-2">
                <label for="cheque">Sold To</label>
            </div>

            <div class="col-md-1">
                <label>Payment Method<span class="text-danger">*</span></label>
            </div>

            <div class="col-md-1">
                <label for="cheque">Invoice # <span class="text-danger">*</span></label>
            </div>

            <div class="col-lg-2">
                <label for="note">Note</label>
            </div>
        </div>
        <div class="row" ng-repeat="VISS in VoucherIssuedList| filter:{IS_REDEEMED:false}| filter:{ENTRY_TYPE_ID:1}| filter:{IS_DELETED:0}" on-finish-render="ngRepeatFinished" ng-init="ValidControls(VISS)">
            <div class="col-lg-1">
                <div class="form-group">
                    <select class="custom-select text-xs" ng-model="VISS.VOUCHER_TYPE" ng-change="SetVoucherValues_basisType(VISS)" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                        <option value="Pre-Defined">Pre-defined</option>
                        <option value="Open Voucher">Open Voucher</option>
                    </select>
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group mb-0">
                    <select class="custom-select text-xs" ng-show="VISS.vouchernumbervisible"
                            ng-options="CL.ID as CL.CODE for CL in MasterEntryList | filter:{ENTRY_TYPE_ID:1}"
                            ng-model="VISS.ENTRY_TYPE_DETAIL_ID" ng-change="SetVoucherValues(VISS)" ng-class="{'error':!VISS.CODE_VALID}" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                        <option value="">- Please Select-</option>
                    </select>
                    <input class="form-control" placeholder="Enter Voucher #" type="text" ng-show="!VISS.vouchernumbervisible" ng-model="VISS.CODE" ng-class="{'error':!VISS.CODE_VALID}" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                </div>
            </div>

            <div class="col-md-1">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" only-digits ng-model="VISS.VALUE" ng-blur="CheckDecimal(VISS)" ng-class="{'error':!VISS.VALUE_VALID}" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                </div>
            </div>

            <div class="col-lg-1">
                <div class="form-group">
                    <div class="input-group date" id="reservationdate" data-target-input="nearest" ng-init="dateinputOpenDate();">
                        <input class="form-control bg-white dateinputOpenDate" name="datecontrol{{$index}}" placeholder="Select Date" type="text"
                               readonly="readonly" ng-model="VISS.VALIDITY_DATE" ng-value="VISS.VALIDITY_DATE | date" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true" />
                    </div>
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" ng-model="VISS.CUSTOMER_NAME" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                </div>
            </div>


            <div class="col-md-1">
                <div class="form-group">
                        <!--<span ng-show="false"> {{VISS.PAYMENT_METHOD_ID!=null?VISS.PAYMENT_METHOD=(PaymentList | filter:{PAYMENT_METHOD_ID:VISS.PAYMENT_METHOD_ID})[0]:'' }}</span>
                        <select class="custom-select text-xs" style="width: 100%;" ng-options="Payment.METHOD_NAME for Payment in PaymentList" ng-model="VISS.PAYMENT_METHOD"  ng-disabled="VISS.RESTRICT_DELETE==1">
                            <option value="">Select</option>
                        </select>-->
                        <!--<span ng-show="false"> {{VISS.PAYMENT_METHOD_ID!=null?VISS.PAYMENT_METHOD=(PaymentList | filter:{PAYMENT_METHOD_ID:VISS.PAYMENT_METHOD_ID})[0]:'' }}</span>-->
                    <select class="custom-select text-xs" style="width: 100%;" ng-options="Payment.PAYMENT_METHOD_ID as Payment.METHOD_NAME for Payment in PAYMENT_METHODS" ng-model="VISS.PAYMENT_METHOD_ID" ng-change="SetPayment(VISS,VISS.PAYMENT_METHOD_ID)" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true" ng-class="{'error':!VISS.PAYMENT_METHOD_ID_VALID}">
                        <option value="">Select</option>
                    </select>
                </div>
            </div>

            <div class="col-md-1">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" ng-model="VISS.CHECK_NO" ng-class="{'error':!VISS.CHECK_NO_VALID}" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                </div>
            </div>

            <div class="col-lg-3">
                <div class="d-flex">
                    <input type="text" id="note" class="form-control" ng-model="VISS.NOTE" ng-disabled="VISS.RESTRICT_DELETE==1|| VISS.IS_CANCELLED==true">
                    <a class="add_dreceived_button mt-2 cursor-pointer" ng-click="VoucherIssueLine()" click-once ng-show="$last" data-toggle="tooltip" data-html="true" data-original-title="Add More">
                        <i class="fas fa-plus-circle ml-2"></i>
                    </a>
                     <a class="add_dreceived_button mt-2 cursor-pointer" ng-hide="VISS.RESTRICT_DELETE==1||VISS.IS_CANCELLED==true"  ng-click="DeleteLine((VoucherIssuedList | filter:{IS_REDEEMED:false}| filter:{ENTRY_TYPE_ID:1}), $index,false,1,VISS)" data-toggle="tooltip" data-html="true" data-original-title="Remove">
                        <i class="fas fa-minus-circle ml-2"></i>
                    </a>
                    <!--<a class="add_dreceived_button mt-2 cursor-pointer" ng-show="VISS.RESTRICT_DELETE==0" ng-click="DeleteLine((VoucherIssuedList | filter:{IS_REDEEMED:false}| filter:{ENTRY_TYPE_ID:1}), $index,false,1,VISS)" data-toggle="tooltip" data-html="true" data-original-title="Remove">
                        <i class="fas fa-minus-circle ml-2"></i>
                    </a>-->
                    <i class="fa fa-info-circle cursor-pointer ml-2 text-warning mt-2"
                       ng-show="VISS.RESTRICT_DELETE==1"
                       data-toggle="tooltip"
                       data-html="true"
                       data-placement="top"
                       data-original-title="You have already redeemed the voucher on behalf of this record, if you want to change it or delete you need to first delete in voucher redeemed"></i>
                     <i class="fa fa-info-circle cursor-pointer ml-2 text-warning mt-2"
                       ng-show="VISS.IS_CANCELLED==true"
                       data-toggle="tooltip"
                       data-html="true"
                       data-placement="top"
                       data-original-title="This record has been cancelled by the Voucher team."></i>
                    <!--<a class="add_dreceived_button" ng-click="DeleteLine((VoucherIssuedList | filter:{IS_REDEEMED:false}| filter:{ENTRY_TYPE_ID:1}), $index,false,1,VISS)" ng-show="$last && !$first"><i class="fas fa-minus-circle ml-2"></i></a>-->
                </div>
            </div>
        </div>
        <div class="card-footer text-right">
            <h6 class="app-text text-bold">Total: {{ CASHUP.ISSUE_TOTAL=((VoucherIssuedList | filter:{IS_REDEEMED:false}| filter:{ENTRY_TYPE_ID:1}| filter:{IS_DELETED:0}| filter:{IS_CANCELLED:false}) | total:'VALUE')| number:2 }}</h6>
        </div>

    </div>
    <hr />
    <div class="card-header">
        <h5 class="card-title">Vouchers Redeemed <button type="button" class="btn btn-wenodo btn-sm ml-2" data-toggle="modal" ng-click="SelectedRedeemedPopup();">Vouchers Redeem</button></h5>
        <div class="card-tools">
            <ul class="nav nav-pills ml-auto">
                <li class="nav-item border radius-50">
                    <span class="font-12 text-bold">ePOS: <span class="cash-up-header">{{(CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Redeemed"})[0].SALES_AMT | number:2}}
                        <!--{{(CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"})[0].SALES_AMT | number:2}}--></span></span>
                    
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold">Actual: <span class="cash-up-header">{{CASHUP.REDEEMED_TOTAL |number:2}}</span></span>
                    <!--<h5>Actual: <span class="app-text">{{CASHUP.REDEEMED_TOTAL |number:2}}</span></h5>-->
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_REDEEMED!=0}">
                       
                        <!--<span class="cash-up-header" ng-show="(CASHUP.EPOS_DATA | filter:{'MEDIA':'Voucher - Gift Pro'}).length>0?true:DFlag=false">{{ CASHUP.VARIANCE_REDEEMED=( ((CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher - Gift Pro"})[0].SALES_AMT*1)-CASHUP.REDEEMED_TOTAL*1) |number:2}}</span>-->

                        <!--<span class="cash-up-header" ng-show="(CASHUP.EPOS_DATA | filter:{'MEDIA':'Gift'}).length>0?true:DFlag=false">{{ CASHUP.VARIANCE_REDEEMED=( ((CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"})[0].SALES_AMT*1)-CASHUP.REDEEMED_TOTAL*1) |number:2}}</span>
                        <span class="cash-up-header" ng-show="(CASHUP.EPOS_DATA | filter:{'MEDIA':'GIFT (external)'}).length>0?true:DFlag=false">{{ CASHUP.VARIANCE_REDEEMED=( ((CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift (external)"})[0].SALES_AMT*1)-CASHUP.REDEEMED_TOTAL*1) |number:2}}</span>

                        <span class="cash-up-header" ng-show="VARIANCE_REDEEMED1!=0">{{ VARIANCE_REDEEMED1 *-1 |number:2}}</span>-->
                        <!--<sapn class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_REDEEMED!=0}">Variance:<span class="cash-up-header">{{ CASHUP.VARIANCE_REDEEMED=((CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Redeemed"}).length>0?CASHUP.REDEEMED_TOTAL-(CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Redeemed"})[0].SALES_AMT:0) |number:2}}</span></sapn>-->
                         <sapn class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_REDEEMED!=0}">Variance: <span class="cash-up-header">{{ CASHUP.VARIANCE_REDEEMED=(CASHUP.REDEEMED_TOTAL-(CASHUP.EPOS_DATA | filter:{"MEDIA":"Voucher Redeemed"})[0].SALES_AMT) |number:2}}</span></sapn>

                    </span>
                    <!--<h5 ng-class="{'text-danger':CASHUP.VARIANCE_REDEEMED!=0}">Variance: <span class="app-text">{{ CASHUP.VARIANCE_REDEEMED=((CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"}).length>0?(CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"})[0].SALES_AMT*1-CASHUP.REDEEMED_TOTAL:0) |number:2}}</span></h5>-->
                </li>
            </ul>
        </div>
    </div>

    <div class="card-body">
        <div class="row">
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <label for="cheque">Invoice # <span class="text-danger">*</span></label>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group mb-0">
                    <label for="cheque">Voucher # <span class="text-danger">*</span></label>
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <label for="cheque">Amount</label>
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <label for="cheque"> Redeemed Amount <span class="text-danger">*</span></label>
                </div>
            </div>
            <div class="col-lg-1">
                <label for="date">Validity</label>
            </div>

            <div class="col-md-2">
                <div class="form-group mb-0">
                    <label for="cheque">Redeemed By</label>
                </div>
            </div>

            <div class="col-md-1">
                <label>Payment Method <span class="text-danger">*</span></label>
            </div>

            <div class="col-lg-3">
                <label for="note">Note</label>
            </div>
        </div>
        <div class="row" ng-repeat="VISS in VoucherIssuedList | filter:{IS_REDEEMED:true}| filter:{ENTRY_TYPE_ID:1}| filter:{IS_DELETED:0}" ng-init="ValidControls(VISS)">
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" ng-model="VISS.CHECK_NO" ng-class="{'error':!VISS.CHECK_NO_VALID}"> <!--ng-blur="CHK_INVOICE_NO(VISS);"-->
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group SCROLL_DROP" >
                    <input type="text" name="CategorySearchBox"
                           ng-model="VISS.CODE"
                           typeahead-loading="loading" typeahead-no-results="noResults"
                           class="form-control input-sm" autocomplete="off"
                           ng-blur="SetValues(VISS,$index)" ng-change="SET_DROPSCROLL();"
                           uib-typeahead="VISS.CODE for VISS in MasterEntryList_Redeemed_Search | filter:$viewValue | filter:{ENTRY_TYPE_ID:1} | filter:{IS_REDEEMED:false}| filter:{IS_CANCELLED:false}"
                           placeholder="Type to select voucher"  ng-class="{'error':!VISS.CODE_VALID}"  />
                    <!--typeahead-on-select="selectTypeAhead($item)" -->
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" only-digits ng-model="VISS.TOTAL_AMT" ng-disabled="true" >  <!-- ng-disabled="(VISS.ENTRY_TYPE_DETAIL_ID!=0)?true:false" ng-disabled="VISS.PAYMENT_METHOD_ID==null?false:true"-->
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" only-digits ng-model="VISS.VALUE" ng-blur="CheckDecimal(VISS)" ng-class="{'error':!VISS.VALUE_VALID}" ng-disabled="VISS.ID!=0?true:false" ng-change="SET_VALUECHECK(VISS);">  <!-- ng-disabled="(VISS.ENTRY_TYPE_DETAIL_ID!=0)?true:false" ng-disabled="VISS.PAYMENT_METHOD_ID==null?false:true"-->
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group mb-0" ng-init="dateinputOpenDate();">

                    <input class="form-control bg-white dateinputOpenDate" name="datecontrolres{{$index}}" placeholder="Select Date" type="text"
                           readonly="readonly" ng-model="VISS.VALIDITY_DATE" ng-value="VISS.VALIDITY_DATE | date"  />
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group mb-0">
                    <input class="form-control" type="text" ng-model="VISS.CUSTOMER_NAME">
                </div>
            </div>

            <div class="col-md-1">
                <div class="form-group">
                    <!--<span ng-show="false"> {{VISS.PAYMENT_METHOD_ID!=null?VISS.PAYMENT_METHOD=(PaymentList | filter:{PAYMENT_METHOD_ID:VISS.PAYMENT_METHOD_ID})[0]:'' }}</span>
            <select class="custom-select text-xs" style="width: 100%;" ng-options="Payment.METHOD_NAME for Payment in PaymentList" ng-model="VISS.PAYMENT_METHOD" ng-disabled="(VISS.ENTRY_TYPE_DETAIL_ID!=0)?true:false">
                <option value="">Select</option>
            </select>-->
                    <select class="custom-select text-xs" style="width: 100%;" ng-options="Payment.PAYMENT_METHOD_ID as Payment.METHOD_NAME for Payment in PAYMENT_METHODS_RECEIVED" ng-model="VISS.PAYMENT_METHOD_ID" ng-change="SetPayment_Red(VISS,VISS.PAYMENT_METHOD_ID)" ng-class="{'error':!VISS.PAYMENT_METHOD_ID_VALID}">
                        <option value="">Select</option>
                    </select>
                </div>
            </div>

            <div class="col-lg-3">
                <div class="d-flex">
                    <input type="text" id="note" class="form-control" ng-model="VISS.NOTE">
                    <a class="add_dreceived_button mt-2 cursor-pointer" ng-click="VoucherRedeemLine()" click-once ng-show="$last" data-toggle="tooltip" data-html="true" data-original-title="Add More">
                        <i class="fas fa-plus-circle ml-2"></i>
                    </a>
                    <a class="add_dreceived_button mt-2 cursor-pointer" ng-click="DeleteVoucherLine(VoucherIssuedList , $index, true, 1,VISS)" data-toggle="tooltip" data-html="true" data-original-title="Remove">
                        <i class="fas fa-minus-circle ml-2"></i>
                    </a>

                    <!--<a class="add_dreceived_button" ng-click="DeleteVoucherLine(VoucherIssuedList , $index, true, 1,VISS)" ng-show="$last && !$first"><i class="fas fa-minus-circle ml-2"></i></a>-->
                </div>
            </div>
        </div>
        <div class="card-footer text-right">
            <h6 class="app-text text-bold">Total: {{ CASHUP.REDEEMED_TOTAL=((VoucherIssuedList | filter:{IS_REDEEMED:true}| filter:{ENTRY_TYPE_ID:1}| filter:{IS_DELETED:0}) | total:'VALUE')| number:2 }}</h6>
        </div>
        <hr ng-show="!CASHUP.VOUCHERVALID" />
        <div class="form-group text-red p-3" ng-show="!CASHUP.VOUCHERVALID">
            Please fill the mandatory fields marked in red (*) symbol.
        </div>
    </div>

</div>
    <div class="event-footer animated fadeInUp">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-12 d-inline m-2 text-right">
                    <!--<button class="btn btn-w-default btn-sm" ng-click="ShowDiv(GetPreviousStep())" ng-show="CASHUP.STEP_NO!=0"><i class="fa fa-angle-double-left"></i> Previous</button>-->
                    <button class="btn btn-w-default btn-sm" ng-click="PreviousLink()"><i class="fa fa-angle-double-left"></i> Previous</button>
                    <button class="btn btn-wenodo btn-sm" ng-click="NextLink('Deposits')"><i class="fa fa-angle-double-right"></i> Continue</button>
                    <!--<button class="btn btn-wenodo btn-sm" ng-click="UPD_CASHUP_HEADER_SUBMIT()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==0 || CashUp_Main_STATUS_ID==1 || CashUp_Main_STATUS_ID==5)"><i class="fa fa-angle-double-right"></i> Submit</button>
                    <button class="btn btn-wenodo btn-sm" ng-click="APP_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Approve</button>
                    <button class="btn btn-danger btn-sm" ng-click="REJ_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Return</button>-->
                </div>
            </div>
        </div>
    </div>
    <!--</div>-->
    <!--</div>-->
    <div class="modal fade show" id="Vouchers_Receipts">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Voucher Receipts</h4>
                    <button type="button" class="close" data-dismiss="modal" ng-click="RESETPAGESEARCH();" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Invoice #</label>
                                <input type="text" class="form-control" ng-model=" CommonSearch.INVOICE_NUMBER" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Voucher Type</label>
                                <select class="custom-select text-xs" ng-model=" CommonSearch.VOUCHER_TYPE">
                                    <option value="">Select</option>
                                    <option value="Pre-Defined">Pre-defined</option>
                                    <option value="Open Voucher">Open Voucher</option>
                                </select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Voucher #</label>
                                <input type="text" class="form-control" ng-model=" CommonSearch.VOUCHER_REFERENCE" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Payment Method</label>
                                <select class="custom-select text-xs" ng-options="Payment.PAYMENT_METHOD_ID as Payment.METHOD_NAME for Payment in PAYMENT_METHODS"  ng-model=" CommonSearch.PAYMENT_MODE_ID">
                                    <option value="">Select</option>
                                </select>
                               
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Sold To</label>
                                <input type="text" class="form-control" ng-model=" CommonSearch.CUSTOMER_NAME" />
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="form-group">
                                <label class="text-sm">&nbsp;</label>
                                <button class="btn btn-wenodo" ng-click="GET_OPEN_VOUCHER_DETAILS(1);">Search</button>
                                <button class="btn btn-w-default" ng-click="RESETPAGESEARCH();">Reset</button>

                            </div>
                        </div>
                    </div>
                    <div class="row" ng-show="false">
                        <div class="col">
                            <div class="form-group">
                                <label class="text-sm">Customer Name</label>
                                <input type="text" class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="text-sm">Status</label>
                                <select class="custom-select text-sm mt-1">
                                    <option>Pending</option>
                                    <option>Redeemed</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive custom-scrollbar">
                        <div class="text-center" ng-show="MasterEntryList_Redeemed.length==0" empty-grid></div>
                        <table class="table table-hover table-head-fixed" ng-show="MasterEntryList_Redeemed.length>0">
                            <thead class="bg-wenodo-dark-blue">
                                <tr>
                                    <th width="2%"></th>
                                    <th>Invoice #</th>
                                    <th>Voucher Type</th>
                                    <th>Voucher #</th>
                                    <th>Amount</th>
                                    <th>Remaining Amount</th>
                                    <th>Validity</th>
                                    <th>Sold To</th>
                                    <th>Payment Method</th>
                                    <th>Note</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <td colspan="8" class="text-center table-footer-fixed" ng-show="GetData">
                                        <a class="btn btn-secondary text-white" click-once ng-click="LAZY_GET_VOUCHER_LIST();">{{VIEWMORERECORD}}</a>
                                    </td>
                                </tr>
                            </tfoot>
                            <tbody>
                                <tr ng-repeat="VISS in MasterEntryList_Redeemed | filter:{ENTRY_TYPE_ID:1}  | filter:{IS_REDEEMED:false}| filter:{IS_CANCELLED:false}| orderBy:'-ID'">
                                    <td>
                                        <div class="custom-control custom-checkbox">
                                            <input class="custom-control-input" type="checkbox" id="customCheckbox1{{$index}}" ng-model="VISS.IS_CHECKED">
                                            <label for="customCheckbox1{{$index}}" class="custom-control-label"></label>
                                        </div>
                                    </td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.CHECK_NO}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.VOUCHER_TYPE}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.CODE}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.VALUE}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.REMAINING_VALUE}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.VALIDITY_DATE|date}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.CUSTOMER_NAME}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.MODE.toUpperCase();}}</td>
                                    <td ng-click="VISS.IS_CHECKED=!VISS.IS_CHECKED">{{VISS.NOTE}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer d-inline text-left">
                    <button type="button" class="btn btn-wenodo" ng-click="SelectRedeemed();">Redeem</button>
                    <button type="button" class="btn btn-w-default" data-dismiss="modal" ng-click="RESETPAGESEARCH();">Cancel</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
