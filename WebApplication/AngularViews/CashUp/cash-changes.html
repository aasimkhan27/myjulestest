<style>

    h5 {
        font-size: 12px;
    }
</style>
<!--<div class="animated fadeInLeft" id="CashM" role="tabpanel" ng-show="CASHUP.STEP_NO==2" aria-labelledby="custom-content-below-messages-tab">-->
<div class="overlay_loadingNew" style="display:{{overlay_loadingNew}}!important"></div>
<div id="LOADER_ID">
    <div class="card-header">
        <ul class="nav nav-pills float-left">
            <li class="nav-item border radius-50">
                <span class="font-12 text-bold">Branch: <span class="cash-up-header">{{CASHUP.BRANCH_NAME}}</span></span>
            </li>
            <li class="nav-item radius-50 border ml-2">
                <span class="font-12 text-bold">Area: <span class="cash-up-header">{{CASHUP.AreaList[0].NAME}}</span></span>
            </li>
            <li class="nav-item radius-50 border ml-2">
                <span class="font-12 text-bold">Session: <span class="cash-up-header">{{CASHUP.SESSION.SESSION_NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">CashUp Date: <span class="cash-up-header">{{CASHUP.CASHUP_DATE|date}}</span></span>
            </li>
            <li class="nav-item ml-2">
                <ul class="nav nav-pills">
                    <li class="dropdown w-100">
                        <a class="form-control custom-dropdown cursor-pointer font-12 pt-2" data-toggle="dropdown" aria-expanded="false" style="width:180px;">
                            <span id="dropdown_title" class="text-bold d-inline-flex mt-currency">Add Currency</span>
                            <i class="fas fa-plus text-primary float-right mt-1"></i>
                        </a>
                        <ul id="divNewNotifications" class="dropdown-menu dropdown-menu-arrow text-xs custom-scrollbar">                            
                            <li class="pl-4 py-2 DontHideOnClick" ng-repeat="CUR in CURRENCY_LIST" ng-click="SET_CURRENCY(CUR)" ng-hide="CUR.FLAG==true">
                                <i class="far fa-lg" type="checkbox" id="customCheckbox1{{$index}}"
                                   ng-model="CURRENCY_ID" ng-class="{'fa-check-square green':CUR.IS_CHECKED==true,'fa-square':CUR.IS_CHECKED==false}"></i>
                                <span class="font-12 ml-2" ng-hide="CUR.FLAG==true">{{CUR.CURRENCY_CODE}} - {{CUR.CURRENCY_NAME}}</span>
                            </li>                          
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="card-tools">
            <ul class="nav nav-pills ml-auto mt-0">
                <li class="nav-item radius-50">
                    <!--<div class="placeholder" data-type="Cash Tips:">
                        <input type="text" class="form-control text-right" placeholder="00" ng-model="CASHUP.CASH_TIPS " style="max-width:135px" />
                    </div>-->
                    <div class="d-flex">
                        <label style="font-size: 12px;margin-top: 9px;margin-right: 12px;font-weight: 700 !important;">Cash Tips ({{SELECT_CURRENCY_MAIN[0].CURRENCY_CODE}})</label>
                        <input type="text" class="form-control" placeholder="0.00" ng-model="CASHUP.CASH_TIPS " only-digits maxlength="5" style="max-width:70px; color:#004b6d; font-weight:bold;" />
                    </div>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold">ePOS: <span class="cash-up-header">{{(CASHUP.EPOS_DATA | filter:{"MEDIA":"Cash"})[0].SALES_AMT | number:2}}</span></span>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold">Actual: <span class="cash-up-header">{{CASHUP.TOTAL_CASH=((SELECT_CURRENCY_MAIN )| total:'TOTAL_CASH')| number:2}}</span></span>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_CASH!=0}">Variance: <span class="cash-up-header">{{ CASHUP.VARIANCE_CASH=(CASHUP.EPOS_DATA | filter:{"MEDIA":"Cash"})[0].SALES_AMT*1 - CASHUP.TOTAL_CASH*1 |number:2}}</span></span>
                </li>
            </ul>
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col d-flex" ng-class="{'custom-scrollbar mx-height-420':SELECT_CURRENCY_MAIN.length>1}">
                <div class="col" ng-repeat="VAL in SELECT_CURRENCY_MAIN" ng-class="{'col-md-4':SELECT_CURRENCY_MAIN.length>3}">
                    <table class="table table-striped">
                        <thead class="table-tr-fixed">
                            <tr>
                                <th colspan="5" class="text-nowrap height-54">
                                    <span class="d-inline-flex mt-currency">Currency ({{VAL.CURRENCY_CODE}})</span>
                                    <div class="form-inline text-nowrap float-right">
                                        <span ng-show="VAL.FLAG==false">
                                            <span>1 {{VAL.CURRENCY_CODE}} =</span>
                                            <input type="text" class="form-control form-control-sm ml-1" style="width:50px; height:25px" only-digits ng-model="VAL.CONVERSION_RATE" />
                                            <span> {{BASE_CURRENCY.split(':')[1]}}</span>
                                            <button type="button" class="btn btn-wenodo p-0 px-2 ml-2" data-toggle="tooltip" data-html="true" data-original-title="Save" ng-click="INS_FLOT_CASH_CURRENCY_CONVERTER(VAL);"><i class="far fa-save"></i></button>
                                        </span>
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <th width="15%"></th>
                                <th width="5%"> </th>
                                <th width="10%"> Quantity </th>
                                <th width="15%"></th>
                                <th class="border-right">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="FLOAT in VAL.DECLERATION_MASTER " ng-init="init_decleration_details(FLOAT, VAL)">
                                <td class="text-center" ng-if="!FLOAT.IS_PRECISION"> <span ng-bind-html="FLOAT.SYMBOL"></span>&nbsp;{{FLOAT.VALUE}}</td>
                                <td class="text-center" ng-if="FLOAT.IS_PRECISION">{{FLOAT.VALUE}}&nbsp;{{(FLOAT.PRECISION_SYMBOL | customSplitString)[1]}}</td>                              
                                <td class="text-center">x</td>
                                <td><input type="text" class="form-control form-control-sm" ng-model="FLOAT.QUANTITY" only-numbers></td>
                                <td class="text-center">=</td>                                
                                <td class="text-nowrap border-right">
                                    {{FLOAT.CUSTOM_CURRENCY_AMOUNT=FLOAT.VALUE*FLOAT.QUANTITY*FLOAT.MULTIPLICATION_FACTOR | number:2}}
                                    <small class="d-block" ng-show="VAL.FLAG==false"> (Base Currency: {{FLOAT.BRANCH_CURRENCY_AMOUNT=FLOAT.CUSTOM_CURRENCY_AMOUNT * VAL.CONVERSION_RATE | number:2}} {{BASE_CURRENCY.split(':')[1]}})</small>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot class="table-footer-fixed">
                            <tr>
                                <td colspan="5" class="text-nowrap text-right">
                                    <h6 class="text-bold">Total: 
                                        <span ng-if="VAL.FLAG==true">
                                            {{ VAL.TOTAL_CASH=((VAL.DECLERATION_MASTER )| total:'CUSTOM_CURRENCY_AMOUNT')| number:2 }} {{BASE_CURRENCY.split(':')[1]}}
                                        </span>
                                        <span ng-if="VAL.FLAG==false">
                                            {{ CASHUP.TOTAL_CASH_CURRENCYWISE=((VAL.DECLERATION_MASTER ) | total:'CUSTOM_CURRENCY_AMOUNT')| number:2 }} {{VAL.CURRENCY_CODE}} = {{ VAL.TOTAL_CASH=((VAL.DECLERATION_MASTER )| total:'BRANCH_CURRENCY_AMOUNT')| number:2 }} {{BASE_CURRENCY.split(':')[1]}}
                                        </span>
                                    </h6>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                    <div class="col-md-12 p-5" ng-show="CASHUP.TABLIST[2].FLAG==2">
                        <div class="form-group">
                            <label for="noteLayout" class="m-0">Total Cash:</label>
                            <input type="text" class="form-control" ng-model="CASHUP.TOTAL_CASH" only-digits>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 mt-3">
            <div class="form-group">
                <label for="noteLayout" class="m-0 pl-1">Comments :</label>
                <textarea class="form-control d-block" rows="4"
                          id="noteLayout"
                          placeholder="{{WRITE_A_COMMENT}}"
                          name="text"
                          ng-model="CASHUP.CASH_NOTES"
                          ng-blur="INS_UPD_CASHUP_HEADER_NOTES()"></textarea>
            </div>
        </div>
        <div class="col-md-12">
            <label for="noteLayout" class="border-bottom m-0 pl-1">Comments</label>
            <div class="text-center ng-isolate-scope" ng-show="CASH_NOTE_LIST.length==0"><div class="alert bg-custom-blue">{{NO_COMMENTS}}</div></div>
            <blockquote class="blockquote text-success text-sm" ng-repeat="FNL in CASH_NOTE_LIST" ng-init="NOTE_INIT(FNL)">
                <span class="float-right mb-2">
                    <a class="btn btn-w-default" ng-show="!FNL.IS_EDIT && FNL.IS_TIME_EDIT_FLAG" ng-click="EDIT_COMMENTS(FNL)"><i class="far fa-edit text-success"></i></a>
                    <a class="btn btn-w-default" ng-show="FNL.IS_EDIT" ng-click="SAVE_COMMENTS(FNL)"><i class="far fa-save text-success"></i></a>
                    <a class="btn btn-w-default" ng-show="FNL.IS_EDIT" ng-click="EDIT_CANCEL(FNL)"><i class="far fa-times text-danger"></i></a>
                    <!--<a class="btn btn-w-default"><i class="far fa-trash text-danger"></i></a>-->
                </span>
                <p class="text-success" ng-show="!FNL.IS_EDIT">{{FNL.NOTE}}</p>
                <textarea class="form-control d-block"
                          ng-show="FNL.IS_EDIT"
                          rows="2"
                          id="noteLayout"
                          placeholder="{{WRITE_A_COMMENT}}"
                          name="text"
                          ng-keyup="CHECK_EVENTS($event,FNL)"
                          ng-model="FNL.NOTE"></textarea>
                <div ng-show="FNL.IS_EDIT">
                    <span>Press Esc to Cancel</span>
                    <a ng-click="EDIT_CANCEL(FNL)" class="text-blue cursor-pointer">
                        Cancel
                    </a>
                </div>
                <footer class="blockquote-footer" ng-show="!FNL.IS_EDIT">
                    {{FNL.USER_NAME}},
                    <cite title="">{{FNL.USER_EMAIL}}</cite>
                    <br />
                    <cite class="ml-3">{{FNL.CREATED_DATE | date:'dd-MMM-yyyy HH:mm' }}</cite>
                    <div class="border-bottom"></div>
                </footer>
                <span class="semibold ml-3"
                      ng-show="FNL.IS_TIME_EDIT_FLAG">
                    Remaining time to edit this comment -
                    {{FNL.START_COUNTDOWN }}
                </span>
            </blockquote>
        </div>
    </div>
</div>
<div class="event-footer animated fadeInUp">
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-12 d-inline m-2 text-right">
                <!--<button class="btn btn-w-default btn-sm" ng-click="ShowDiv(GetPreviousStep())" ng-show="CASHUP.STEP_NO!=0"><i class="fa fa-angle-double-left"></i> Previous</button>-->
                <button class="btn btn-w-default btn-sm" ng-click="PreviousLink()"><i class="fa fa-angle-double-left"></i> Previous</button>
                <button class="btn btn-wenodo btn-sm" ng-click="NextLink('Cards')"><i class="fa fa-angle-double-right"></i> Continue</button>
                <!--<button class="btn btn-wenodo btn-sm" ng-click="UPD_CASHUP_HEADER_SUBMIT()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==0 || CashUp_Main_STATUS_ID==1 || CashUp_Main_STATUS_ID==5)"><i class="fa fa-angle-double-right"></i> Submit</button>
                <button class="btn btn-wenodo btn-sm" ng-click="APP_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Approve</button>
                <button class="btn btn-danger btn-sm" ng-click="REJ_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Return</button>-->
            </div>
        </div>
    </div>
</div>

