<div class="card-header bg-light-blue border-0 p-3">
    <h5 class="float-left heading-text">
        Welcome {{User_Name}}
    </h5>
    <div class="card-tools">
        <ul class="nav nav-pills ml-auto">
            <li class="nav-item" ng-show="false">
                <a href="#!/Hr_Cnt" class="btn btn-wenodo"> Contact HR</a>
            </li>
            <li class="nav-item" ng-show="CHECK_MODULE_ACCESS(3, 1) || CheckSubModuleAccess(48)">
                <div class="btn-group d-flex">
                    <!--<input class="form-control form-control-navbar" type="search" placeholder="Search Employee" aria-label="Search">-->
                    <angucomplete id="ex1"
                            placeholder="Search Employees" pause="100"
                                  selectedobject="selectedEmployee"
                                  localdata="EMPLOYEE_LIST"
                                  searchfields="code,name"
                                  titlefield="code,name"
                                  minlength="1"
                                  imagefield="image"
                                  inputclass="form-control border-radius-right"
                                  matchclass="highlight" />
                    <div class="input-group-append autocomplete-height">
                        <button class="btn btn-default border app-text border-radius-left" ng-click="SELECT_EMP_RESULT()">
                            <i class="fas fa-search fa-sm"></i>
                        </button>
                    </div>
                </div>
            </li>
            <li class="nav-item ml-2" ng-show="CheckSubModuleAccess(4)">
                <a ng-if="EMPLOYEE_ID!='null'" href="#!/EditProfile?EmpID={{EMPLOYEE_ID}}" class="btn btn-wenodo">Edit Profile</a>
            </li>
        </ul>
    </div>
</div>
<div class="card-body">
    <div class="row">
        <div class="col-md-4">
            <div class="bg-light-blue radius-50 fixed-height">
                <div class="card-body">

                    <h5 class="heading-text mt-1"><i class="fal fa-tasks app-text fa-lg"></i> Your tasks</h5>
                    <ul class="todo-list mt-3">
                        <li class="done cursor-pointer" ng-click="REDIRECT_INDEX(1)">
                            <a href="#!/Reminders">Reminders</a>
                            <span class="float-right">
                                <small class="indexing">{{YOUR_TASKS.REMINDER}}</small>
                            </span>
                        </li>
                        <li class="done cursor-pointer" ng-click="REDIRECT_INDEX(2)">
                            Approvals
                            <span class="float-right">
                                <small class="indexing">{{YOUR_TASKS.APPROVALS}}</small>
                            </span>
                        </li>
                        <li class="done cursor-pointer" ng-click="REDIRECT_INDEX(3)" ng-if="false">
                            To Do
                            <span class="float-right">
                                <small class="indexing">{{YOUR_TASKS.TODO}}</small>
                            </span>
                        </li>
                        <li class="done cursor-pointer" ng-click="REDIRECT_INDEX(4)">
                            My Requests
                            <span class="float-right">
                                <small class="indexing">{{YOUR_TASKS.REQUEST}}</small>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="bg-light-blue radius-50 fixed-height">
                <div class="card-body">
                    <h5 class="heading-text mt-1 mb-3"><i class="fal fa-users app-text fa-lg"></i> Your Org <span class="float-right font-14 mt-1"><a href="#!/team?FLG=0" ng-show="false">See all <i class="fal fa-chevron-right fa-lg"></i></a></span></h5>
                    <div class="row mb-3 text-center">
                        <div class="col cursor-pointer" ng-click="ON_CLICK_ORG(1)">
                            <img src="../../E_Content/images/add-department.png" class="img-fluid add-team-icon" width="40"><span class="text-bold d-block text-nowrap mt-1 font-12">{{COUNT_LIST[0].DEPARTMENT_COUNT==null?0:COUNT_LIST[0].DEPARTMENT_COUNT}} Department(s)</span>
                        </div>
                        <div class="col cursor-pointer" ng-click="ON_CLICK_ORG(2)"><img src="../../E_Content/images/add-position.png" class="img-fluid add-team-icon" width="40"><span class="text-bold d-block text-nowrap mt-1 font-12">{{COUNT_LIST[0].POSITION_COUNT==null?0:COUNT_LIST[0].POSITION_COUNT}} Position(s)</span></div>
                        <div class="col cursor-pointer" ng-click="ON_CLICK_ORG(3)"><img src="../../E_Content/images/add-employee.png" class="img-fluid add-team-icon" width="40"><span class="text-bold d-block text-nowrap mt-1 font-12">{{COUNT_LIST[0].EMPLOYEE_COUNT==null?0:COUNT_LIST[0].EMPLOYEE_COUNT}} Employee(s)</span></div>
                    </div>
                    <!--<p class="app-text lh-40">
        You have  employees in your team
    </p>-->
                    <a href="#!/Addteam" class="btn btn-w-default-lg btn-block">View Details</a>
                    <!--<a href="#!/Addteam" class="btn btn-w-default-lg btn-block">View Details</a>
    <a href="#!/team?FLG=1" class="btn btn-w-default-lg btn-block">View all employees</a>-->
                    <!--<a href="#!/Addteam" class="btn btn-wenodo-lg btn-block mt-3"><span class="float-left"><i class="fal fa-plus fa-lg"></i></span>Add</a>-->
                    <button type="button" ng-show="IS_DEP || IS_POS || IS_EMP || IS_INV" class="btn btn-wenodo mt-3 btn-block dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="float-left"><i class="fal fa-plus"></i></span> Add
                    </button>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-ar  row text-sm w-80">
                        <a ng-if="CHECK_MODULE_ACCESS(1,2)?IS_DEP=true:IS_DEP=false" ng-show="!IS_DEPARTMENT_FLAG" class="dropdown-item" href="#!/Adddepartment">Add Department</a>
                        <a ng-if="CHECK_MODULE_ACCESS(2,2)?IS_POS=true:IS_POS=false" ng-show="!IS_POSITION_FLAG" class="dropdown-item" href="#!/Addposition">Add Position</a>
                        <a ng-if="CHECK_MODULE_ACCESS(3,2)?IS_EMP=true:IS_EMP=false" class="dropdown-item" href="#!/Addemployee">Add Employee</a>
                        <a ng-if="CHECK_MODULE_ACCESS(45,2)?IS_INV=true:IS_INV=false" class="dropdown-item" href="#!/AddApplicant">Invite Applicant</a>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="bg-light-blue radius-50 fixed-height">
                <div class="card-body">
                    <h5 class="heading-text mt-1"><i class="fal fa-plane rotate-45 app-text fa-lg"></i> Annual Leave</h5>
                    <div class="row mt-2">
                        <div class="col-md-6">
                            <div class="bg-wenodo-dark-box">
                                <h4 class="text-bold mb-0">{{(COUNT_LIST[0].TOTAL_LEAVE==null?0:COUNT_LIST[0].TOTAL_LEAVE) | number:2}}</h4> <span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==1">days</span><span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==2">hours</span> of leave
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="bg-wenodo-dark-box">
                                <h4 class="text-bold mb-0">{{(COUNT_LIST[0].APPROVED_LEAVE==null?0:COUNT_LIST[0].APPROVED_LEAVE) | number:2}}</h4> <span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==1">days</span><span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==2">hours</span> taken
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="bg-wenodo-pink-box">
                                <h1 class="text-bold d-inline">{{(COUNT_LIST[0].REMAINING_LEAVE==null?0:COUNT_LIST[0].REMAINING_LEAVE) | number:2}}</h1> <span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==1">days</span><span ng-show="COUNT_LIST[0].ENTITLEMENT_UNIT_ID==2">hours</span> remaining
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-light-blue radius-50 mt-3">
        <div class="card-header border-0 pt-4 pb-0">
            <h3 class="text-bold app-text d-inline"><i class="fal fa-calendar-alt"></i> Team Calendar</h3>
            <div class="card-tools">
                <ul class="nav nav-pills ml-auto">
                    <li class="nav-item mr-3" ng-show="CheckSubModuleAccess(48)">
                        <div class="form-group mb-0">
                            <!--<select class="custom-select w-145">
                                <option value="" class="" selected="selected">-  Select -</option>
                                <option>Option 01</option>
                                <option>Option 02</option>
                                <option>Option 03</option>.
                            </select>-->
                               <select class="custom-select w-145" name="LEAVE_SEARCH"
                                            data-placeholder="Show Records"
                                            ng-model="LeaveSearch.ADMIN_FLAG"
                                            ng-change="GET_LEAVE_REQUEST_FOR_CALENDAR()"
                                            ng-options="TA.ID  as TA.NAME for TA in (TEAM_ARRAY)"></select>

                        </div>
                    </li>
                    <li class="nav-item mt-1">
                        <small class="indexing d-inline-block mr-3">{{PENDING_COUNT}}</small>
                        <a href="#!/PendingRequest?FLAG=2" class="app-text text-bold">Pending Requests</a>
                    </li>
                    <li class="nav-item" ng-show="CheckSubModuleAccess(6)">
                        <button type="button" class="btn btn-wenodo ml-4" ng-click="POP_LEAVE_MASTER_JS()"> Request Leave</button>
                    </li>
                </ul>
            </div>
        </div>
        <div class="text-center" ng-show="USERS_CALENDAR_LIST.length==0" empty-grid>
        </div>
        <!--<div class="" style="display:{{overlay_loading}}!important"></div>-->
        <div class="card-body table-calendar " ng-show="USERS_CALENDAR_LIST.length>0" >
            
                <div class="col-d-12 bg-wenodo-dark calender-header">
                    <div class="row d-flex">
                        <div class="col-md-2 col-sm-4 text-left" ng-click="PREVIOUS_WEEK()"><a href=""><h6 class="mb-0 mt-1"><i class="fal fa-chevron-left"></i> Previous week</h6></a></div>
                        <div class="col-md-8 col-sm-4 text-center">
                            <h4 class="mb-0">
                                {{LeaveSearch.START_DATE | date}} - {{LeaveSearch.END_DATE | date}}
                            </h4>
                        </div>
                        <div class="col-md-2 col-sm-4 text-right" ng-click="NEXT_WEEK()"><a href=""><h6 class="mb-0 mt-1"> Next week <i class="fal fa-chevron-right"></i></h6></a></div>
                    </div>
                </div>
            <div class="overlay_loading_div" id="overlay_loading_div" style="display:{{overlay_loading_div}}!important">
                <table class="table table-bordered table-striped" id="LOADER_ID">
                    <thead>
                        <tr>
                            <th class="day-name">Employee Name</th>
                            <th style="width:10%" class="day-name">Mon</th>
                            <th style="width:10%" class="day-name">Tue</th>
                            <th style="width:10%" class="day-name">Wed</th>
                            <th style="width:10%" class="day-name">Thu</th>
                            <th style="width:10%" class="day-name">Fri</th>
                            <th style="width:10%" class="day-name">Sat</th>
                            <th style="width:10%" class="day-name">Sun</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="day app-text"></td>
                            <td align="center" ng-repeat="Dt in dayOfWeekNamesShort">
                                <span class="app-text">
                                    {{Dt.Days}}
                                </span>
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-repeat="CL in USERS_CALENDAR_LIST" ng-init="nginitusercalendarlist(CL)">
                        <tr>
                            <td>
                                <span class="employee_name">
                                    <img ng-show="CL.IMAGE_PATH==null" src="../dist/img/user1-128x128.jpg" class="img-size-32 mr-1 img-circle">
                                    <img ng-show="CL.IMAGE_PATH!=null" src="{{CL.IMAGE_PATH}}" class="img-size-20 mr-1 img-circle">{{CL.EMPLOYEE_NAME}}
                                    <!--| limitTo : 8-->
                                </span>
                            </td>
                            <td class="day" ng-repeat="week in CL.dayOfWeekNamesShort" ng-init="nginitdayOfWeekNamesShort(week,$index,CL);week.last=$last">
                                <div style="display: contents;" ng-repeat="Lev in week.USER_LEAVE" ng-init="Lev.last=$last">
                                    <span ng-show="CL.Leavestartday==Lev.Days && Lev.IS_CURRENT || CL.Leavestartday!=Lev.Days && Lev.IS_CURRENT"
                                          ng-click="EMPLOYEE_LEAVE_DETAILS(CL,Lev)"
                                          style="height:24px;z-index:1;width:{{CL.Leaveendday==Lev.Days || week.last?'10%':'9.9%'}} ; position:absolute;padding-bottom:1px;background-color:#{{Lev.ABSENCE_COLOR_CODE}}!important"
                                          class="event event-pending  d-block">
                                    </span>
                                    <!--ng-style="CL.Leavestartday==Lev.Days && Lev.IS_CURRENT && {'width':$last?'10%':'12%'} || CL.Leavestartday!=Lev.Days && Lev.IS_CURRENT && {'width':$last?'10%':'12%'}"-->
                                    <!--<span ng-if=""
                                  style="width:{{$last?'12%':'11.5%'}};margin-left: -18px;position:absolute;padding-bottom: 1px;height:24px;background-color:#{{CL.ABSENCE_COLOR_CODE}}!important"
                                  class="event event-pending d-block">
                            </span>-->
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="col-md-12 mt-3">
                    <div class="row">
                        <div class="col event-desc">
                            <div class="row">
                                <div class="d-flex" ng-repeat="ABT in ABSENCE_TYPE_ENTITLEMENT | unique:'ABSENCE_TYPE_NAME'"><span class="event-dots event-leave" style="background-color:#{{ABT.ABSENCE_COLOR_CODE}}"></span> <span class="events-text-bottom">{{ABT.ABSENCE_TYPE_NAME}}</span></div>
                            </div>
                        </div>
                        <div class="col-auto"><a href="#!/Calendar"><h6 class="text-bold"> See full calendar <i class="fal fa-chevron-right"></i></h6></a></div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

</div>


<div class="modal fade" id="leave_confirmation" aria-modal="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"> Absence request</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body custom-scrollbar height-450">
                <div class="row mt-2 ml-1">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Absence Type:</label>
                            <div class="input-group">
                                {{EMP_DTDS.ABSENCE_TYPE_NAME}}
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Start Date:</label>
                            <div class="input-group">
                                {{EMP_DTDS.START_DATE | date:'d/M/yyyy'}}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Start Time:</label>
                            <div class="input-group">
                                {{EMP_DTDS.START_DATE | date:'HH:mm:ss'}}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>End Date:</label>
                            <div class="input-group">
                                {{EMP_DTDS.END_DATE | date:'d/M/yyyy' }}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>End Time:</label>
                            <div class="input-group">
                                {{EMP_DTDS.END_DATE | date: 'HH:mm:ss'}}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Duration:</label>
                            <div class="input-group">
                                {{EMP_DTDS.DURATION_DAYS}}:{{EMP_DTDS.DURATION_HOURS}}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Note:</label>
                            <div class="input-group">
                                -
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Approval Status:</label>
                            <div class="input-group">
                                {{EMP_DTDS.STATUS_NAME}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div ng-repeat="LIST in [{'DATA':EMP_DTDS}]" ng-include="'../AngularViews/CommonView/FormLabelView.html?v=2136564{{AppVersion}}'"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
