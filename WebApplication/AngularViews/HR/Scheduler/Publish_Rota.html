<div class="col-md-12 text-sm mt-2" ng-if="OVER_LAP_SHIFT_LIST.length>0">
    There are some overlapping shifts in rota. Please fixed  overlaped shifts to publish.
    <p class="mt-2 border"><b> Note:</b> Icon - <i class="fas fa-layer-group text-danger"></i> denote shifts with validation error </p>
</div>
<div class="col-md-12 text-sm mt-2" ng-if="IS_LOCK_FLAG && OVER_LAP_SHIFT_LIST.length==0">
    <p class="mt-2 border"><b> Note:</b> Icon - <i class="fas fa-lock text-danger"></i> <span class="text-danger text-bold"> Action restricted for locked dates </span></p>
</div>
<div ng-if="OVER_LAP_SHIFT_LIST.length==0">
    <div class="row">
        <div class="col-md-12 card-header">
            <!--<span class="d-block p-1" ng-class="{'bg-wenodo-blue':STEP_FLAG==1,'bg-wenodo-dark-blue':STEP_FLAG==2 || STEP_FLAG==3}"></span>-->
            <span class="text-bold app-text">1. Publish Type </span>
            <div class="card-tools font-12">
                Employees can only see shifts you publish.
            </div>
        </div>
        <div class="col-md-4" ng-if="false">
            <span class="d-block p-1" ng-class="{'bg-wenodo-blue':STEP_FLAG==2,'bg-wenodo-grey':STEP_FLAG==1,'bg-wenodo-dark-blue':STEP_FLAG==3}"></span>
            <p class="text-bold app-text mt-2">2. Areas </p>
        </div>
        <div class="col-md-4" ng-if="false">
            <span class="bg-wenodo-grey d-block p-1"></span>
            <p class="text-bold app-text mt-2">3. Notification </p>
        </div>
    </div>
    <div class="col-md-12 text-sm mt-2">
        <p ng-show="false">You can send employees a list of their published shifts by email, or choose not to notify them.</p>
    </div>
    <div class="row mt-3" ng-class="{'error':PublishShift_Form.submitted && PublishShift_Form.customRadio.$error.required}">
        <div class="col-md-6 ">
            <div class="form-group mb-0 p-3" ng-class="{'bg-light-grey':Section_Week_Search.PUBLISH_SHIFT==1}">
                <div class="custom-control custom-radio">
                    <input class="custom-control-input" type="radio" id="Updates_Only" required ng-model="Section_Week_Search.PUBLISH_SHIFT" value="1" name="customRadio">
                    <label for="Updates_Only" class="custom-control-label" data-toggle="tooltip" data-placement="bottom" data-original-title="Publish only newly created or altered shifts. Only employees whose shifts have changed will be notified.">
                        Publish Updates Only
                        <span class="d-block text-normal text-sm"></span>
                    </label>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group mb-0 p-3" ng-class="{'bg-light-grey':Section_Week_Search.PUBLISH_SHIFT==2}">
                <div class="custom-control custom-radio">
                    <input class="custom-control-input" type="radio" id="All_Shifts" required ng-model="Section_Week_Search.PUBLISH_SHIFT" value="2" name="customRadio">
                    <label for="All_Shifts" class="custom-control-label" data-toggle="tooltip" data-placement="bottom" data-original-title="Publish updates and re-publish existing shifts. All employees working this schedule will be notified.">
                        Publish All Shifts
                    </label>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <!--Area Section Start-->
    <div class="row card-header pt-0">
        <a class="form-control text-limitations custom-dropdown cursor-pointer w-20" data-toggle="dropdown" ng-show="false">
            <span id="dropdown_title">{{Section_Week_Search.DDL_BRANCH_TEXT}}</span>
            <i class="fa fa-sort float-right mt-1"></i>
        </a>
        <ul ID="divNewNotifications" class="dropdown-menu dropdown-menu-arrow text-xs custom-scrollbar w-50" ng-show="false">
            <li class="sticky-top bg-white">
                <input type="text" class="form-control" ng-model="Section_Week_Search.searchBranchText" />
            </li>
            <li class="pl-4 py-2 DontHideOnClick" ng-click="ON_BRANCH_ALL_CLICK()">
                <i class="far fa-lg" ng-class="{'fa-check-square green':Section_Week_Search.BRANCHALL,'fa-square':!Section_Week_Search.BRANCHALL}"></i>
                <span class="font-12 ml-2">Select All</span>
            </li>
            <li class="pl-4 py-2 DontHideOnClick"
                ng-click="ON_BRANCH_LINE_CLICK(DPT)"
                ng-repeat="DPT in BRANCH_ROTA_LIST | filter:{DISPLAY_TEXT:Section_Week_Search.searchBRANCHText}">
                <i class="far fa-square fa-lg" ng-class="{'fa-check-square green':DPT.IS_CHECK_BRANCH,'fa-square':!DPT.IS_CHECK_BRANCH}"></i>
                <span class="font-12 ml-2">{{DPT.BRANCH_NAME}}</span>
            </li>
            <li class="sticky-bottom bg-white">
                <button ng-click="ON_BRANCH_SELECT_CLICK()" class="btn btn-xs btn-wenodo">Apply</button>
                <button ng-click="ON_BRANCH_RESET_CLICK()" class="btn btn-xs btn-w-default">Reset</button>
            </li>
        </ul>
        <span class="text-bold app-text">2. Select Branch </span>
        <div class="ml-auto text-sm">
            <div class="row">
                <div class="col-auto">Select:</div>
                <div class="col-auto" ng-click="PUBLISH_SECTION_CLICK(1)"><a class="cursor-pointer text-blue">All</a></div>
                <div class="col-auto" ng-click="PUBLISH_SECTION_CLICK(2)"><a class="cursor-pointer text-blue">None</a></div>
                <div class="col-auto" ng-click="PUBLISH_SECTION_CLICK(3)"><a class="cursor-pointer text-blue">Inverse</a></div>
            </div>
        </div>
    </div>
    <div class="card" ng-repeat="BR in BRANCH_PUBLISH_LIST">
        <div class="card-header text-uppercase">
            <span ng-show="false">{{BR.Brchindex=$index}}</span>
            <h5 class="card-title font-14" ng-show="false">{{BR.BRANCH_NAME}}</h5>
            <div class="form-group mb-0">
                <div class="custom-control custom-checkbox">
                    <input class="custom-control-input"
                           type="checkbox"
                           id="customCheckbox{{$index}}"
                           ng-change="BRACNH_CHANGE(BR)"
                           ng-model="BR.IS_BR_SELECTED"
                           ng-value="BR.IS_BR_SELECTED">
                    <label for="customCheckbox{{$index}}" class="custom-control-label text-uppercase pt-1">{{BR.BRANCH_NAME}}</label>
                    <span ng-show="false">
                        {{((SECTIONS_PUBLISH_LIST | filter:{'BRANCH_ID':BR.BRANCH_ID}) | filter:{'IS_CHECK_SECTION_SHIFT':true}).length<(SECTIONS_PUBLISH_LIST | filter:{'BRANCH_ID':BR.BRANCH_ID}).length?BR.IS_BR_SELECTED=false:BR.IS_BR_SELECTED=true}}
                    </span>
                </div>
            </div>
        </div>
        <div class="card-body py-1" ng-show="BR.SECTION_ID != null">
            <label>Sections</label>
            <div class="row">
                <div class="col-md-4" ng-repeat="Section in SECTIONS_PUBLISH_LIST  | orderBy:'DEPARTMENT_NAME' | filter:{'BRANCH_ID':BR.BRANCH_ID}"
                     ng-show="Section.BRANCH_ID==BR.BRANCH_ID">
                    <div class="form-group">
                        <div class="custom-control custom-checkbox">
                            <input class="custom-control-input"
                                   type="checkbox"
                                   ng-change="SECTION_CHANGE(Section)"
                                   id="PubcustomCheckbox{{$index+1}}{{BR.Brchindex+1}}"
                                   ng-model="Section.IS_CHECK_SECTION_SHIFT"
                                   ng-value="Section.IS_CHECK_SECTION_SHIFT">
                            <label for="PubcustomCheckbox{{$index+1}}{{BR.Brchindex+1}}" class="custom-control-label text-normal text-uppercase pt-1">
                                <i class="fas fa-square" style="color:#{{Section.SECTION_COLOR}}"></i> {{Section.DISPLAY_TEXT}}
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>