<style>
    .ui-timepicker-container {
        z-index: 3500 !important;
    }
</style>


<div class="row g-1 responsive-rota sticky_rota_header">
    <div class="col-xxl-auto col-xl-auto col-md-auto ipad_search">
        <input type="text"
               autocomplete="off"
               name="search"
               ng-model="SEARCH_EMPLOYEE"
               placeholder="Search"
               maxlength="50"
               class="mb-2" ng-change="FILTER_EMPLOYEE_SHIFTS_LIST()" />
    </div>
    <div class="col-xxl-auto col-xl-auto col-md-auto ms-auto">
        <input type="hidden"
               name="BRANCH_ID"
               required
               ng-model="ShiftEmpSearch.BRANCH_ID" />
        <ul class="nav nav-pills min-w-220 mb-2">
            <li class="dropdown w-100">
                <a class="text-limitations cursor-pointer" data-toggle="dropdown" aria-expanded="true">
                    <span class="select-label" id="select_label">
                        <span class="truncate-site">{{ShiftEmpSearch.CUSTOM_BRANCH_NAME}}</span>
                    </span>
                </a>

                <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                    <li class=""
                        ng-repeat="_branch in SCHEDULE_BRANCH_LIST"
                        ng-click="SELECTED_SCHEDULE_BRANCH_Fn(_branch, false)">
                        <span class="">{{_branch.BRANCH_NAME}}</span>
                    </li>
                </ul>

                <!--<ul ID="divNewNotifications" class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto" style="min-width:100%">
                    <li class="DontHideOnClick" ng-repeat="_branch in SCHEDULE_BRANCH_LIST">
                        <div class="form-check">
                            <input class="form-check-input"
                                   id="Site-{{$index}}"
                                   type="checkbox"
                                   prevent-double-click="2000"
                                   checked="">
                            <label class="form-check-label truncate text-nowrap" for="Site-{{$index}}">{{_branch.BRANCH_NAME}}</label>
                        </div>
                    </li>
                </ul>-->

            </li>
        </ul>
    </div>
    <div class="col-xxl-1 col-xl-1 col-md-1 ipad_group min-w-220">
        <ul class="nav nav-pills  mb-2">
            <li class="dropdown w-100">
                <a class="text-limitations cursor-pointer"
                   data-toggle="dropdown">
                    <span class="select-label text-nowrap" id="select_label">
                        <span class="font-secondary">Group by </span>
                        <span class="truncate_dropdown">
                            {{ShiftEmpSearch.GROUP_BY_VIEW_DISPALY_TEXT}}
                        </span>
                    </span>
                </a>
                <ul ID="divNewNotifications"
                    class="dropdown-menu  scrollbar-wrapper w-auto"
                    style="min-width:100%">
                    <li class="" ng-repeat="_group in GROUP_BY_LIST" ng-click="CLICK_GROUP_BY_VIEW_Fn(_group)">
                        <a class="txt-dark d-block text-nowrap">
                            <span class="font-secondary me-1">Group by</span>
                            {{_group.GROUP_NAME}}
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="col-xxl-auto col-xl-auto col-md-auto">
        <ul class="nav nav-pills min-w-130 mb-2">
            <li class="dropdown w-100">
                <a class="text-limitations cursor-pointer"
                   data-toggle="dropdown">
                    <span class="select-label" id="select_label">
                        <span class="truncate">{{ShiftEmpSearch.SHIFT_STATUS_VIEW_DISPALY_TEXT}}</span>
                    </span>
                </a>
                <ul ID="divNewNotifications"
                    class="dropdown-menu scrollbar-wrapper w-auto"
                    style="min-width:100%">
                    <li class="" ng-repeat="_status in SHIFTS_STATUS_LIST" ng-click="CLICK_SHIFT_STATUS_VIEW_Fn(_status)">
                        {{_status.STATUS_NAME}}
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="col-xxl-auto col-xl-auto col-md-auto" ng-show="false">
        <input type="hidden"
               ng-model="ShiftEmpSearch.VIEW_ID"
               name="VIEW_ID"
               required />
        <ul class="nav nav-pills min-w-120 mb-2">
            <li class="dropdown w-100">
                <a class="text-limitations cursor-pointer" data-toggle="dropdown" aria-expanded="true">
                    <span class="select-label" id="select_label">
                        {{ShiftEmpSearch.CUSTOM_VIEW_NAME}}
                    </span>
                </a>
                <ul ID="divNewNotifications"
                    class="dropdown-menu scrollbar-wrapper w-auto"
                    style="min-width:100%">
                    <li class=""
                        ng-click="SELECTED_VIEW_Fn(_view)"
                        ng-repeat="_view in VIEW_LIST">
                        <span class="">{{_view.VIEW_NAME}}</span>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <!-- Mar 11 - 17 -->
    <div class="col-xxl-2 col-xl-2 col-md-2" ng-show="ShiftEmpSearch.VIEW_ID == 2">
        <div class="input-group week_range_container mb-2" id="week-picker-wrapper">
            <div class="input-group-prepend">
                <button type="button" class="btn week-prev" click-once>
                    <i class="fas fa-chevron-left text-grey"></i>
                </button>
            </div>
            <input type="text" class="form-control week-picker week_range text-center" ng-class="{'week-picker-disabled':BTN_HIDE_WEEK_PICKER==0}" readonly placeholder="Select Week" />
            <div class="input-group-append">
                <button type="button" class="btn week-next" click-once>
                    <i class="fas fa-chevron-right text-grey"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="col-xxl-2 col-xl-2 col-md-2" ng-init="DateInputLoad('OPEN_ALL',0)" ng-show="ShiftEmpSearch.VIEW_ID == 1">
        <div class="date-column">
            <input type="text"
                   class="dateinputOpen mb-0 ng-dirty ng-valid-parse ng-touched ng-not-empty ng-valid ng-valid-required"
                   placeholder="DD/MM/YY"
                   name="START_DATE"
                   ng-model="START_DATE"
                   ng-change="CHANGE_VIEW_DATE_Fn(START_DATE)"
                   autocomplete="off"
                   aria-autocomplete="none"
                   required />
            <i class="date-icon fa-light fa-calendar" aria-hidden="true"></i>
        </div>
    </div>

    <!-- Exception View -->
    <div class="col-xxl-auto col-xl-auto col-md-auto" ng-show="CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1">
        <div class="media form-control mb-2">
            <label class="col-form-label m-r-10 text-grey" for="Exception_View">Exception View</label>
            <div class="media-body switch-sm ms-auto">
                <label class="switch">
                    <input type="checkbox" ng-model="EXCEPTION_VIEW" ng-change="VIEW_EXCEPTIONS(1)" id="Exception_View"><span class="switch-state"></span>
                </label>
            </div>
        </div>
    </div>

    <div class="col-xxl-auto col-xl-auto col-md-auto"
         ng-show="CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) !=1 && !EXCEPTION_VIEW"
         ng-click="SHOW_ACTUAL_TIME=!SHOW_ACTUAL_TIME">
        <button class="btn-timer-rota" ng-class="{'btn-timer-rota-enabled':SHOW_ACTUAL_TIME}" data-bs-toggle="tooltip" data-bs-original-title="Show Actual Time">
            <!--data-bs-target="#Timer" data-bs-toggle="modal"-->
            <i class="fa-light fa-clock fa-lg"></i>
        </button>
    </div>

    <div class="col-xxl-auto col-xl-auto col-md-auto">
        <div class="dropdown">
            <button class="btn-vertical-ellipsis" type="button" data-toggle="dropdown">
                <i class="fa-solid fa-ellipsis-vertical"></i>
            </button>

            <ul class="dropdown-menu dropdown-menu-right DontHideOnClick">
                <li class="p-0 DontHideOnClick" ng-show="false"><a class="dropdown-item d-block" data-bs-toggle="modal" data-bs-dismiss="modal" aria-label="Close"><i class="fa-light fa-clone me-2"></i>Copy Shifts</a></li>
                <li class="p-0 DontHideOnClick" ng-click="COPY_WEEK_SHIFT_Fn()"><a class="dropdown-item d-block"><i class="fa-light fa-clone me-2"></i>Copy Week</a></li>
                <li class="p-0 DontHideOnClick" ng-click="DELETE_MULTIPLE_SHIFTS_Fn(1)"><a class="dropdown-item d-block"><i class="fa-light fa-trash-can-clock me-2"></i>Delete Week</a></li>
                <li class="p-0 DontHideOnClick" ng-click="INS_UPD_USER_FILTERS_Fn()"><a class="dropdown-item d-block"><i class="fa-light fa-floppy-disks me-2"></i>Save Filter</a></li>
                <!--<li class="p-0 DontHideOnClick" ng-click="ADD_SHIFT_POPUP_Fn(1)"><a class="dropdown-item d-block"><i class="fa-light fa-bring-forward me-1"></i> Add Shifts</a></li>-->
                <li class="dropdown-submenu dropend p-0 DontHideOnClick">
                    <a class="dropdown-item DontHideOnClick" data-bs-target="#temp_dp" data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa-light fa-folder me-2"></i>Templates <i class="fa-light fa-chevron-right float-end mt-1"></i></a>
                    <ul class="dropdown-menu scrollbar-wrapper DontHideOnClick" id="temp_dp">
                        <li class="p-0 DontHideOnClick" ng-repeat="_shift in SHIFT_SCHDL_PIN_LIST" ng-click="SHOW_SHIFT_EDIT_POPUP_Fn(_shift.SHIFT_MASTER_ID)">
                            <a class="dropdown-item" style="max-width:275px;">
                                <span class="truncate d-inline-block">{{_shift.SHIFT_NAME}} </span>
                                <!--<i class="fa-light fa-thumbtack fa-sm float-end mt-2" ng-class="{'txt-primary':_shift.IS_PIN == true}" ng-click="HRM_SCHDL_INS_UPD_PIN_SHIFT_MASTER(_shift.SHIFT_MASTER_ID,!_shift.IS_PIN)"></i>-->
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="p-0 DontHideOnClick" ng-click="BULK_MANGAER_APPROVAL_Fn()"><a class="dropdown-item d-block"><i class="fa-light fa-bring-forward me-1"></i> Bulk Manage Approval</a></li>
                <li class="p-0 DontHideOnClick" ng-show="CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) == 1" data-bs-target="#delete_this_week" data-bs-toggle="modal" data-bs-dismiss="modal"><a class="dropdown-item d-block"><i class="fa-light fa-trash-can me-2"></i>Delete This Week</a></li>
                <li class="d-flex justify-content-around p-2 DontHideOnClick">
                    <button class="btn btn-outline text-nowrap me-2" ng-click="PRIN_PDF_SCHEDULE();">
                        <i class="fa-light fa-cloud-arrow-down"></i>
                        PDF
                    </button>
                    <button class="btn btn-outline text-nowrap DontHideOnClick" ng-click="HRM_GET_SCHDLS_FOR_EXCEL()">
                        <i class="fa-light fa-arrow-down"></i>
                        Excel
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <div class="col-xxl-auto col-xl-auto col-md-auto">

        <button class="btn btn-primary" ng-click="PUBLISH_MULTI_SHIFTS_Fn()">Publish</button>
    </div>
    <div class="col-xxl-auto col-xl-auto col-md-auto" ng-show="CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && SHOW_APPROVALS">
        <button class="btn btn-light-success" ng-click="APPROVE_MULTI_SHIFT_Fn()">Approve</button>
    </div>
</div>
<!-- Card  -->
<div class="card" ng-style="SHOW_TOTALS && {'margin-bottom':'325px'}">
    <!-- Card header -->
    <div class="card-header px-2 py-1 sticky_header" ng-show="!EXCEPTION_VIEW">
        <div class="row flex-nowrap scrollbar-wrapper g-2">
            <div class="col-xxl-auto col-xl-auto col-md-auto res_shift_col">
                <button class="btn text-nowrap btn_rota_shifts" data-bs-toggle="modal" ng-click="SHOW_SHIFT_POPUP_Fn()">
                    <i class="fa-light fa-plus me-2"></i>
                    Add Shift Templates
                </button>
            </div>
            <div class="col-xxl-auto col-xl-auto col-md-auto res_shift_col" ng-repeat="_shift in SHIFT_SCHDL_PIN_LIST" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_shift, 0)">
                <div class="template-container unpublished">
                    <div class="d-flex align-items-center justify-content-between">
                        <span class="inner_child_container w-100">
                            <span class="truncate-rota">{{_shift.SHIFT_NAME}}</span>
                            <i class="fa-light fa-edit fa-lg text-grey ms-auto me-1 c-pointer" ng-click="SHOW_SHIFT_EDIT_POPUP_Fn(_shift.SHIFT_MASTER_ID)"></i>
                        </span>
                        <i class="fa-light fa-thumbtack fa-lg pin_icon" ng-class="{'d-block txt-danger':_shift.IS_PIN == true}" ng-click="HRM_SCHDL_INS_UPD_PIN_SHIFT_MASTER(_shift.SHIFT_MASTER_ID,!_shift.IS_PIN)"></i>
                    </div>
                    <span class="d-block text-grey">{{ConvertTimeToAM_PM(_shift.START_TIME) }} - {{ConvertTimeToAM_PM(_shift.END_TIME)}}</span>
                </div>
            </div>
        </div>
    </div>
    <!-- Card body week view -->
    <div class="card-body p-0" ng-show="ShiftEmpSearch.VIEW_ID == 2">
        <div class="col-xxl-12 col-xl-12 col-md-12 sticky_row" ng-class="{'exception_view':EXCEPTION_VIEW}">
            <div class="row align-items-center px-2 py-1" ng-show="selected_employee_count>0">
                <div class="col-xxl col-xl col-md d-flex align-items-center">
                    {{selected_employee_count}} Selected
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto ms-auto">
                    <button class="btn btn-outline" ng-click="CANCEL_CHECKED_SHIFT_Fn()">Cancel</button>
                    <button class="btn btn-outline txt-danger" ng-click="DELETE_MULTIPLE_SHIFTS_Fn()">Delete</button>
                    <button class="btn btn-outline" ng-click="COPY_DAY_SHIFT_Fn()">Copy</button>
                    <!--<button class="btn btn-outline">Unpublish</button>-->
                </div>
            </div>
        </div>
        <div class="scrollbar-wrapper-rota border-radius-parent mx-height-100" id="divSchedule">
            <div class="no-record" ng-show="EXCEPTION_VIEW && EMPLOYEE_SHIFTS_LIST.length==0">There are no exceptions to display.</div>
            <div class="row w-100 flex-nowrap g-0 custom-sticky-top_rota" ng-class="{'mt-2':!$first,'unchecked':selected_employee_count==0,'checked':selected_employee_count!=0,'exception_view':EXCEPTION_VIEW}" ng-repeat-start="_employeeShift in EMPLOYEE_SHIFTS_LIST"
                 ng-init="ng_initemployeeshifts(_employeeShift)" ng-if="_employeeShift.GROUP_BY_ID!=0 && _employeeShift.SECONDARY_GROUP_BY_ID==0 && _employeeShift.Footer.length==0">
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-primary-rota bg-light-gray" ng-class="{'exception_border':EXCEPTION_VIEW}">
                    <div class="employees-container-rota b-t-r-l-6 justify-content-start">
                        <a class="me-3 HIDEINPDF">
                            <i class="fa-light txt-primary" ng-class="{'fa-square-plus':  _employeeShift.HIDE_ROWS, 'fa-square-minus': !_employeeShift.HIDE_ROWS}" ng-click="SHOW_HIDE_RECORDS(_employeeShift,1)"></i>
                        </a>
                        <span class="text-spans-main text-nowrap truncate">
                            <i ng-show="EXCEPTION_VIEW" ng-class="{'fa fa-eye-slash txt-danger':_employeeShift.GROUP_BY_NAME=='No Show', 'fa fa-triangle-exclamation txt-orange':_employeeShift.GROUP_BY_NAME=='Clock In & Out Variance'}"></i> {{_employeeShift.GROUP_BY_NAME}} <span class="text-spans-mini">({{_employeeShift.EMPLOYEECOUNT}})</span>
                        </span>
                        <button class="btn-plus-rota txt-primary ms-auto" data-bs-target="#add_employee" data-bs-toggle="modal" ng-show="false">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto sm-heading-rota">Shifts</div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota text-nowrap" ng-repeat="_employeeShiftDate in  _employeeShift.EMPLOYEE_SHIFTS_DATES">
                    <div class="w-100">
                        <label class="form-check-label ipad_rota_labels" for="header_check_{{$index}}">{{_employeeShiftDate.DATE | date:'EEE, MMM dd'}}</label>
                        <input class="form-check-input float-end me-2 HIDEINPDF"
                               type="checkbox"
                               id="header_check_{{$index}}"
                               ng-model="_employeeShiftDate.IS_SELECTED"
                               ng-change="DATE_WISE_SHIFT_CHECK_Fn($index, _employeeShift.GROUP_BY_ID)">
                    </div>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto sm-heading-rota">Hours</div>
                <div class="col-xxl-auto col-xl-auto col-md-auto sm-heading-rota b-t-r-r-6" ng-show="HIDE_COST_HOURS && HIDE_COST">Cost</div>
            </div>
            <div class="row flex-nowrap g-0 dropdownContentGroup1" ng-if="_employeeShift.GROUP_BY_ID==-1 && _employeeShift.SECONDARY_GROUP_BY_ID!=0" name="GROUPBY_{{_employeeShift.PARENT_ID}}">
                <div class="col-xxl-2 col-xl-2 col-md-2 heading-primary-rota bg-light-warning">
                    <div class="dropdown-container-rota">
                        <span class="truncate-rota ms-4">{{_employeeShift.SECONDARY_GROUP_BY_NAME}}</span>
                        <a class="btn-toggle-dropdown-nested text-gray c-pointer" data-target="dropdownContentGroupNested1">
                            <i class="fa-solid" ng-class="{' fa-chevron-down':  _employeeShift.HIDE_ROWS, ' fa-chevron-up': !_employeeShift.HIDE_ROWS}" ng-click="SHOW_HIDE_RECORDS(_employeeShift,2)"></i>
                        </a>
                    </div>
                </div>
                <div class="col-xxl-10 col-xl-10 col-md-10 bg-light-warning border-bottom-right-radius depart_width"></div>
            </div>

            <div class="row w-100 flex-nowrap d-flex g-0 SECONDARYGROUPBY_{{_employeeShift.SECONDARY_PARENT_ID}}" ng-show="_employeeShift.GROUP_BY_ID==0" name="GROUPBY_{{_employeeShift.PARENT_ID}}">

                <span ng-show="false"> {{_employeeShift.EMP_INDEX=$index}}</span>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-primary-rota d-flex bg-light-gray">
                    <div class="dropdown-container-rota-secondary" ng-init="_employeeShift.IS_SELECTED = false">
                        <input class="form-check-input HIDEINPDF"
                               id="employee_shift_{{$index}}"
                               type="checkbox"
                               value=""
                               ng-model="_employeeShift.IS_SELECTED"
                               ng-change="EMPLOYEE_WISE_SHIFT_CHECK_Fn(_employeeShift)" />
                        <!--<img class="profile_pic" src="E_Content/images/HR/adam.png" alt="Profile Image" />-->
                        <!--<label class="form-check-label" for="employee_shift_{{$index}}">
                            <span class="text_avatar_36 ms-2">{{_employeeShift.SHORT_NAME}}</span>
                        </label>-->
                        <label class="w-100 ms-3" for="employee_shift_{{$index}}">
                            <span class="text_truncate_schedule">{{_employeeShift.EMPLOYEE_NAME}}</span>
                            <span class="e_position text_truncate_schedule">{{_employeeShift.PRIMARY_POSITION}}</span>
                        </label>
                    </div>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto sm-heading-rota text-nowrap">{{_employeeShift.SHIFT_COUNT | number:2}}</div>
                <!--day 0-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day0_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day0_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day0_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 0,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day0_shift_item in _employeeShift.day0_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day0_shift_item, 1)" on-finish-render="ngRepeatFinishedequalizerRender"
                         ng-class="{'unpublished':(_day0_shift_item.STATUS_ID == 91 || (_day0_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day0_shift_item.IS_UNAVAILABLE  &&  !_day0_shift_item.NOSHOW
                                   ,'published':(_day0_shift_item.STATUS_ID == 92 || (_day0_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day0_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day0_shift_item.NOSHOW && !_day0_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day0_shift_item.IS_UNAVAILABLE || (EXCEPTION_VIEW && _day0_shift_item.IS_ON_LEAVE)) && (!_day0_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         ng-show="_employeeShift.day0_shift_count>0">

                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="false">{{_day0_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day0_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day0_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>

                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day0_shift_item.STATUS_ID == 91 && !_day0_shift_item.IS_UNAVAILABLE &&  !_day0_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day0_shift_item.STATUS_ID == 92 && !_day0_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day0_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger': EXCEPTION_VIEW && _day0_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day0_shift_item.IS_UNAVAILABLE && !EXCEPTION_VIEW
                               ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day0_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day0_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day0_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day0_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day0_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day0_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day0_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day0_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day0_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day0_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day0_shift_item.CLOCKING_VARIANCE && !_day0_shift_item.IS_ON_LEAVE)">{{_day0_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day0_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day0_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day0_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2, 0,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day0_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day0_shift_item.SCHDL_SHIFT_ID,_day0_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day0_shift_item.SCHDL_SHIFT_ID,_day0_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day0_shift_item.SCHDL_SHIFT_ID,0,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day0_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day0_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day0_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day0_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day0_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day0_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day0_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day0_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day0_shift_item.STATUS_ID == 93 && _day0_shift_item.SHOW_APPROVALS" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day0_shift_item.SCHDL_SHIFT_ID,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day0_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day0_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day0_shift_item.POSITION_NAME}}</span>

                            <span ng-show="_day0_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day0_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day0_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day0_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day0_shift_item,0,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" data-bs-toggle="modal" ng-show="_employeeShift.day0_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2,0,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day0_IS_ON_LEAVE!=0|| _employeeShift.day0_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day0_shift_count==0 && _employeeShift.day0_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day0_shift_count==0 && _employeeShift.day0_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day0_shift_count==0 && _employeeShift.day0_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype ">{{_employeeShift.day0_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day0_shift_count==0 && _employeeShift.day0_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 1-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day1_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day1_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day1_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 1,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day1_shift_item in _employeeShift.day1_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day1_shift_item, 1)"
                         ng-class="{'unpublished':(_day1_shift_item.STATUS_ID == 91 || (_day1_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day1_shift_item.IS_UNAVAILABLE  &&  !_day1_shift_item.NOSHOW
                                   ,'published':(_day1_shift_item.STATUS_ID == 92 || (_day1_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day1_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day1_shift_item.NOSHOW && !_day1_shift_item.CLOCKING_VARIANCE
                                   ,'holiday': (_day1_shift_item.IS_UNAVAILABLE || (EXCEPTION_VIEW && _day1_shift_item.IS_ON_LEAVE)) && (!_day1_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         ng-show="_employeeShift.day1_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="false">{{_day1_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day1_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day1_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>
                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day1_shift_item.STATUS_ID == 91 && !_day1_shift_item.IS_UNAVAILABLE &&  !_day1_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day1_shift_item.STATUS_ID == 92 && !_day1_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day1_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger': EXCEPTION_VIEW && _day1_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day1_shift_item.IS_UNAVAILABLE && !EXCEPTION_VIEW
                               ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day1_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day1_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day1_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day1_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day1_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day1_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day1_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day1_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day1_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day1_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day1_shift_item.CLOCKING_VARIANCE && !_day1_shift_item.IS_ON_LEAVE)">{{_day1_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day1_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day1_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day1_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2, 1,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day1_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day1_shift_item.SCHDL_SHIFT_ID,_day1_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day1_shift_item.SCHDL_SHIFT_ID,_day1_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day1_shift_item.SCHDL_SHIFT_ID,1,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day1_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day1_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day1_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day1_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day1_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day1_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day1_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day1_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day1_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day1_shift_item.SCHDL_SHIFT_ID ,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day1_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day1_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day1_shift_item.POSITION_NAME}}</span>

                            <span ng-show="_day1_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day1_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day1_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day1_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day1_shift_item,1,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day1_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2, 1,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day1_IS_ON_LEAVE!=0|| _employeeShift.day1_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day1_shift_count==0 && _employeeShift.day1_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day1_shift_count==0 && _employeeShift.day1_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day1_shift_count==0 && _employeeShift.day1_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day1_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day1_shift_count==0 && _employeeShift.day1_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 2-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day2_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day2_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day2_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 2,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift"
                         ng-repeat="_day2_shift_item in _employeeShift.day2_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day2_shift_item, 1)"
                         ng-class="{'unpublished':(_day2_shift_item.STATUS_ID == 91 || (_day2_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day2_shift_item.IS_UNAVAILABLE
                                   ,'published':(_day2_shift_item.STATUS_ID == 92 || (_day2_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day2_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day2_shift_item.NOSHOW && !_day2_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day2_shift_item.IS_UNAVAILABLE ||  (EXCEPTION_VIEW && _day2_shift_item.IS_ON_LEAVE)) && (!_day2_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         ng-show="_employeeShift.day2_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="false">{{_day2_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day2_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day2_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>

                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day2_shift_item.STATUS_ID == 91 && !_day2_shift_item.IS_UNAVAILABLE &&  !_day2_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day2_shift_item.STATUS_ID == 92 && !_day2_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day2_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger':EXCEPTION_VIEW && _day2_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day2_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                               ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day2_shift_item.CLOCKING_VARIANCE
                                ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day2_shift_item.IS_ON_LEAVE
                                         }">

                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day2_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day2_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day2_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day2_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day2_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day2_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day2_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day2_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day2_shift_item.CLOCKING_VARIANCE && !_day2_shift_item.IS_ON_LEAVE)">{{_day2_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day2_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day2_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day2_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2, 2,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day2_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day2_shift_item.SCHDL_SHIFT_ID,_day2_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day2_shift_item.SCHDL_SHIFT_ID,_day2_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day2_shift_item.SCHDL_SHIFT_ID,2,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day2_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day2_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day2_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day2_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day2_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day2_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day2_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day2_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day2_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day2_shift_item.SCHDL_SHIFT_ID ,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day2_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day2_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day2_shift_item.POSITION_NAME}}</span>
                            <span ng-show="_day2_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day2_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day2_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day2_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day2_shift_item,2,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day2_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2, 2,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day2_IS_ON_LEAVE!=0|| _employeeShift.day2_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day2_shift_count==0 && _employeeShift.day2_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day2_shift_count==0 && _employeeShift.day2_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day2_shift_count==0 && _employeeShift.day2_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day2_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day2_shift_count==0 && _employeeShift.day2_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 3-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day3_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day3_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day3_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 3,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day3_shift_item in _employeeShift.day3_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day3_shift_item, 1)"
                         ng-class="{'unpublished':(_day3_shift_item.STATUS_ID == 91 || (_day3_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day3_shift_item.IS_UNAVAILABLE  &&  !_day3_shift_item.NOSHOW
                                   ,'published':(_day3_shift_item.STATUS_ID == 92 || (_day3_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day3_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day3_shift_item.NOSHOW && !_day3_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day3_shift_item.IS_UNAVAILABLE ||  (EXCEPTION_VIEW && _day3_shift_item.IS_ON_LEAVE)) && (!_day3_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         ng-show="_employeeShift.day3_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="false">{{_day3_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day3_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day3_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>

                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day3_shift_item.STATUS_ID == 91 && !_day3_shift_item.IS_UNAVAILABLE &&  !_day3_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day3_shift_item.STATUS_ID == 92 && !_day3_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day3_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger':EXCEPTION_VIEW &&  _day3_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day3_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                               ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day3_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day3_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day3_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day3_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day3_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day3_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day3_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day3_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day3_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day3_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day3_shift_item.CLOCKING_VARIANCE && !_day3_shift_item.IS_ON_LEAVE)">{{_day3_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day3_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day3_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day3_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2, 3,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day3_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day3_shift_item.SCHDL_SHIFT_ID,_day3_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day3_shift_item.SCHDL_SHIFT_ID,_day3_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day3_shift_item.SCHDL_SHIFT_ID,3,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day3_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day3_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day3_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day3_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day3_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day3_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day3_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day3_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day3_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day3_shift_item.SCHDL_SHIFT_ID,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day3_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day3_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day3_shift_item.POSITION_NAME}}</span>
                            <span ng-show=" _day3_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day3_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day3_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day3_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day3_shift_item,3,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day3_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2,3,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day3_IS_ON_LEAVE!=0|| _employeeShift.day3_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day3_shift_count==0 && _employeeShift.day3_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day3_shift_count==0 && _employeeShift.day3_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day3_shift_count==0 && _employeeShift.day3_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day3_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day3_shift_count==0 && _employeeShift.day3_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 4-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day4_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day4_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day4_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 4,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day4_shift_item in _employeeShift.day4_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day4_shift_item, 1)"
                         ng-class="{'unpublished':(_day4_shift_item.STATUS_ID == 91 || (_day4_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day4_shift_item.IS_UNAVAILABLE  &&  !_day4_shift_item.NOSHOW
                                   ,'published':(_day4_shift_item.STATUS_ID == 92 || (_day4_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day4_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day4_shift_item.NOSHOW && !_day4_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day4_shift_item.IS_UNAVAILABLE ||  (EXCEPTION_VIEW && _day4_shift_item.IS_ON_LEAVE)) && (!_day4_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                    }"
                         ng-show="_employeeShift.day4_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="false">{{_day4_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day4_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day4_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>
                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day4_shift_item.STATUS_ID == 91 && !_day4_shift_item.IS_UNAVAILABLE &&  !_day4_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day4_shift_item.STATUS_ID == 92 && !_day4_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day4_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger':EXCEPTION_VIEW &&  _day4_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day4_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                               ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day4_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day4_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day4_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day4_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day4_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day4_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day4_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day4_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day4_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day4_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day4_shift_item.CLOCKING_VARIANCE && !_day4_shift_item.IS_ON_LEAVE)">{{_day4_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day4_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day4_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day4_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2,4,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day4_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day4_shift_item.SCHDL_SHIFT_ID,_day4_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day4_shift_item.SCHDL_SHIFT_ID,_day4_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day4_shift_item.SCHDL_SHIFT_ID,4,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day4_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day4_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day4_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day4_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day4_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day4_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day4_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day4_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day4_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day4_shift_item.SCHDL_SHIFT_ID ,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day4_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day4_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day4_shift_item.POSITION_NAME}}</span>

                            <span ng-show=" _day4_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day4_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day4_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day4_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day4_shift_item,4,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day4_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2,4,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day4_IS_ON_LEAVE!=0|| _employeeShift.day4_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day4_shift_count==0 && _employeeShift.day4_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day4_shift_count==0 && _employeeShift.day4_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day4_shift_count==0 && _employeeShift.day4_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day4_shift_count==0 && _employeeShift.day4_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 5-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day5_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day5_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day5_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 5,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day5_shift_item in _employeeShift.day5_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day5_shift_item, 1)"
                         ng-class="{'unpublished':(_day5_shift_item.STATUS_ID == 91 || (_day5_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day5_shift_item.IS_UNAVAILABLE  &&  !_day5_shift_item.NOSHOW
                                   ,'published':(_day5_shift_item.STATUS_ID == 92 || (_day5_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved': _day5_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day5_shift_item.NOSHOW && !_day5_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day5_shift_item.IS_UNAVAILABLE ||  (EXCEPTION_VIEW && _day5_shift_item.IS_ON_LEAVE)) && (!_day5_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         }"
                         ng-show="_employeeShift.day5_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">

                            <span ng-show="false">{{_day5_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day5_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day5_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>
                            <i ng-class="{'fa-thin fa-circle-minus text-primary': _day5_shift_item.STATUS_ID == 91 && !_day5_shift_item.IS_UNAVAILABLE &&  !_day5_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day5_shift_item.STATUS_ID == 92 && !_day5_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day5_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger': EXCEPTION_VIEW && _day5_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day5_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                        ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day5_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day5_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day5_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day5_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day5_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day5_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day5_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day5_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day5_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day5_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME)  || (EXCEPTION_VIEW && !_day5_shift_item.CLOCKING_VARIANCE && !_day5_shift_item.IS_ON_LEAVE)">{{_day5_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day5_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day5_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day5_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2,5,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day5_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day5_shift_item.SCHDL_SHIFT_ID,_day5_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day5_shift_item.SCHDL_SHIFT_ID,_day5_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day5_shift_item.SCHDL_SHIFT_ID,5,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day5_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day5_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day5_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day5_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day5_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day5_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day5_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day5_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day5_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day5_shift_item.SCHDL_SHIFT_ID,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day5_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day5_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day5_shift_item.POSITION_NAME}}</span>
                            <span ng-show="_day5_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day5_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day5_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day5_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day5_shift_item,5,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day5_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2,5,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day5_IS_ON_LEAVE!=0|| _employeeShift.day5_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day5_shift_count==0 && _employeeShift.day5_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day5_shift_count==0 && _employeeShift.day5_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day5_shift_count==0 && _employeeShift.day5_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day5_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day5_shift_count==0 && _employeeShift.day5_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <!--day 6-->
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="!_employeeShift.day6_ACTION_ALLOWED"></div>
                <div class="col-xxl-auto col-xl-auto col-md-auto heading-rota" ng-show="_employeeShift.day6_ACTION_ALLOWED" ng-class="{'text-nowrap':_employeeShift.day6_shift_count==0}" drop-on-me ng-on-drop="ADD_SHIFT_POPUP_Fn(3, 6,_employeeShift, DRAGGED_SHIFT)">
                    <div class="child-container res_shift" ng-repeat="_day6_shift_item in _employeeShift.day6_shift" drag-me ng-on-drag="GET_DRAGGED_SHIFT(_day6_shift_item, 1)"
                         ng-class="{'unpublished':(_day6_shift_item.STATUS_ID == 91 || (_day6_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW)) && !_day6_shift_item.IS_UNAVAILABLE  &&  !_day6_shift_item.NOSHOW
                                   ,'published':(_day6_shift_item.STATUS_ID == 92 || (_day6_shift_item.CLOCKING_VARIANCE && EXCEPTION_VIEW))
                                   ,'approved':_day6_shift_item.STATUS_ID == 93
                                   ,'noshow':EXCEPTION_VIEW && _day6_shift_item.NOSHOW && !_day6_shift_item.CLOCKING_VARIANCE
                                   ,'holiday':(_day6_shift_item.IS_UNAVAILABLE || (EXCEPTION_VIEW &&  _day6_shift_item.IS_ON_LEAVE)) && (!_day6_shift_item.CLOCKING_VARIANCE || !EXCEPTION_VIEW)
                                   ,'mt-1':{{$index > 0}}
                                   }"
                         }"
                         ng-show="_employeeShift.day6_shift_count>0">
                        <div class="d-flex align-items-center justify-content-between">

                            <span ng-show="false">{{_day6_shift_item.HEADER_INDEX=$index}}</span>
                            <span class="text-nowrap res_text">{{_day6_shift_item.SCHEDULED_START | date : "h:mm a"}} - {{_day6_shift_item.SCHEDULED_END | date : "h:mm a"}}</span>
                            <i class=""
                               ng-class="{'fa-thin fa-circle-minus text-primary': _day6_shift_item.STATUS_ID == 91 && !_day6_shift_item.IS_UNAVAILABLE &&  !_day6_shift_item.NOSHOW
                                         ,'fa-light fa-circle-arrow-up txt-warning': _day6_shift_item.STATUS_ID == 92 && !_day6_shift_item.IS_UNAVAILABLE  && !EXCEPTION_VIEW
                                         ,'fa-light fa-check txt-success': _day6_shift_item.STATUS_ID == 93
                                         ,'fa-light fa-eye-slash txt-danger': EXCEPTION_VIEW && _day6_shift_item.NOSHOW
                                         ,'fa-light fa-circle-xmark txt-danger': _day6_shift_item.IS_UNAVAILABLE && !EXCEPTION_VIEW
                                        ,'fa-light fa-triangle-exclamation txt-orange': EXCEPTION_VIEW && _day6_shift_item.CLOCKING_VARIANCE
                                    ,'fa-light fa-person-walking-arrow-right txt-danger': EXCEPTION_VIEW && _day6_shift_item.IS_ON_LEAVE
                                         }">
                            </i>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span ng-show="((EXCEPTION_VIEW && _day6_shift_item.CLOCKING_VARIANCE) || SHOW_ACTUAL_TIME) && _day6_shift_item.STATUS_ID!=93" class="text-nowrap res_text" data-bs-toggle="tooltip" data-bs-original-title="({{_day6_shift_item.CLOCK_IN_SHIFT_DURATION/60 | number:1}} Hrs)">{{_day6_shift_item.CLOCK_IN | date : "h:mm a"}} - {{_day6_shift_item.CLOCK_OUT | date : "h:mm a"}} </span>
                            <span ng-show="SHOW_ACTUAL_TIME && _day6_shift_item.STATUS_ID==93" class="text-nowrap res_text">{{_day6_shift_item.APPROVED_CLOCK_IN | date : "h:mm a"}} - {{_day6_shift_item.APPROVED_CLOCK_OUT | date : "h:mm a"}} </span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="(!EXCEPTION_VIEW && !SHOW_ACTUAL_TIME) || (EXCEPTION_VIEW && !_day6_shift_item.CLOCKING_VARIANCE && !_day6_shift_item.IS_ON_LEAVE)">{{_day6_shift_item.DEPARTMENT_NAME}}</span>
                            <span class="text-grey text-nowrap time_font truncate" ng-show="EXCEPTION_VIEW">{{_day6_shift_item.ABSENSE_TYPE}}</span>
                            <a data-bs-toggle="dropdown" id="{{_day6_shift_item.SCHDL_SHIFT_ID}}" aria-expanded="false" class="schedule_dropdown HIDEINPDF">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-block dropdown-menu-end" for="{{_day6_shift_item.SCHDL_SHIFT_ID}}">
                                <li><a class="dropdown-item d-block" ng-click="ADD_SHIFT_POPUP_Fn(2,6,_employeeShift)"><i class="fa-light fa-plus me-2"></i>Add Shift</a></li>
                                <li ng-hide="_day6_shift_item.STATUS_ID == 93"><a class="dropdown-item d-block" ng-click="EMPLOYEE_SHIFT_EDIT_Fn(_day6_shift_item.SCHDL_SHIFT_ID,_day6_shift_item)"><i class="fa-light fa-pen me-2"></i>Edit Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="VIEW_ADD_SHIFT(_day6_shift_item.SCHDL_SHIFT_ID,_day6_shift_item)"><i class="fa-light fa-eye me-2"></i>View Shift</a></li>
                                <li><a class="dropdown-item d-block" ng-click="COPY_SHIFT(_day6_shift_item.SCHDL_SHIFT_ID,6,_employeeShift.EMPLOYEE_NAME)"><i class="fa-light fa-clone me-2"></i>Copy Shift</a></li>
                                <li ng-show="_day6_shift_item.STATUS_ID == 91"><a class="dropdown-item d-block" ng-click="HRM_SCHDL_PUBLISH_SHIFTS(_day6_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Publish</a></li>
                                <li ng-show="_day6_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block" ng-click="HRM_CLOCK_IN_SHIFTS(_day6_shift_item.SCHDL_SHIFT_ID)"><i class="fa-light fa-arrow-up-from-bracket me-2"></i>Clock In/Out</a></li>
                                <!--<li ng-show="_day6_shift_item.STATUS_ID == 92"><a class="dropdown-item d-block"><i class="fa-light fa-circle-x me-2"></i>Unpublish</a></li>-->
                                <li ng-show="_day6_shift_item.STATUS_ID == 92 && CHECK_PAST_DATE_RANGE(START_DATE,END_DATE) != 1 && _day6_shift_item.SHOW_APPROVALS" ng-click="APPROVE_SHIFT_Fn(_day6_shift_item)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Approve</a></li>
                                <li ng-show="_day6_shift_item.STATUS_ID == 93" ng-click="HRM_SCHDL_REVERT_SHIFT_APPROVAL(_day6_shift_item.SCHDL_SHIFT_ID ,_employeeShift.EMPLOYEE_ID)"><a class="dropdown-item d-block"><i class="fa-light fa-check me-2"></i>Revert Approval</a></li>
                                <li ng-hide="_day6_shift_item.STATUS_ID == 93" ng-click="DELETE_ADD_SHIFT_Fn(_day6_shift_item, _employeeShift)"><a class="dropdown-item d-block txt-danger"><i class="fa-light fa-trash-can me-2 txt-danger"></i>Delete</a></li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="text-grey truncate department_name">{{_day6_shift_item.POSITION_NAME}}</span>
                            <span ng-show="_day6_shift_item.BRANCH_NAME!=ShiftEmpSearch.CUSTOM_BRANCH_NAME" class="other-site truncate-group ms-auto me-2">{{_day6_shift_item.BRANCH_NAME}}</span>
                            <div ng-init="_day6_shift_item.IS_SHIFT_SELECTED = false">
                                <input class="form-check-input HIDEINPDF"
                                       name="SHIFT{{_employeeShift.EMP_INDEX}}{{$index}}"
                                       type="checkbox"
                                       ng-model="_day6_shift_item.IS_SHIFT_SELECTED"
                                       ng-change="increment_selected(_day6_shift_item,6,_employeeShift)" />
                            </div>
                        </div>
                    </div>
                    <a class="btn-rounded-primary HIDEINPDF" ng-show="_employeeShift.day6_shift_count==0 && !EXCEPTION_VIEW" ng-click="ADD_SHIFT_POPUP_Fn(2,6,_employeeShift)">
                        <i class="fa-solid fa-plus"></i>
                    </a>
                    <!--<div class="w-100" ng-class="{'mt-4':_employeeShift.day6_IS_ON_LEAVE!=0|| _employeeShift.day6_IS_BANK_HOLIDAY!=0}">
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day6_shift_count==0 && _employeeShift.day6_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 truncate_Leavetype on_leave_tag">{{_employeeShift.day4_ABSENCE_TYPE}}</span>
                        <span ng-show="!EXCEPTION_VIEW && _employeeShift.day6_shift_count==0 && _employeeShift.day6_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 bank_holiday_tag">Bank Holiday</span>
                    </div>-->
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day6_shift_count==0 && _employeeShift.day6_IS_ON_LEAVE!=0" class="badge badge-light-danger f-8 on_leave_tag truncate_Leavetype">{{_employeeShift.day6_ABSENCE_TYPE}}</span>
                    <span ng-show="!EXCEPTION_VIEW && _employeeShift.day6_shift_count==0 && _employeeShift.day6_IS_BANK_HOLIDAY!=0" class="badge badge-light-danger f-8 on_leave_tag">Bank Holiday</span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto sm-heading-rota">
                    <span class="schedule_costing">{{_employeeShift.SCHEDULED_HOURS  | number:2}}</span>
                    <span class="badge badge-light-success badge_text_totals">{{_employeeShift.APPROVED_HOURS  | number:2}}</span>
                </div>
                <div class="col-xxl-1 col-xl-1 col-md-1 sm-heading-rota" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
                    <span class="schedule_costing">£{{_employeeShift.SCHEDULED_COST  | number:2}}</span>
                    <span class="badge badge-light-success badge_text_totals">£{{_employeeShift.APPROVED_COST  | number:2}}</span>
                </div>


            </div>
            <div class="border-radius-parent mt-3" ng-repeat-end ng-if="!EXCEPTION_VIEW && _employeeShift.GROUP_BY_ID!=0 && _employeeShift.SECONDARY_GROUP_BY_ID==0 && _employeeShift.Footer.length>0">
                <div class="row g-0 flex-nowrap ipad_totals">
                    <div class="col-xxl-10 col-xl-10 col-md-10 shift_lg_col">
                        <div class="row flex-nowrap g-0">
                            <div class="col-xxl-2 col-xl-2 col-md-2 heading-rota_v2 bor_top_left">
                                <span class="text-nowrap truncate resp_text_totals">
                                    Schedule Hours / Total Shifts
                                </span>
                            </div>
                            <div class="col-xxl col-xl col-md shift_col_sm">-</div>
                            <div class="col-xxl col-xl col-md shift_col text-nowrap resp_text_totals" 
                                 ng-repeat="footer in _employeeShift.Footer | filter: {'PARENT_ID':_employeeShift.GROUP_BY_ID}:true">
                                {{footer.SCHEDULED_HOURS  | number:2}}
                                <span class="text-gray">&nbsp;| </span>
                                <span class="txt-primary resp_text_totals">&nbsp;{{footer.SHIFT_COUNT | number:2}}</span>
                            </div>

                        </div>
                        <div class="row flex-nowrap g-0">
                            <div class="col-xxl-2 col-xl-2 col-md-2 heading-rota_v2 bor_bottom_left text-nowrap">
                                <span class="text-nowrap truncate resp_text_totals">
                                    Head Count {{HIDE_COST_HOURS  && HIDE_COST && SHOW_HIDE_COST?'/ Total Cost':''}}
                                </span>
                            </div>
                            <div class="col-xxl col-xl col-md shift_col_sm">-</div>
                            <div class="col-xxl col-xl col-md shift_col text-nowrap resp_text_totals" ng-repeat="footer in _employeeShift.Footer | filter: {'PARENT_ID':_employeeShift.GROUP_BY_ID}">
                                {{footer.HEAD_COUNT}}
                                <span class="text-gray resp_text_totals" ng-show="HIDE_COST_HOURS  && HIDE_COST && SHOW_HIDE_COST">&nbsp;| </span>
                                <span class="txt-primary resp_text_totals" ng-show="HIDE_COST_HOURS  && HIDE_COST && SHOW_HIDE_COST">&nbsp; {{footer.SCHEDULED_COST | number:2}}</span>
                            </div>

                        </div>
                    </div>
                    <div class="col-xxl col-xl col-md shift_col_last resp_text_totals">
                        {{(_employeeShift.Footer | total:'SCHEDULED_HOURS') | number:2}}
                        <span class="badge badge-light-success badge_text_totals"> {{(_employeeShift.Footer | total:'APPROVED_HOURS') | number:2}}</span>
                    </div>
                    <div class="col-xxl col-xl col-md shift_col_last bor_top_rig text-nowrap resp_text_totals" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
                        £ {{(_employeeShift.Footer | total:'SCHEDULED_COST') | number:2}}
                        <span class="badge badge-light-success badge_text_totals">  £ {{(_employeeShift.Footer | total:'APPROVED_COST') | number:2}}</span>
                    </div>
                </div>
                <div class="row g-0 flex-nowrap mx-0 ipad_totals" ng-show="HIDE_COST_HOURS  && HIDE_COST && SHOW_HIDE_COST">
                    <div class="col-xxl-10 col-xl-10 col-md-10 shift_lg_col">
                    </div>
                    <div class="col-xxl-2 col-xl-2 col-md-2 bottom-rota">
                        <span class="text-gray resp_text_totals">
                            Cost:&nbsp;
                        </span>
                        <span class="text-nowrap resp_text_totals">
                            {{FOOTER_DATA.TOTALCOST==0?0.0:(((_employeeShift.Footer | total:'SCHEDULED_COST')*100)/ FOOTER_DATA.TOTALCOST) | number:2}}&nbsp;%
                            <span class="badge badge-light-success badge_text_totals">{{FOOTER_DATA.TOTALCOST==0?0.0:(((_employeeShift.Footer | total:'APPROVED_COST')*100)/ FOOTER_DATA.TOTALCOST) | number:2}}&nbsp;%</span>
                        </span>
                    </div>
                </div>
            </div>

        </div>
        <!-- SELECTED HOURS VIEW Starts -->
        <!-- SELECTED HOURS VIEW Ends -->

    </div>
    <!-- Card body day view-->

</div>

<div class="fixed-bottom-rota">
    <!-- TOTALS VIEW STARTS HERE -->
    <div class="card-body py-0 px-2" ng-show="SHOW_TOTALS">
        <div class="row w-100 align-items-center g-1 p-2">
            <div class="col-xxl col-md col-xl"><h6 class="headings px-2 mb-0">Totals</h6></div>
            <div class="col-xxl-auto col-md-auto col-xl-auto"><button type="submit" class="btn btn-light" ng-click="SHOW_TOTALS=!SHOW_TOTALS" value="Save">Close</button></div>
            <div class="col-xxl-auto col-md-auto col-xl-auto"><button type="submit" class="btn btn-primary" ng-click="HRM_SCHDL_INS_UPD_WAGE_FORCAST()" value="Save">Save</button></div>
        </div>
        <div class="border-radius-parent scrollbar-wrapper" style="max-height:46vh">
            <!--First Row-->
            <div class="row flex-nowrap g-0">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">Working Hours</div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index"> {{x.SCHEDULED_HOURS  | number:2}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column">{{totals | total:'SCHEDULED_HOURS'  | number:2}}</span></div>
            </div>
            <!--Seecond Row-->
            <div class="row flex-nowrap g-0" ng-show="HIDE_COST_HOURS && HIDE_COST">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100">
                        Wage cost (£)
                        <a class="float-end wage-cost" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index"> {{x.WAGE_COST | number: 2}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column">£ {{totals | total:'WAGE_COST' | number: 2}}</span></div>
            </div>
            <div class="wage-cost-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE' track by $index">{{x.IS_WAGE_COST==false?'*****':(x.WAGE_COST  | number:2)}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> <span ng-show="!brnch.SHOW_WAGE">*****</span>    <span ng-show="brnch.SHOW_WAGE"> £ {{(BRANCH_TOTALS  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true ) | total:'WAGE_COST' | number: 2}}</span> </span></div>
                </div>
            </div>
            <!--Third Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100">
                        Head Count
                        <a class="float-end headcount-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span> 
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index">{{x.HEAD_COUNT}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column">{{totals | total:'HEAD_COUNT'}}</span></div>
            </div>
            <div class="headcount-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE'">{{x.HEAD_COUNT | number:0}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column">  {{(BRANCH_TOTALS  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'HEAD_COUNT' | number: 0}} </span></div>
                </div>
            </div>
            <!--Forth Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100">
                        Shifts
                        <a class="float-end shift-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index"> {{x.SHIFTS  | number:2}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column">{{totals | total:'SHIFTS' | number:2}}</span></div>
            </div>
            <div class="shift-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in   ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE'">{{x.SHIFTS  | number:2}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column">{{(BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'SHIFTS' | number: 2}} </span></div>
                </div>

            </div>



            <!--Fifth Row-->
            <div class="row flex-nowrap g-0">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100 mt-1">
                        Actual Sales (£)
                        <a class="float-end actual-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="_employeeShiftDate in  EMPLOYEE_SHIFTS_DATES">{{(SALES_BY_BRANCH_LIST | filter:{CASHUP_DATE:_employeeShiftDate.DATE_FOR_TOTALS})  | total:'ACTUAL_NET_REVENUE' | number:2}} </div>
                <!--<div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="(CASHUP_DATE, sales) in TotalActualSales | orderBy:'CASHUP_DATE'">{{sales.totalValue}}</div>-->
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> £ {{SALES_BY_BRANCH_LIST | total:'ACTUAL_NET_REVENUE' | number: 2}} </span></div>
            </div>
            <div class="actual-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in   ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in SALES_BY_BRANCH_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'CASHUP_DATE'"><input type="text" ng-show="!x.IS_EPOS_SALES" only-digits ng-model="x.ACTUAL_NET_REVENUE" class="m-0 p-1" />  <span ng-if="x.IS_EPOS_SALES">{{x.ACTUAL_NET_REVENUE  | number:2}}</span> </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> £ {{(SALES_BY_BRANCH_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'ACTUAL_NET_REVENUE' | number: 2}} </span></div>
                </div>


            </div>

            <!--Sixth Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100">
                        Actual Wage as a % of Actual Sales
                        <a class="float-end actual-wage-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index">{{((SALES_BY_BRANCH_LIST | filter:{CASHUP_DATE:x.SCHEDULE_DATE})  | total:'ACTUAL_NET_REVENUE')==0 ? '-':(x.WAGE_COST*100/((SALES_BY_BRANCH_LIST | filter:{CASHUP_DATE:x.SCHEDULE_DATE})  | total:'ACTUAL_NET_REVENUE')  | number:2)+' %'}} </div>


                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> {{(SALES_BY_BRANCH_LIST | total:'ACTUAL_NET_REVENUE')==0?'-':((totals | total:'WAGE_COST')*100/(SALES_BY_BRANCH_LIST | total:'ACTUAL_NET_REVENUE') | number:2)+' %'}} </span></div>
            </div>
            <div class="actual-wage-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in SALES_BY_BRANCH_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID} | orderBy:'CASHUP_DATE'">{{x.ACTUAL_NET_REVENUE==0?'-':(((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID} | filter:{SCHEDULE_DATE: x.CASHUP_DATE})[0].WAGE_COST*100)/x.ACTUAL_NET_REVENUE  | number:2)}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> {{((SALES_BY_BRANCH_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'ACTUAL_NET_REVENUE')==0?'-':((((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'WAGE_COST')*100/((SALES_BY_BRANCH_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'ACTUAL_NET_REVENUE') | number: 2) +' %')}} </span></div>
                </div>
            </div>


            <!--Seventh Row-->
            <div class="row flex-nowrap g-0">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100 mt-1">
                        Sales Forecast (£)
                        <a class="float-end sales-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                        <a class="float-end" data-bs-toggle="tooltip" data-bs-original-title="Upload Sales Forecast">
                            <i class="fa-light fa-upload txt-primary c-pointer"
                               ng-click="UPLOAD_FORECAST('Sales', 1,56)"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto total-rota" ng-repeat="_employeeShiftDate in  EMPLOYEE_SHIFTS_DATES">  {{(SALES_FORECAST_LIST | filter:{SCHEDULE_DATE:_employeeShiftDate.DATE_FOR_TOTALS})  | total:'SALES_FORCAST_VALUE' | number:2}} </div>
                <div class="col-xxl-auto col-xl-auto total-rota"> <span class="last-column"> £ {{SALES_FORECAST_LIST | total:'SALES_FORCAST_VALUE' | number: 2}} </span></div>
            </div>
            <div class="sales-details bg_reports_dd" style="display: none;">

                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in SALES_FORECAST_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE'"><input type="text" only-digits ng-model="x.SALES_FORCAST_VALUE" class="m-0 p-1" /> </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> £ {{(SALES_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'SALES_FORCAST_VALUE' | number: 2}} </span></div>
                </div>

            </div>


            <!--Eighth Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100">
                        Actual Wage as a % of Sales Forecast
                        <a class="float-end actual-sales-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <!--<div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in SALES_FORECAST_LIST">{{x.SALES_FORCAST_VALUE=='' || x.SALES_FORCAST_VALUE==0?'-':(totals[$index].WAGE_COST*100/x.SALES_FORCAST_VALUE | number:2)+' %'}} </div>-->
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index">{{((SALES_FORECAST_LIST | filter:{SCHEDULE_DATE:x.SCHEDULE_DATE})  | total:'SALES_FORCAST_VALUE')==0 ? '-':(x.WAGE_COST*100/((SALES_FORECAST_LIST | filter:{SCHEDULE_DATE:x.SCHEDULE_DATE})  | total:'SALES_FORCAST_VALUE')  | number:2)+' %'}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> {{(SALES_FORECAST_LIST | total:'SALES_FORCAST_VALUE')==0?'-':((totals | total:'WAGE_COST')*100/(SALES_FORECAST_LIST | total:'SALES_FORCAST_VALUE') | number:2)+' %'}} </span></div>
            </div>
            <div class="actual-sales-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in SALES_FORECAST_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'CASHUP_DATE'">{{x.SALES_FORCAST_VALUE==0?'-':((((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | filter:{SCHEDULE_DATE: x.SCHEDULE_DATE})[0].WAGE_COST*100)/x.SALES_FORCAST_VALUE  | number:2))+' %'}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> {{((SALES_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'SALES_FORCAST_VALUE')==0?'-':((((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'WAGE_COST')*100/((SALES_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'SALES_FORCAST_VALUE') | number: 2) +' %')}} </span></div>
                </div>
            </div>



            <!--Ninth Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100 mt-1">
                        Wage Forecast (£)
                        <a class="float-end wage-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                        <a class="float-end" data-bs-toggle="tooltip"
                           data-bs-original-title="Upload Wage Forecast"><i class="fa-light fa-upload txt-primary c-pointer" ng-click="UPLOAD_FORECAST('Wage', 2,54)"></i></a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto total-rota" ng-repeat="_employeeShiftDate in  EMPLOYEE_SHIFTS_DATES">{{(WAGE_FORECAST_LIST | filter:{SCHEDULE_DATE:_employeeShiftDate.DATE_FOR_TOTALS})  | total:'WAGE_FORECAST_VALUE' | number:2}} </div>

                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> £ {{WAGE_FORECAST_LIST | total:'WAGE_FORECAST_VALUE' | number: 2}} </span></div>
            </div>
            <div class="wage-details bg_reports_dd" style="display: none;">

                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in WAGE_FORECAST_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE'">
                    <input type="text" only-digits ng-model="x.WAGE_FORECAST_VALUE" class="m-0 p-1" /> </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> £ {{(WAGE_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'WAGE_FORECAST_VALUE' | number: 2}} </span></div>
                </div>
            </div>




            <!--Tenth Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                    <span class="w-100 mt-2">
                        Actual vs Forecast Wage Cost
                        <a class="float-end actual-vs-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                    </span>
                </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota" ng-repeat="x in totals track by $index">{{((WAGE_FORECAST_LIST | filter:{SCHEDULE_DATE:x.SCHEDULE_DATE})  | total:'WAGE_FORECAST_VALUE')==0 ? '-':(x.WAGE_COST*100/((WAGE_FORECAST_LIST | filter:{SCHEDULE_DATE:x.SCHEDULE_DATE})  | total:'WAGE_FORECAST_VALUE')  | number:2)+' %'}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> {{(WAGE_FORECAST_LIST | total:'WAGE_FORECAST_VALUE')==0?'-':((totals | total:'WAGE_COST')*100/(WAGE_FORECAST_LIST | total:'WAGE_FORECAST_VALUE') | number:2)+' %'}} </span></div>
            </div>
            <div class="actual-vs-details bg_reports_dd" style="display: none;">
                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in WAGE_FORECAST_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID} | orderBy:'CASHUP_DATE'">{{x.WAGE_FORECAST_VALUE==0?'-':(((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID} | filter:{SCHEDULE_DATE: x.SCHEDULE_DATE})[0].WAGE_COST*100)/x.WAGE_FORECAST_VALUE  | number:2)+' %'}} </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> {{((WAGE_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'WAGE_FORECAST_VALUE')==0?'-':((((BRANCH_TOTALS | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'WAGE_COST')*100/((WAGE_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}) | total:'WAGE_FORECAST_VALUE') | number: 2) +' %')}} </span></div>
                </div>
            </div>



            <!--Eleventh Row-->
            <div class="row flex-nowrap g-0 ">
                <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading ">
                    <span class="w-100 mt-1">
                        Guests Forecast
                        <a class="float-end guest-forecast" data-bs-toggle="tooltip" data-bs-original-title="See site details">
                            <i class="fa-light fa-chevron-down txt-primary c-pointer ms-3"></i>
                        </a>
                        <a class="float-end" data-bs-toggle="tooltip"
                           data-bs-original-title="Upload Guest Forecast"><i class="fa-light fa-upload txt-primary c-pointer" ng-click="UPLOAD_FORECAST('Guest', 3,55)"></i></a>
                    </span>
                </div>
                
                <div class="col-xxl-auto col-xl-auto total-rota" ng-repeat="_employeeShiftDate in  EMPLOYEE_SHIFTS_DATES">{{(GUEST_FORECAST_LIST | filter:{SCHEDULE_DATE:_employeeShiftDate.DATE_FOR_TOTALS})  | total:'GUEST_FORECAST_VALUE' | number:2}} </div>
                <div class="col-xxl-auto col-xl-auto col-md-auto total-rota"> <span class="last-column"> {{GUEST_FORECAST_LIST | total:'GUEST_FORECAST_VALUE' | number: 2}} </span></div>
            </div>
            <div class="guest-details bg_reports_dd" style="display: none;">

                <div class="row flex-nowrap g-0" ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                    <div class="col-xxl-2 col-xl-2 col-md-2 totals_heading">
                        <span class="w-100 mt-2">{{brnch.BRANCH_NAME}}</span>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd" ng-repeat="x in GUEST_FORECAST_LIST | filter:{BRANCH_ID:brnch.BRANCH_ID}:true | orderBy:'SCHEDULE_DATE'"><input type="text" only-digits ng-model="x.GUEST_FORECAST_VALUE" class="m-0 p-1" /> </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto total-rota bg_reports_dd"> <span class="last-column"> £ {{(GUEST_FORECAST_LIST  | filter:{BRANCH_ID:brnch.BRANCH_ID}:true) | total:'GUEST_FORECAST_VALUE' | number: 2}} </span></div>
                </div>
            </div>




        </div>
    </div>
    <!-- TOTALS VIEW ENDS HERE -->


    <div class="row g-0 flex-nowrap align-items-center justify-content-center border-top w-100">
        <div class="col-xxl col-xl col-md custom-border">
            <span class="d-block text-center text-nowrap">
                SALES REVENUE
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.SALESREVENUE | number:2}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                HOURLY COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.HOURLYCOST  | number:2}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                SALARIED COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.SALARIEDCOST | number:2}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                SHIFT COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.SHIFTCOST | number:2}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                DAY COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.DAYCOST | number:2}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                ACTUAL WAGE %
            </span>
            <span class="d-block text-center text-gray">
                {{FOOTER_DATA.TOTALWAGEPERCENT}}
            </span>
        </div>
        <!--<div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST">
            <span class="d-block text-center text-nowrap">
                FORECAST WAGE %
            </span>
            <span class="d-block text-center text-gray">
                {{(SALES_FORECAST_LIST | total:'SALES_FORCAST_VALUE')==0?'-':((totals | total:'WAGE_COST')*100/(SALES_FORECAST_LIST | total:'SALES_FORCAST_VALUE') | number:2)+' %'}}
            </span>
        </div>-->
        <div class="col-xxl col-xl col-md custom-border">
            <span class="d-block text-center text-nowrap">
                HEAD COUNT
            </span>
            <span class="d-block text-center text-gray">
                {{FOOTER_DATA.HEADCOUNT}}
            </span>
        </div>
        <div class="col-xxl col-xl col-md custom-border">
            <span class="d-block text-center text-nowrap">
                TOTAL HOURS
            </span>
            <span class="d-block text-center text-gray">
                {{FOOTER_DATA.TOTALHOURS  | number:2}}
            </span>
        </div>
        <!--<div class="col-xxl col-xl col-md custom-border">
            <span class="d-block text-center text-nowrap">
                TOTAL OTHER COST
            </span>
            <span class="d-block text-center text-gray">
                £ 157.68
            </span>
        </div>

        <div class="col-xxl col-xl col-md custom-border">
            <span class="d-block text-center">
                RPLH
            </span>
            <span class="d-block text-center text-gray">
                £ 157.68
            </span>
        </div>-->
        <div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST && SHOW_HIDE_COST">
            <span class="d-block text-center text-nowrap">
                WEEKLY COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.TOTALCOST | number:2}}
            </span>
        </div>
        <!--<div class="col-xxl col-xl col-md custom-border" ng-show="HIDE_COST_HOURS && HIDE_COST">
            <span class="d-block text-center text-nowrap">
                MTD COST
            </span>
            <span class="d-block text-center text-gray">
                £ {{FOOTER_DATA.MTDCOST | number:2}}
            </span>
        </div>-->
        <div class="col-xxl-2 col-xl-2 col-md-2 ms-auto">

            <div class="row g-0">
                <div class="col-xxl col-xl col-md custom-border" ng-click="SHOW_TOTALS=!SHOW_TOTALS" ng-class="{'border-left': !HIDE_COST_HOURS}">
                    <div class="footerIcons">
                        <a class=" c-pointer">
                            <i class="fa-solid txt-primary fa-2xl" ng-class="{' fa-chevron-down':  SHOW_TOTALS, ' fa-chevron-up': !SHOW_TOTALS}"></i>
                        </a>
                    </div>
                </div>
                <div class="col-xxl col-xl col-md custom-border" ng-click="HIDE_COST_HOURS=!HIDE_COST_HOURS">
                    <div class="footerIcons">
                        <a class="text-center c-pointer">
                            <i class="fa-light fa-chart-simple txt-primary fa-2xl"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- TIMER MODAL STARTS HERE  -->
<div class="modal fade" id="Timer" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-fullscreen" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6>{Title}</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Upper View -->
                <div class="row">
                    <div class="col-xxl-2 col-xl-2 col-md-2">
                        <input type="date" />
                    </div>

                    <div class="col-xxl-auto col-xl-auto col-md-auto ms-auto">
                        <ul class="nav nav-pills min-w-120">
                            <li class="dropdown w-100">
                                <a class="text-limitations cursor-pointer"
                                   data-toggle="dropdown">
                                    <span class="select-label personColor" id="select_label">
                                        Combined
                                    </span>
                                </a>
                                <ul ID="divNewNotifications"
                                    class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto"
                                    style="min-width:100%">
                                    <li class="DontHideOnClick">
                                        Combined 1
                                    </li>
                                    <li class="DontHideOnClick">
                                        Combined 2
                                    </li>
                                    <li class="DontHideOnClick">
                                        Combined 3
                                    </li>
                                    <li class="DontHideOnClick">
                                        Combined 4
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <ul class="nav nav-pills min-w-160">
                            <li class="dropdown w-100">
                                <a class="text-limitations cursor-pointer"
                                   data-toggle="dropdown">
                                    <span class="select-label personColor" id="select_label">
                                        All Categories
                                    </span>
                                </a>
                                <ul ID="divNewNotifications"
                                    class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto"
                                    style="min-width:100%">
                                    <li class="DontHideOnClick">
                                        Category 1
                                    </li>
                                    <li class="DontHideOnClick">
                                        Category 2
                                    </li>
                                    <li class="DontHideOnClick">
                                        Category 3
                                    </li>
                                    <li class="DontHideOnClick">
                                        Category 4
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <ul class="nav nav-pills min-w-160">
                            <li class="dropdown w-100">
                                <a class="text-limitations cursor-pointer"
                                   data-toggle="dropdown">
                                    <span class="select-label personColor" id="select_label">
                                        All Positions
                                    </span>
                                </a>
                                <ul ID="divNewNotifications"
                                    class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto"
                                    style="min-width:100%">
                                    <li class="DontHideOnClick">
                                        Position 1
                                    </li>
                                    <li class="DontHideOnClick">
                                        Position 2
                                    </li>
                                    <li class="DontHideOnClick">
                                        Position 3
                                    </li>
                                    <li class="DontHideOnClick">
                                        Position 4
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <ul class="nav nav-pills min-w-160">
                            <li class="dropdown w-100">
                                <a class="text-limitations cursor-pointer"
                                   data-toggle="dropdown">
                                    <span class="select-label personColor" id="select_label">
                                        All Pay Types
                                    </span>
                                </a>
                                <ul ID="divNewNotifications"
                                    class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto"
                                    style="min-width:100%">
                                    <li class="DontHideOnClick">
                                        Type 1
                                    </li>
                                    <li class="DontHideOnClick">
                                        Type 2
                                    </li>
                                    <li class="DontHideOnClick">
                                        Type 3
                                    </li>
                                    <li class="DontHideOnClick">
                                        Type 4
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <button class="btn-vertical-ellipsis" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </button>

                    </div>
                </div>
                <div class="scrollbar-wrapper mx-height-100 border-radius-parent mb-5 mt-1">

                    <div class="row flex-nowrap g-0 custom-sticky-top">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal b-t-r-l-6">
                                <span class="text-timer-mini">
                                    Date
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">Mon 11 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Tue 12 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Wed 13 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Thu 14 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Fri 15 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Sat 16 </div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">Sun 17 </div>
                        <div class="col-xxl col-xl col-md heading-rota b-t-r-r-6 f-w-700">Total</div>
                    </div>
                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini">
                                    Total Sales Forecast
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">£3,075</div>
                        <div class="col-xxl col-xl col-md heading-rota">£3,075 </div>
                        <div class="col-xxl col-xl col-md heading-rota">£3,075</div>
                        <div class="col-xxl col-xl col-md heading-rota">£3,075</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">£6,550</div>
                    </div>

                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal ">
                                <span class="text-timer-mini">
                                    Total Actual Sales
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">£2,345.65</div>
                        <div class="col-xxl col-xl col-md heading-rota">£2,345.65</div>
                        <div class="col-xxl col-xl col-md heading-rota">£1,876.78</div>
                        <div class="col-xxl col-xl col-md heading-rota">-</div>
                        <div class="col-xxl col-xl col-md heading-rota">-</div>
                        <div class="col-xxl col-xl col-md heading-rota">- </div>
                        <div class="col-xxl col-xl col-md heading-rota">-</div>
                        <div class="col-xxl col-xl col-md heading-rota f-w-700">£6,345.65</div>
                    </div>

                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini">
                                    Total Sales Varience
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-danger text-nowrap">
                                £-729.35 <span class="txt-sm-danger">
                                    (-23%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-danger text-nowrap">
                                £-729.35 <span class="txt-sm-danger">
                                    (-23%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-success text-nowrap text-nowrap">
                                £1,476.78 <span class="txt-sm-success">
                                    (+369%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota">£0</div>
                        <div class="col-xxl col-xl col-md heading-rota ">
                            <span class="f-w-700 txt-danger text-nowrap">
                                £-204.35 <span class="txt-danger">(-3%)</span>
                            </span>
                        </div>
                    </div>

                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini">
                                    Guests Forecast
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                194
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                194
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                194
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                0
                            </span>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota ">
                            <span class="f-w-700">
                                428
                            </span>
                        </div>

                    </div>

                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini">
                                    Actual Guests
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                67
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                67
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                67
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                -
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                -
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                -
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                -
                            </span>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="f-w-700">
                                168
                            </span>
                        </div>

                    </div>

                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini">
                                    Guest Varience
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-danger text-nowrap">
                                -127 <span class="txt-sm-danger">
                                    (-65.46%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-danger text-nowrap">
                                -127 <span class="txt-sm-danger">
                                    (-65.46%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span class="txt-success text-nowrap">
                                3 <span class="txt-sm-success">
                                    (+7.5%)
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                £0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                £0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                £0
                            </span>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota">
                            <span>
                                £0
                            </span>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota ">
                            <span class="f-w-700 txt-danger text-nowrap">
                                -260 <span class="txt-danger">(-65.46%)</span>
                            </span>
                        </div>

                    </div>
                    <!-- Salaried collapse button -->
                    <div class="row flex-nowrap g-0 ">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-rota-primary">
                                <span class="text-timer-main">
                                    Salaried
                                </span>
                                <a class="timer-collapse" data-target="toggle-salary">
                                    <i class="fa-light fa-plus txt-primary"></i>
                                </a>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md timer-rota-secondary">
                        </div>



                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Hours
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>


                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Cost

                                    <i class="fa-light fa-circle-info text-gray" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="£332.42"></i>
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray ">
                            <span class="f-w-700">
                                £332.42
                            </span>
                        </div>

                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Other Cost

                                    <i class="fa-light fa-circle-info text-gray" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="Other Cost"></i>
                                </span>
                                <a class="timer-collapse">
                                    <i class="fa-light fa-plus txt-primary"></i>
                                </a>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>

                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Total Shifts
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">0</div>

                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Salaried Head Count
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">0</div>

                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Total Salaried Wage Cost

                                    <i class="fa-light fa-circle-info text-gray" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="Total Salaried Wage Cost"></i>
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">£332.42</div>
                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-salary">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Wage %
                                </span>
                            </div>
                        </div>

                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">14.17%</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">14.17%</div>
                    </div>
                    <!-- Hourly collapse button -->
                    <div class="row flex-nowrap g-0">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-rota-primary">
                                <span class="text-timer-main">
                                    Hourly
                                </span>
                                <a class="timer-collapse" data-target="toggle-hourly">
                                    <i class="fa-light fa-plus txt-primary"></i>
                                </a>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md timer-rota-secondary">
                        </div>
                    </div>

                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-hourly">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Hours
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">0</div>
                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-hourly">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Cost
                                    <i class="fa-light fa-circle-info text-gray" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="£332.42"></i>
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">£332.42</div>
                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-hourly">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Other Cost

                                    <i class="fa-light fa-circle-info text-gray" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="Other Cost"></i>
                                </span>
                                <a class="timer-collapse">
                                    <i class="fa-light fa-plus txt-primary"></i>
                                </a>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">£332.42</div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">£332.42</div>
                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-hourly">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Total Shifts
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">0</div>
                    </div>
                    <div class="row flex-nowrap g-0 bg-light-gray d-none toggle-hourly">
                        <div class="col-xxl-2 col-xl-2 col-md-2 heading-timer">
                            <div class="timer-modal">
                                <span class="text-timer-mini ms-3">
                                    Hourly Head Count
                                </span>
                            </div>
                        </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray">0 </div>
                        <div class="col-xxl col-xl col-md heading-rota bg-light-gray f-w-700">0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- TIMER MODAL ENDS HERE -->
<!-- Exception Modal starts -->
<div class="modal fade" id="Exception" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content custom-modal">
            <div class="modal-header mt-2 border-0 position-relative">
                <div class="modal-icon-container mx-auto">
                    <i class="fa-light fa-triangle-exclamation modal-icon fa-2xl"></i>
                </div>
                <button type="button" class="btn-close modal-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body mt-0 p-0 text-center">
                <h5 class="modal-title-exception">There are Exceptions</h5>
                <p class="modal-text">Please review the exceptions again and make necessary corrections</p>
                <div class="row exception-footer">
                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <button type="button" class="btn btn-outline">Continue with Exceptions</button>
                    </div>
                    <div class="col-xxl-auto col-xl-auto col-md-auto">
                        <button type="button" class="btn btn-primary">View Exceptions</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Exception Modal ends -->
<!-- ADD SHIFT TEMPLATE MODAL STARTS -->
<div class="modal fade" id="add_shift_template" data-bs-keyboard="false" data-bs-backdrop="static">
    <form name="SHIFT_FORM" novalidate autocomplete="off">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content custom-modal">
                <div class="modal-header">
                    <h6 class="modal-title">Shift Template</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <label>Shift Name<span class="txt-danger">*</span></label>
                            <input type="text"
                                   class="mb-2"
                                   name="SHIFT_NAME"
                                   placeholder="Please enter shift name"
                                   ng-model="ShiftEmpSearch.SHIFT_NAME"
                                   required
                                   maxlength="20"
                                   ng-class="{'error':SHIFT_FORM.submitted && SHIFT_FORM.SHIFT_NAME.$error.required}" />
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Start time<span class="txt-danger">*</span></label>
                            <div class="date-column">
                                <input class="form-control py-2 mb-2"
                                       placeholder="Select start time"
                                       format="HH:mm"
                                       name="START_TIME"
                                       moment-picker="ShiftEmpSearch.START_TIME" readonly
                                       ng-model="ShiftEmpSearch.START_TIME"
                                       show-header="0"
                                       ng-model-options="{ updateOn: 'blur' }"
                                       change="UPDATE_TOTAL_DURATION_Fn(ShiftEmpSearch.START_TIME,ShiftEmpSearch.END_TIME,2)"
                                       required
                                       ng-class="{'error': SHIFT_FORM.submitted && SHIFT_FORM.START_TIME.$error.required}" />
                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>End time<span class="txt-danger">*</span></label>
                            <div class="date-column">
                                <input class="form-control py-2 mb-2"
                                       moment-picker="ShiftEmpSearch.END_TIME"
                                       format="HH:mm"
                                       placeholder="Select end time"
                                       name="END_TIME"
                                       ng-model="ShiftEmpSearch.END_TIME" readonly
                                       show-header="0"
                                       change="UPDATE_TOTAL_DURATION_Fn(ShiftEmpSearch.START_TIME,ShiftEmpSearch.END_TIME,2)"
                                       ng-model-options="{ updateOn: 'blur' }"
                                       required
                                       ng-class="{'error': SHIFT_FORM.submitted && SHIFT_FORM.END_TIME.$error.required}" />
                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Shift Duration <span class="f-w-400 ms-1">(Hours)</span></label>
                            <div class="date-column">
                                <input type="text" ng-model="ShiftEmpSearch.SHIFT_DURATION" disabled />
                            </div>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Shift Count<span class="txt-danger">*</span></label>
                            <input type="text"
                                   class="mb-0"
                                   name="SHIFT_COUNT"
                                   placeholder="{{PLACE_HOLDER}}"
                                   only-digits
                                   ng-model="ShiftEmpSearch.SHIFT_COUNT"
                                   required
                                   min="0.1"
                                   maxlength="4"
                                   ng-class="{'error':SHIFT_FORM.submitted && SHIFT_FORM.SHIFT_COUNT.$error.required}" />
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Paid break <span class="f-w-400 ms-1"> (mins)</span></label>
                            <input type="text"
                                   placeholder="Type here"
                                   class="mb-2"
                                   only-digits
                                   maxlength="3"
                                   ng-model="ShiftEmpSearch.SCHEDULED_PAID_BREAK" />
                        </div>

                        <div class="col-xxl-4 col-md-4 col-xl-4">
                            <label>Unpaid break <span class="f-w-400 ms-1">(mins)</span></label>
                            <input type="text"
                                   placeholder="Type here"
                                   class="mb-2"
                                   only-digits
                                   maxlength="3"
                                   ng-model="ShiftEmpSearch.SCHEDULED_UNPAID_BREAK" />
                        </div>
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <label>Note</label>
                            <textarea placeholder="Type here"
                                      class="mb-0 scrollbar-wrapper"
                                      name="NOTE"
                                      maxlength="500" data-ng-minLength="1" ng-trim="false"
                                      ng-model="ShiftEmpSearch.NOTE" ng-change="COUNTLENGTH(ShiftEmpSearch.NOTE.length,ShiftEmpSearch.NOTE)"
                                      rows="3"></textarea>
                            <span class="float-end text-gray">{{500-ShiftEmpSearch.CHRLENGTH}}/500 </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Special Wage</label>
                            <div class="checkbox_container mb-2">
                                <div class="form-check">
                                    <input class="form-check-input"
                                           type="checkbox"
                                           name="SPECIAL_WAGE"
                                           ng-model="ShiftEmpSearch.IS_SPECIAL_WAGE"
                                           ng-change="SETVALUE_WAGE(1)">
                                    <label class="form-check-label" for="Renew">Yes</label>
                                </div>
                            </div>
                        </div>



                        <div class="col-xxl-4 col-xl-4 col-md-4" ng-show="ShiftEmpSearch.IS_SPECIAL_WAGE">
                            <label>Wage type<span class="txt-danger">*</span></label>
                            <input type="hidden"
                                   ng-model="ShiftEmpSearch.WAGE_TYPE_ID"
                                   name="WAGE_TYPE_ID"
                                   ng-required="ShiftEmpSearch.IS_SPECIAL_WAGE"
                                   ng-class="{'error':SHIFT_FORM.submitted && SHIFT_FORM.WAGE_TYPE_ID.$error.required && ShiftEmpSearch.IS_SPECIAL_WAGE==true}" />
                            <ul class="nav nav-pills mb-0" ng-class="{'error':SHIFT_FORM.submitted && SHIFT_FORM.WAGE_TYPE_ID.$error.required && ShiftEmpSearch.IS_SPECIAL_WAGE==true}">
                                <li class="dropdown w-100">
                                    <a class="text-limitations cursor-pointer"
                                       data-toggle="dropdown">
                                        <span class="select-label" id="select_label">
                                            {{ShiftEmpSearch.CUSTOM_WAGE_NAME}}
                                        </span>
                                    </a>
                                    <ul ID="divNewNotifications"
                                        class="dropdown-menu scrollbar-wrapper w-auto"
                                        style="min-width:100%">
                                        <li class=""
                                            ng-show="ShiftEmpSearch.DD_DEFAULT_TEXT!=ShiftEmpSearch.CUSTOM_WAGE_NAME"
                                            ng-click="SELECTED_WAGE_Fn('')">{{ShiftEmpSearch.DD_DEFAULT_TEXT}}</li>
                                        <li class=""
                                            ng-click="SELECTED_WAGE_Fn(_wage)"
                                            ng-repeat="_wage in WAGES_LIST">
                                            <span class="">{{_wage.WAGE_NAME}}</span>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4" ng-show="ShiftEmpSearch.IS_SPECIAL_WAGE">
                            <label>Value<span class="txt-danger">*</span></label>
                            <input type="text"
                                   class="mb-0"
                                   name="WAGE"
                                   only-digits
                                   maxlength="6"
                                   placeholder="{{PLACE_HOLDER}}"
                                   ng-model="ShiftEmpSearch.WAGE"
                                   ng-required="ShiftEmpSearch.IS_SPECIAL_WAGE"
                                   ng-class="{'error':SHIFT_FORM.submitted && SHIFT_FORM.WAGE.$error.required && ShiftEmpSearch.IS_SPECIAL_WAGE==true}" />
                        </div>
                    </div>

                </div>
                <div class="modal-footer text-end">
                    <input type="button" class="btn btn-outline-danger" ng-show="ShiftEmpSearch.SHIFT_MASTER_ID!=0" ng-click="DELETE_SHIFT_Fn(ShiftEmpSearch.SHIFT_MASTER_ID,ShiftEmpSearch.SHIFT_NAME)" value="Delete">
                    <input type="button" class="btn btn-light " data-bs-dismiss="modal" aria-label="Close" value="Cancel" />
                    <input type="submit" class="btn btn-primary" ng-click="HRM_INS_UPD_SHIFT_MASTER(1)" value="Save" />

                </div>
            </div>
        </div>
    </form>
</div>
<!-- ADD SHIFT TEMPLATE MODAL ENDS-->
<!-- COPY SHIFT MODAL STARTS-->
<!-- PUBLISH MODAL COMPLETE  STARTS-->

<div class="modal fade" id="publish_complete_shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="row">
                        <div class="col-xxl-12 col-xl-12 col-md-12 d-flex align-items-center justify-content-center">
                            <span class="publish_parent mb-5">
                                <span class="publish_child">
                                    <i class="fa-solid fa-circle-exclamation txt-primary fa-4x"></i>
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <h6 class="text-center pb-2 fw-500">{{selected_employee_count > 0 ?  ('Publish ' + selected_employee_count + ' Shift(s)?' ) : 'Publish Entire Schedule?'}}</h6>
                        </div>
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <p class="text-center text-dark"> You are about to publish {{selected_employee_count > 0 ? selected_employee_count: PUBLISH_SHIFT_COUNT}} shifts from {{START_DATE | date : format : mediumDate}} to {{END_DATE | date : format : mediumDate}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-md-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Close</button></div>
                    <div class="col-xxl-6 col-md-6 col-md-6">
                        <button class="btn btn-primary w-100"
                                type="button"
                                click-once
                                ng-click="(!ENTIRE_PUBLISH_SHIFT ? HRM_SCHDL_PUBLISH_SHIFTS('',PUBLISH_MULTI_SHIFT_IDS) : HRM_SCHDL_PUBLISH_SHIFTS('',PUBLISH_ENTIRE_SHIFT_IDS))">
                            Proceed
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="approve_complete_shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="row">
                        <div class="col-xxl-12 col-xl-12 col-md-12 d-flex align-items-center justify-content-center">
                            <span class="publish_parent mb-3">
                                <span class="publish_danger">
                                    <i class="fa-solid fa-circle-exclamation fa-4x" ng-class="{'txt-danger':EXCEPTION_COUNT>0, 'txt-primary':EXCEPTION_COUNT==0}"></i>
                                </span>
                            </span>
                        </div>
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <h6 class="text-center pb-2 fw-500" ng-show="EXCEPTION_COUNT>0">You have {{shift_with_exception_count}} exceptions {{selected_employee_count > 0 ?  (' out of ' + selected_employee_count + ' selected shifts' ) : ('out of '+ approve_shift_count +' shifts')}}.</h6>
                            <h6 class="text-center pb-2 fw-500" ng-show="EXCEPTION_COUNT==0">{{selected_employee_count > 0 ?  ('Approve Schedule for ' + selected_employee_count + ' Employees?' ) : 'Approve Entire Schedule?'}}</h6>
                        </div>
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <p class="text-center text-dark"> You are about to approve the schedule created from {{START_DATE | date : format : mediumDate}} to {{END_DATE | date : format : mediumDate}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0 justify-content-center">
                <button class="btn btn-danger" ng-show="EXCEPTION_COUNT>0" type="button" click-once ng-click="VIEW_EXCEPTIONS(2)">View Exceptions</button>
                <button class="btn btn-primary" ng-show="EXCEPTION_COUNT>0" type="button" click-once ng-click="HRM_SCHDL_APPROVE_MULTIPLE_SHIFTS(ALL_APPROVE_SHIFT_IDS)">Approve all</button>
                <button class="btn btn-outline-danger" ng-show="EXCEPTION_COUNT>0 && shift_without_exception_count>0" type="button" click-once ng-click="HRM_SCHDL_APPROVE_MULTIPLE_SHIFTS(APPROVE_SHIFT_IDS_WITHOUT_EXCEPTION)">Approve all without exceptions</button>
                <button class="btn btn-outline" ng-show="EXCEPTION_COUNT==0" type="button" data-bs-dismiss="modal">Close</button>
                <button class="btn btn-primary" ng-show="EXCEPTION_COUNT==0" type="button" click-once ng-click="HRM_SCHDL_APPROVE_MULTIPLE_SHIFTS(APPROVE_SHIFT_IDS_WITHOUT_EXCEPTION)">Proceed</button>
            </div>
        </div>
    </div>
</div>
<!-- PUBLISH MODAL COMPLETE  ENDS -->
<!-- Add SHIFT MODAL STARTS HERE  -->
<div class="modal fade" id="Add_Shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title modal_custom_color">{{HEADER_LABEL_SHIFT}} shift on <span class="txt-primary">{{AddShiftSearch.BUSINESS_DATE | date : format : mediumDate}}</span> for </h6>
                <div class="col-xxl-auto col-xl-auto col-md-auto">
                    <input type="hidden"
                           name="BRANCH_ID"
                           required
                           ng-model="AddShiftSearch.SHIFT_BRANCH_ID"
                           ng-class="{'error':AddShiftForm.submitted && AddShiftForm.SHIFT_BRANCH_ID.$error.required}" />
                    <ul class="nav nav-pills min-w-220 mb-0 ms-2" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.SHIFT_BRANCH_ID.$error.required}">
                        <li class="dropdown w-100">
                            <a class="text-limitations cursor-pointer" data-toggle="dropdown" aria-expanded="true" ng-class="{'disabled': VIEW_MODE || EDIT_MODE}">
                                <span class="select-label" id="select_label">
                                    <span class="truncate-site">{{AddShiftSearch.SHIFT_CUSTOM_BRANCH_NAME}}</span>
                                </span>
                            </a>
                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                <!--<li class=""
                                    ng-show="AddShiftSearch.CUSTOM_DEPARTMENT_NAME != AddShiftSearch.DD_DEFAULT_TEXT"
                                    ng-click="SELECTED_SHIFT_SCHEDULE_BRANCH_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>-->
                                <li class=""
                                    ng-repeat="_branch in ADD_SHIFT_BRANCH_LIST"
                                    ng-click="SELECTED_SHIFT_SCHEDULE_BRANCH_Fn(_branch)">
                                    <span class="">{{_branch.BRANCH_NAME}}</span>
                                </li>
                            </ul>

                            <!--<ul ID="divNewNotifications" class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto" style="min-width:100%">
                                <li class="DontHideOnClick" ng-repeat="_branch in SCHEDULE_BRANCH_LIST">
                                    <div class="form-check">
                                        <input class="form-check-input"
                                               id="Site-{{$index}}"
                                               type="checkbox"
                                               prevent-double-click="2000"
                                               checked="">
                                        <label class="form-check-label truncate text-nowrap" for="Site-{{$index}}">{{_branch.BRANCH_NAME}}</label>
                                    </div>
                                </li>
                            </ul>-->

                        </li>
                    </ul>
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" ng-click="RESET_Fn()"></button>
            </div>
            <div class="modal-body scrollbar-wrapper">
                <!-- Upper View -->  <form name="AddShiftForm" novalidate autocomplete="off">
                    <div class="row">
                        <div class="col-xxl-9 col-md-9 col-xl-9">
                            <div class="row">
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Business Date <span class="txt-danger">*</span></label>
                                    <div class="date-column">
                                        <input type="text"
                                               class="dateinput mb-2"
                                               placeholder="Select Date"
                                               name="BUSINESS_DATE"
                                               required
                                               ng-disabled="AddShiftSearch.SCHDL_SHIFT_ID > 0 || VIEW_MODE"
                                               ng-model="AddShiftSearch.BUSINESS_DATE"
                                               ng-class="{'error':AddShiftForm.submitted && AddShiftForm.BUSINESS_DATE.$error.required}" />
                                        <i class="date-icon fa-light fa-calendar" aria-hidden="true"></i>
                                    </div>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Select Site to fetch Employee</label>
                                    <input type="hidden"
                                           name="EMPLY_BRANCH_ID"
                                           required
                                           ng-model="AddShiftSearch.EMPLY_BRANCH_ID"
                                           ng-class="{'error':AddShiftForm.submitted && AddShiftForm.EMPLY_BRANCH_ID.$error.required}" />
                                    <ul class="nav nav-pills mb-1" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.EMPLY_BRANCH_ID.$error.required}">
                                        <li class="dropdown w-100">
                                            <!-- ng-class="{'disabled': AddShiftSearch.SCHDL_SHIFT_ID > 0 || VIEW_MODE}"-->
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled': VIEW_MODE || EDIT_MODE}" data-toggle="dropdown" aria-expanded="true">
                                                <span class="select-label" id="select_label">
                                                    {{AddShiftSearch.CUSTOM_BRANCH_NAME}}
                                                </span>
                                            </a>
                                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">

                                                <li class=""
                                                    ng-repeat="_branch in ADD_SHIFT_BRANCH_LIST"
                                                    ng-click="SELECTED_BRANCH_Fn(_branch)">
                                                    <span class="">{{_branch.BRANCH_NAME}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Select Employee <span class="txt-danger">*</span></label>
                                    <ul class="nav nav-pills mb-2" ng-class="{'error':AddShiftForm.submitted && ANY_SELECTED_EMPLOYEE}">
                                        <li class="dropdown w-100">
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled': VIEW_MODE  || EDIT_MODE}"
                                               data-toggle="dropdown">
                                                <span class="select-label" id="select_label">
                                                    <span ng-if="(EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length == 1">
                                                        {{ (EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true})[0].EMPLOYEE_NAME }}
                                                    </span>
                                                    <span ng-if="(EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length != 1">
                                                        {{ (EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length }} Employee
                                                    </span>
                                                </span>
                                            </a>
                                            <ul ID="divNewNotifications" class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto" style="min-width:100%;border: 4px solid #fff">
                                                <li class="DontHideOnClick sticky-top bg-white" ng-init="TEXT_SEARCH = ''">
                                                    <input type="text"
                                                           placeholder="Search"
                                                           ng-model="TEXT_SEARCH" class="mb-1" ng-show="EMPLOYEE_LIST.length>0" />
                                                    <span ng-show="EMPLOYEE_LIST.length==0"> No Records to select.</span>
                                                </li>
                                                <li class="DontHideOnClick employee_add_shift my-1" ng-repeat="_employee in EMPLOYEE_LIST | orderBy : ['-IS_EMPLOYEE_SELECTED', 'EMPLOYEE_NAME'] | filter:{EMPLOYEE_NAME : TEXT_SEARCH} | filter:{BRANCH_ID: AddShiftSearch.EMPLY_BRANCH_ID}"
                                                    ng-init="_employee.IS_EMPLOYEE_SELECTED = _employee.IS_EMPLOYEE_SELECTED || false">
                                                    <div class="form-group form-check d-flex align-items-center mb-0" ng-init="ng_initemployee(_employee)" ng-click="SELECTED_EMPLOYEE_Fn(_employee)">
                                                        <input class="form-check-input"
                                                               id="employee_{{$index}}"
                                                               type="checkbox"
                                                               ng-model="_employee.IS_EMPLOYEE_SELECTED"
                                                               ng-disabled="AddShiftSearch.SCHDL_SHIFT_ID > 0"
                                                               checked="">
                                                        <span class="text_avatar_36 ms-2">{{_employee.SHORT_NAME}}</span>
                                                        <span class="txt-dark text-nowrap">{{_employee.EMPLOYEE_NAME}}</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Department <span class="txt-danger">*</span></label>
                                    <input type="hidden"
                                           name="DEPARTMENT_ID"
                                           required
                                           ng-model="AddShiftSearch.DEPARTMENT_ID"
                                           ng-class="{'error':AddShiftForm.submitted && AddShiftForm.DEPARTMENT_ID.$error.required}" />
                                    <ul class="nav nav-pills mb-2" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.DEPARTMENT_ID.$error.required}">
                                        <li class="dropdown w-100">
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled':VIEW_MODE}" data-toggle="dropdown" aria-expanded="true">
                                                <span class="select-label" id="select_label">
                                                    {{AddShiftSearch.CUSTOM_DEPARTMENT_NAME}}
                                                </span>
                                            </a>
                                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                                <li class=""
                                                    ng-show="AddShiftSearch.CUSTOM_DEPARTMENT_NAME != AddShiftSearch.DD_DEFAULT_TEXT"
                                                    ng-click="SELECTED_DEPARTMENT_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>
                                                <li class=""
                                                    ng-repeat="_department in DEPARTMENTS_LIST "
                                                    ng-click="SELECTED_DEPARTMENT_Fn(_department)">
                                                    <span class="">{{_department.DEPARTMENT_NAME}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Position <span class="txt-danger">*</span></label>
                                    <input type="hidden"
                                           name="POSITION_ID"
                                           required
                                           ng-model="AddShiftSearch.POSITION_ID"
                                           ng-class="{'error':AddShiftForm.submitted && AddShiftForm.POSITION_ID.$error.required}" />
                                    <ul class="nav nav-pills mb-2" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.POSITION_ID.$error.required}">
                                        <li class="dropdown w-100">
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled':VIEW_MODE}" data-toggle="dropdown" aria-expanded="true">
                                                <span class="select-label" id="select_label">
                                                    {{AddShiftSearch.CUSTOM_POSITION_NAME}}
                                                </span>
                                            </a>
                                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                                <li class=""
                                                    ng-show="AddShiftSearch.CUSTOM_POSITION_NAME != AddShiftSearch.DD_DEFAULT_TEXT"
                                                    ng-click="SELECTED_POSITION_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>
                                                <li class=""
                                                    ng-repeat="_position in POSITIONS_LIST "
                                                    ng-click="SELECTED_POSITION_Fn(_position)">
                                                    <span class="">{{_position.POSITION_NAME}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Section</label>
                                    <input type="hidden"
                                           name="SECTION_ID"
                                           ng-model="AddShiftSearch.SECTION_ID" />
                                    <ul class="nav nav-pills mb-2" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.SECTION_ID.$error.required}">
                                        <li class="dropdown w-100">
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled':VIEW_MODE}" data-toggle="dropdown" aria-expanded="true">
                                                <span class="select-label" id="select_label">
                                                    {{AddShiftSearch.CUSTOM_SECTION_NAME}}
                                                </span>
                                            </a>
                                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                                <li class=""
                                                    ng-show="AddShiftSearch.CUSTOM_SECTION_NAME != AddShiftSearch.DD_DEFAULT_TEXT"
                                                    ng-click="SELECTED_SECTION_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>
                                                <li class=""
                                                    ng-repeat="_section in SECTIONS_LIST "
                                                    ng-click="SELECTED_SECTION_Fn(_section)">
                                                    <span class="">{{_section.SECTION_NAME}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Shift Template</label>
                                    <input type="hidden"
                                           name="SHIFT_MASTER_ID"
                                           ng-model="AddShiftSearch.SHIFT_MASTER_ID" />
                                    <ul class="nav nav-pills mb-2">
                                        <li class="dropdown w-100">
                                            <a class="text-limitations cursor-pointer" ng-class="{'disabled':VIEW_MODE}" data-toggle="dropdown" aria-expanded="true">
                                                <span class="select-label" id="select_label">
                                                    <span class="truncate-rota">{{AddShiftSearch.CUSTOM_SHIFT_NAME}}</span>
                                                </span>
                                            </a>
                                            <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                                <li class=""
                                                    ng-show="AddShiftSearch.CUSTOM_SHIFT_NAME != AddShiftSearch.DD_DEFAULT_TEXT"
                                                    ng-click="SELECTED_SHIFT_TEMPLATE_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>
                                                <li class=""
                                                    ng-repeat="_shift in SHIFT_SCHDL_PIN_LIST "
                                                    ng-click="SELECTED_SHIFT_TEMPLATE_Fn(_shift)">
                                                    <span class="truncate-rota">{{_shift.SHIFT_NAME}}</span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <!--{{VIEW_MODE}}-->

                                    <div class="form-check" ng-show="false">
                                        ls
                                        <input class="form-check-input"
                                               id="Set_as_Default"
                                               type="checkbox"
                                               value=""
                                               ng-disabled="VIEW_MODE"
                                               ng-model="AddShiftSearch.SET_DEFAULT"
                                               ng-checked="AddShiftSearch.SET_DEFAULT">
                                        <label class="form-check-label" for="Set_as_Default">Set as default</label>
                                    </div>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Start time <span class="txt-danger">*</span></label>
                                    <div class="date-column">
                                        <input class="form-control py-2 mb-2"
                                               placeholder="Select time"
                                               moment-picker="AddShiftSearch.SCHEDULED_START"
                                               format="HH:mm"
                                               change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.SCHEDULED_START,AddShiftSearch.SCHEDULED_END, 1)"
                                               name="SCHEDULED_START"
                                               autocomplete="off"
                                               show-header="0"
                                               readonly
                                               ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                               ng-model="AddShiftSearch.SCHEDULED_START"
                                               ng-model-options="{ updateOn: 'blur' }"
                                               required
                                               only-digits
                                               ng-disabled="VIEW_MODE"
                                               ng-class="{'error': AddShiftForm.submitted && AddShiftForm.SCHEDULED_START.$error.required}" />
                                        <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                    </div>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>End time <span class="txt-danger">*</span></label>
                                    <div class="date-column">
                                        <input class="form-control py-2 mb-2"
                                               placeholder="Select time"
                                               format="HH:mm"
                                               change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.SCHEDULED_START,AddShiftSearch.SCHEDULED_END, 1)"
                                               name="SCHEDULED_END"
                                               moment-picker="AddShiftSearch.SCHEDULED_END"
                                               autocomplete="off"
                                               show-header="0"
                                               ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                               readonly
                                               ng-model="AddShiftSearch.SCHEDULED_END"
                                               ng-model-options="{ updateOn: 'blur' }"
                                               required
                                               only-digits
                                               ng-disabled="VIEW_MODE"
                                               ng-class="{'error': AddShiftForm.submitted && AddShiftForm.SCHEDULED_END.$error.required}" />
                                        <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                    </div>
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Shift Count <span class="txt-danger">*</span></label>
                                    <input type="text"
                                           placeholder="Type here"
                                           class="mb-2"
                                           name="SHIFT_COUNT"
                                           ng-model="AddShiftSearch.SHIFT_COUNT"
                                           min="0.1"
                                           maxlength="4"
                                           only-digits
                                           required
                                           ng-disabled="VIEW_MODE"
                                           ng-class="{'error': AddShiftForm.submitted && AddShiftForm.SHIFT_COUNT.$error.required}" />
                                </div>
                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Paid break <span class="f-w-400 ms-1"> (mins)</span></label>
                                    <input type="text"
                                           placeholder="Type here"
                                           class="mb-2"
                                           only-digits
                                           maxlength="3"
                                           ng-disabled="VIEW_MODE"
                                           ng-model="AddShiftSearch.SCHEDULED_PAID_BREAK"
                                           min="0"
                                           ng-class="{'error': AddShiftForm.submitted && AddShiftForm.SCHEDULED_PAID_BREAK.$error.required}" />
                                </div>

                                <div class="col-xxl-4 col-md-4 col-xl-4">
                                    <label>Unpaid break <span class="f-w-400 ms-1">(mins)</span></label>
                                    <input type="text"
                                           placeholder="Type here"
                                           class="mb-2"
                                           only-digits
                                           maxlength="3"
                                           min="0"
                                           ng-change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.SCHEDULED_START,AddShiftSearch.SCHEDULED_END, 1)"
                                           ng-disabled="VIEW_MODE"
                                           ng-model="AddShiftSearch.SCHEDULED_UNPAID_BREAK"
                                           ng-class="{'error': AddShiftForm.submitted && AddShiftForm.SCHEDULED_UNPAID_BREAK.$error.required}" />
                                </div>


                                <div class="col-xxl-12 col-md-12 col-xl-12">
                                    <div class="shiftNotes">
                                        <label>Comments</label>
                                        <a class="txt-primary" ng-show="!VIEW_MODE" ng-click="AddShiftSearch.NOTE = ''">Clear</a>
                                    </div>
                                    <textarea placeholder="Type here"
                                              class="mb-0 scrollbar-wrapper"
                                              rows="3"
                                              name="NOTE"
                                              ng-model="AddShiftSearch.NOTE"
                                              ng-disabled="VIEW_MODE && !ENABLE_APPROVE_BUTTON && !ENABLE_UPDATE_BUTTON"
                                              maxlength="500"></textarea>
                                    <span class="float-end text-gray">{{AddShiftSearch.NOTE.length || 0}}/500</span>
                                </div>
                            </div>

                        </div>
                        <div class="col-xxl-3 col-md-3 col-xl-3">
                            <div class="my-container-bg-gray">
                                <div class="row">
                                    <div class="col-xxl-12 col-md-12 col-xl-12 mb-3">
                                        <div class="row">
                                            <div class="col-xxl-2 col-md-2 col-xl-2 ipad_column_auto">
                                                <div class="badge-dark-primary me-2">
                                                    <i class="fa-light fa-timer"></i>
                                                </div>
                                            </div>
                                            <div class="col-xxl-10 col-md-10 col-xl-10 ipad_column_auto">
                                                <div class="shift-modal-container">
                                                    <span class="span-head-mini">Total Shift Length</span>
                                                </div>
                                                <span class="span-head">{{TotalMinutesToHoursString(AddShiftSearch.TOTAL_SHIFT_LENGTH)}}</span>
                                                <span class="badge badge-light-success badge_text_totals" ng-show="AddShiftSearch.STATUS_ID==93">{{TotalMinutesToHoursString(AddShiftSearch.TOTAL_APPROVED_CLOCK_MINUTES) }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-xxl-12 col-md-12 col-xl-12">
                                        <div class="row">
                                            <div class="col-xxl-2 col-md-2 col-xl-2 ipad_column_auto">
                                                <div class="badge-dark-primary me-2">
                                                    <i class="fa-light fa-timer"></i>
                                                </div>
                                            </div>
                                            <div class="col-xxl-10 col-md-10 col-xl-10 ipad_column_auto">
                                                <div class="shift-modal-container">
                                                    <span class="span-head-mini">Total Duration</span>
                                                </div>
                                                <span class="span-head">{{TotalMinutesToHoursString(AddShiftSearch.SCHEDULED_DURATION) }}</span>
                                                <span class="badge badge-light-success badge_text_totals" ng-show="AddShiftSearch.STATUS_ID==93">{{TotalMinutesToHoursString(AddShiftSearch.APPROVED_SHIFT_DURATION) }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="border b-r-5 p-2 mb-3">
                                    <div class="col-xxl-12 col-xl-12 col-md-12">
                                        <label>Special Wage</label>
                                        <div class="media form-control justify-content-between mb-1">
                                            <label class="col-form-label m-r-5 text-grey">No</label>
                                            <div class="media-body switch-sm">
                                                <label class="switch">
                                                    <input type="checkbox" ng-disabled="VIEW_MODE" ng-model="AddShiftSearch.IS_SPECIAL_WAGE" ng-change="SETVALUE_WAGE(2)">
                                                    <span class="switch-state" name="SPECIAL_WAGE"> </span>
                                                </label>
                                            </div>
                                            <label class="col-form-label m-l-5 text-grey">Yes</label>
                                        </div>
                                    </div>
                                    <div class="col-xxl-12 col-xl-12 col-md-12" ng-show="AddShiftSearch.IS_SPECIAL_WAGE">

                                        <label class="f-12">Wage type<span class="txt-danger">*</span></label>
                                        <input type="hidden"
                                               ng-model="AddShiftSearch.WAGE_TYPE_ID"
                                               name="WAGE_TYPE_ID"
                                               ng-disabled="VIEW_MODE"
                                               ng-required="AddShiftSearch.IS_SPECIAL_WAGE"
                                               ng-class="{'error':AddShiftForm.submitted && AddShiftForm.WAGE_TYPE_ID.$error.required && AddShiftSearch.IS_SPECIAL_WAGE==true}" />
                                        <ul class="nav nav-pills mb-1" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.WAGE_TYPE_ID.$error.required && AddShiftSearch.IS_SPECIAL_WAGE==true}">
                                            <li class="dropdown w-100">
                                                <a class="text-limitations cursor-pointer"
                                                   data-toggle="dropdown">
                                                    <span class="select-label" id="select_label">
                                                        <span class="truncate f-12">{{AddShiftSearch.CUSTOM_WAGE_NAME}}</span>
                                                    </span>
                                                </a>
                                                <ul ID="divNewNotifications"
                                                    class="dropdown-menu scrollbar-wrapper w-auto"
                                                    style="min-width:100%">
                                                    <li class=""
                                                        ng-show="ShiftEmpSearch.DD_DEFAULT_TEXT!=AddShiftSearch.CUSTOM_WAGE_NAME"
                                                        ng-click="SELECTED_WAGE_Fn('',1)">{{ShiftEmpSearch.DD_DEFAULT_TEXT}}</li>
                                                    <li class=""
                                                        ng-click="SELECTED_WAGE_Fn(_wage,1)"
                                                        ng-repeat="_wage in WAGES_LIST">
                                                        <span class="">{{_wage.WAGE_NAME}}</span>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-xxl-12 col-xl-12 col-md-12" ng-show="AddShiftSearch.IS_SPECIAL_WAGE">
                                        <label class="f-12">Value<span class="txt-danger">*</span></label>
                                        <input type="text"
                                               class="mb-0 input_12"
                                               name="WAGE"
                                               only-digits
                                               maxlength="6"
                                               ng-disabled="VIEW_MODE"
                                               placeholder="{{PLACE_HOLDER}}"
                                               ng-model="AddShiftSearch.WAGE"
                                               ng-required="AddShiftSearch.IS_SPECIAL_WAGE"
                                               ng-class="{'error':AddShiftForm.submitted && AddShiftForm.WAGE.$error.required && AddShiftSearch.IS_SPECIAL_WAGE==true}" />
                                    </div>
                                </div>

                                <!--<div class="col-xxl-12 col-md-12 col-xl-12">
                                    <div class="row">
                                        <div class="col-xxl-2 col-md-2 col-xl-2">
                                            <div class="badge-dark-primary me-2">
                                                <i class="fa-light fa-mug-hot"></i>
                                            </div>
                                        </div>
                                        <div class="col-xxl-10 col-md-10 col-xl-10">
                                            <div class="shift-modal-container">
                                                <span class="span-head-mini">Paid Breaks</span>
                                            </div>
                                            <span class="span-head">{{AddShiftSearch.SCHEDULED_PAID_BREAK || 0}} mins</span>
                                        </div>
                                    </div>
                                </div>-->
                                <!--<div class="row  mb-3">
                                    <div class="col-xxl-12 col-md-12 col-xl-12">
                                        <div class="row">
                                            <div class="col-xxl-2 col-md-2 col-xl-2">
                                                <div class="badge-dark-primary me-2">
                                                    <i class="fa-light fa-mug-hot"></i>
                                                </div>
                                            </div>
                                            <div class="col-xxl-10 col-md-10 col-xl-10">
                                                <div class="shift-modal-container">
                                                    <span class="span-head-mini">UnPaid Breaks</span>
                                                </div>
                                                <span class="span-head">{{AddShiftSearch.SCHEDULED_UNPAID_BREAK || 0}} mins</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->


                                <div class="row mb-3" ng-show="HIDE_COST">
                                    <div class="col-xxl-12 col-md-12 col-xl-12">
                                        <div class="row align-items-center">
                                            <div class="col-xxl-2 col-md-2 col-xl-2 ipad_column_auto">
                                                <div class="badge-dark-primary me-2">
                                                    <i class="fa-light fa-money-bill"></i>
                                                </div>
                                            </div>
                                            <div class="col-xxl col-md col-xl ipad_column_auto">
                                                <div class="shift-modal-container">
                                                    <span class="span-head-mini">Total costs</span>
                                                </div>
                                                <span class="span-head d-block">£ {{AddShiftSearch.WAGE_COST | number:2}}</span>
                                                <span class="badge badge-light-success badge_text_totals" ng-show="AddShiftSearch.STATUS_ID==93">£ {{AddShiftSearch.APPROVED_WAGE_COST | number:2}}</span>
                                            </div>
                                            <div class="col-xxl-auto col-md-auto col-xl-auto">
                                                <div class="btn btn-light-blue btn-sm mt-xs-2" ng-show="SHOW_REFRESH_WAGE" ng-click="HRM_SCHDL_GET_WAGE_COST(1)">
                                                    <i class="fa-light fa-refresh " ng-class="{'fa-spin' : IS_COST_FETCHING}"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xxl-12 col-md-12 col-xl-12" ng-show="false">
                                    <div class="row g-0 txt-danger mb-4">
                                        <div class="col-xxl-auto col-md-auto col-xl-auto text-center">
                                            <i class="fa-light fa-triangle-exclamation mx-1"></i>
                                        </div>
                                        <div class="col-xxl col-md col-xl f-w-400">
                                            The wage rate seems to be more than the contracted pay.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row d-none displayShiftDetails mt-4">
                                <div class="col-xxl-12 col-md-12 col-xl-12">
                                    <div class="card mb-2">
                                        <div class="card-body py-2">
                                            <div class="form-check">
                                                <input class="form-check-input" id="Approve" type="checkbox" value="" checked="">
                                                <label class="form-check-label f-s-12" for="Approve">
                                                    Approve shift for payroll
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="row" ng-show="AddShiftSearch.SCHDL_SHIFT_ID > 0">
                    <div class="card-body py-0">
                        <div class="card-header p-0 border-0">
                            <ul class="nav nav-tabs border-tab mb-0" id="bottom-tab" role="tablist">
                                <li class="nav-item ps-0" ng-show="ENABLE_APPROVE_BUTTON || AddShiftSearch.STATUS_ID == 93">
                                    <a class="nav-link nav-border tab-info active" ng-class="{'active':ADD_SHIFT_TAB_ID==1}" ng-click="Fn_SHIFT_TAB_CLICK(1)" id="bottom-home-tab" data-bs-toggle="tab" role="tab" aria-controls="bottom-home" aria-selected="true">
                                        Actuals
                                    </a>
                                </li>
                                <li class="nav-item ps-0">
                                    <a class="nav-link nav-border tab-info" ng-class="{'active':ADD_SHIFT_TAB_ID==2}" ng-click="Fn_SHIFT_TAB_CLICK(2)" id="bottom-home-tab" data-bs-toggle="tab" role="tab" aria-controls="bottom-home" aria-selected="true">
                                        Communication
                                    </a>
                                </li>
                                <!--<li class="nav-item">
                                    <a class="nav-link nav-border tab-info" ng-class="{'active':ADD_SHIFT_TAB_ID==3}" ng-click="Fn_SHIFT_TAB_CLICK(3)" id="bottom-home-tab" data-bs-toggle="tab" role="tab" aria-controls="bottom-home" aria-selected="true">
                                        Supplements
                                    </a>
                                </li>-->
                                <li class="nav-item">
                                    <a class="nav-link nav-border tab-info" ng-class="{'active':ADD_SHIFT_TAB_ID==4}" ng-click="Fn_SHIFT_TAB_CLICK(4)" id="bottom-inbox-tab" data-bs-toggle="tab" role="tab" aria-controls="bottom-inbox" aria-selected="false">
                                        History
                                    </a>
                                </li>
                                <li class="nav-item" ng-show="false">
                                    <a class="nav-link nav-border tab-info" ng-class="{'active':ADD_SHIFT_TAB_ID==6}" ng-click="Fn_SHIFT_TAB_CLICK(6)" id="bottom-inbox-tab" data-bs-toggle="tab" role="tab" aria-controls="bottom-inbox" aria-selected="false">
                                        View wage
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="pt-3 active" ng-show="ADD_SHIFT_TAB_ID==1">
                            <form name="ActualForm" novalidate autocomplete="off">
                                <div class="row">
                                    <div class="col-xxl-6 col-md-6 col-xl-6">
                                        <!--<div class="col-xxl-12 col-xl-12 col-md-12">
                                            <div class="media form-control justify-content-between mb-1">
                                                <label class="col-form-label m-r-5 text-grey">Use Scheduled Time As Approved</label>
                                                <div class="media-body switch-sm">
                                                    <label class="switch">
                                                        <input type="checkbox" ng-disabled="!APPROVE_MODE" ng-model="USE_SCHEDULED" ng-change="SETVALUE_USE_AS(1)" class="ng-untouched ng-valid ng-dirty ng-valid-parse ng-not-empty" style="">
                                                        <span class="switch-state" name="USE_SCHEDULED"> </span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>-->
                                        <!--<div class="col-xxl-12 col-xl-12 col-md-12" ng-show="AddShiftSearch.CLOCK_OUT!=null">
                                            <div class="media form-control justify-content-between mb-1">
                                                <label class="col-form-label m-r-5 text-grey">Use Actual Clock-In As Approved</label>
                                                <div class="media-body switch-sm">
                                                    <label class="switch">
                                                        <input type="checkbox" ng-disabled="!APPROVE_MODE" ng-model="USE_CLOCKIN" ng-change="SETVALUE_USE_AS(2)" class="ng-untouched ng-valid ng-dirty ng-valid-parse ng-not-empty" style="">
                                                        <span class="switch-state" name="USE_CLOCKIN"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>-->


                                        <div class="row gx-1 align-items-center">
                                            <div class="col-xxl-auto col-md-auto col-xl-auto"><h6 class="span-head mb-1">Clock In/Out Details</h6></div>
                                            <div class="col-xxl-4 col-md-12 col-xl-4 ms-auto">
                                                <div class="media form-control justify-content-between mb-1">
                                                    <label class="col-form-label-xs m-r-5 text-grey text-nowrap">Use Scheduled Time</label>
                                                    <div class="media-body switch-xs">
                                                        <label class="switch">
                                                            <input type="checkbox" ng-disabled="!APPROVE_MODE" ng-model="USE_SCHEDULED" ng-change="SETVALUE_USE_AS(1)" class="ng-untouched ng-valid ng-dirty ng-valid-parse ng-not-empty" style="">
                                                            <span class="switch-state-xs" name="USE_SCHEDULED"> </span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xxl-4 col-md-12 col-xl-4" ng-show="AddShiftSearch.CLOCK_OUT!=null && AddShiftSearch.CLOCK_OUT!='-'">
                                                <div class="media form-control justify-content-between mb-1">
                                                    <label class="col-form-label-xs m-r-5 text-grey text-nowrap">Use Actual Clock-In</label>
                                                    <div class="media-body switch-xs">
                                                        <label class="switch">
                                                            <input type="checkbox" ng-disabled="!APPROVE_MODE" ng-model="USE_CLOCKIN" ng-change="SETVALUE_USE_AS(2)" class="ng-untouched ng-valid ng-dirty ng-valid-parse ng-not-empty" style="">
                                                            <span class="switch-state-xs" name="USE_CLOCKIN"></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="mb-0">
                                                <thead>
                                                    <tr>
                                                        <th width="20%"></th>
                                                        <th width="10%" class="text-center">Image</th>
                                                        <th>Actuals</th>
                                                        <th width="40%">Approved</th>
                                                    </tr>
                                                </thead>
                                                <tbody ng-init="GET_EMPLOYEE_SHORT_NAME_Fn()">
                                                    <tr>
                                                        <td>Clock-in</td>
                                                        <td class="text-center">
                                                            <img class="profile_pic_24" src="{{AddShiftSearch.CLOCK_IN_IMAGE_PATH}}" alt="Profile Image" ng-show="AddShiftSearch.CLOCK_IN_IMAGE_PATH != null && AddShiftSearch.CLOCK_IN_IMAGE_PATH!=''" />
                                                            <span class="text_avatar" ng-show="AddShiftSearch.CLOCK_IN_IMAGE_PATH == null || AddShiftSearch.CLOCK_IN_IMAGE_PATH==''">{{AddShiftSearch.SHORT_NAME}}</span>
                                                        </td>
                                                        <td>{{(AddShiftSearch.CLOCK_IN | toDate | date: "MMM dd, yyyy HH:mm") || '-' }} </td>
                                                        <td>
                                                            <div ng-show="SHIFT_ACTUAL.APPROVED_CLOCK_IN != '' || SHIFT_ACTUAL.APPROVED_CLOCK_IN != null">{{SHIFT_ACTUAL.APPROVED_CLOCK_IN | toDate | date: "MMM dd, yyyy hh:mm" }}</div>
                                                            <div class="date-column" ng-if="SHIFT_ACTUAL.APPROVED_CLOCK_IN == '' || SHIFT_ACTUAL.APPROVED_CLOCK_IN == null">
                                                                <div>
                                                                    <input class="form-control py-2 mb-0"
                                                                           placeholder="Select time"
                                                                           format="HH:mm"
                                                                           change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.APPROVED_CLOCK_IN,AddShiftSearch.APPROVED_CLOCK_OUT, 3)"
                                                                           name="APPROVED_CLOCK_IN"
                                                                           moment-picker="AddShiftSearch.APPROVED_CLOCK_IN"
                                                                           autocomplete="off"
                                                                           show-header="0"
                                                                           ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                                                           readonly
                                                                           ng-model="AddShiftSearch.APPROVED_CLOCK_IN"
                                                                           ng-model-options="{ updateOn: 'blur' }"
                                                                           required
                                                                           only-digits
                                                                           ng-disabled="!ENABLE_APPROVE_BUTTON"
                                                                           ng-class="{'error': ActualForm.submitted && ActualForm.APPROVED_CLOCK_IN.$error.required}" />
                                                                    <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Clock-out</td>
                                                        <td class="text-center">
                                                            <img class="profile_pic_24" src="{{AddShiftSearch.CLOCK_OUT_IMAGE_PATH}}" alt="Profile Image" ng-show="AddShiftSearch.CLOCK_OUT_IMAGE_PATH != null && AddShiftSearch.CLOCK_OUT_IMAGE_PATH != ''" />
                                                            <span class="text_avatar" ng-show="AddShiftSearch.CLOCK_OUT_IMAGE_PATH == null || AddShiftSearch.CLOCK_OUT_IMAGE_PATH ==''">{{AddShiftSearch.SHORT_NAME}}</span>
                                                        </td>
                                                        <td>{{(AddShiftSearch.CLOCK_OUT | toDate | date: "MMM dd, yyyy HH:mm") || '-' }}</td>
                                                        <td>
                                                            <div ng-show="SHIFT_ACTUAL.APPROVED_CLOCK_OUT != '' || SHIFT_ACTUAL.APPROVED_CLOCK_OUT != null">{{SHIFT_ACTUAL.APPROVED_CLOCK_OUT | toDate | date: "MMM dd, yyyy hh:mm" }}</div>
                                                            <div class="date-column" ng-if="SHIFT_ACTUAL.APPROVED_CLOCK_OUT == '' || SHIFT_ACTUAL.APPROVED_CLOCK_OUT == null">
                                                                <div>
                                                                    <input class="form-control py-2 mb-0"
                                                                           placeholder="Select time"
                                                                           format="HH:mm"
                                                                           change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.APPROVED_CLOCK_IN,AddShiftSearch.APPROVED_CLOCK_OUT, 3)"
                                                                           name="APPROVED_CLOCK_OUT"
                                                                           moment-picker="AddShiftSearch.APPROVED_CLOCK_OUT"
                                                                           autocomplete="off"
                                                                           show-header="0"
                                                                           ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                                                           readonly
                                                                           ng-model="AddShiftSearch.APPROVED_CLOCK_OUT"
                                                                           ng-model-options="{ updateOn: 'blur' }"
                                                                           required
                                                                           only-digits
                                                                           ng-disabled="!ENABLE_APPROVE_BUTTON"
                                                                           ng-class="{'error': ActualForm.submitted && ActualForm.APPROVED_CLOCK_OUT.$error.required}" />
                                                                    <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                                <tfoot>
                                                    <tr>
                                                        <td>Total Hours</td>
                                                        <td></td>
                                                        <td>{{AddShiftSearch.CLOCK_IN_SHIFT_DURATION}}</td>
                                                        <td>{{AddShiftSearch.TOTAL_APPROVED_CLOCK_HOURS}}</td>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col-xxl-6 col-md-6 col-xl-6">
                                        <h6 class="span-head break_column">Breaks</h6>
                                        <div class="table-responsive">
                                            <table class="mb-0">
                                                <thead>
                                                    <tr>
                                                        <th>In</th>
                                                        <th>Out</th>
                                                        <th>Minutes</th>
                                                        <th class="text-center" ng-show="ENABLE_APPROVE_BUTTON">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="_break in BREAK_IN_LIST | filter:{'IS_DISCARDED':false}" ng-init="InitializeBreaks(_break)">
                                                        <td>
                                                            <div class="date-column">
                                                                <input class="form-control py-2 mb-0"
                                                                       placeholder="Select time"
                                                                       moment-picker="_break.BREAK_IN"
                                                                       format="HH:mm"
                                                                       change="UPDATE_TOTAL_DURATION_Fn(_break.BREAK_IN,_break.BREAK_OUT, 4, _break)"
                                                                       name="BREAK_IN"
                                                                       show-header="0"
                                                                       required
                                                                       readonly
                                                                       autocomplete="off"
                                                                       ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                                                       ng-model="_break.BREAK_IN"
                                                                       ng-disabled="!ENABLE_APPROVE_BUTTON"
                                                                       ng-model-options="{ updateOn: 'blur' }"
                                                                       ng-class="{'error': ActualForm.submitted && ActualForm.BREAK_IN.$error.required}" />
                                                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="date-column">
                                                                <input class="form-control py-2 mb-0"
                                                                       moment-picker="_break.BREAK_OUT"
                                                                       format="HH:mm"
                                                                       change="UPDATE_TOTAL_DURATION_Fn(_break.BREAK_IN,_break.BREAK_OUT, 4, _break)"
                                                                       placeholder="Select time"
                                                                       name="BREAK_OUT"
                                                                       required
                                                                       readonly
                                                                       show-header="0"
                                                                       minutes-step="5"
                                                                       ng-disabled="!ENABLE_APPROVE_BUTTON"
                                                                       autocomplete="off"
                                                                       ng-pattern="/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/"
                                                                       ng-model="_break.BREAK_OUT"
                                                                       ng-model-options="{ updateOn: 'blur' }"
                                                                       ng-class="{'error': ActualForm.submitted && ActualForm.BREAK_OUT.$error.required}" />
                                                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                                                            </div>
                                                        </td>
                                                        <td>{{_break.DURATION.toFixed(0)}}</td>
                                                        <td class="text-center" ng-show="ENABLE_APPROVE_BUTTON"
                                                            ng-click="REMOVE_BREAK_IN_Fn(_break)"
                                                            ng-disabled="!ENABLE_APPROVE_BUTTON">
                                                            <i class="fa-light fa-xmark txt-danger c-pointer" data-bs-toggle="tooltip" data-bs-title="Discard"></i>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                                <tfoot>
                                                    <tr>
                                                        <td>Total</td>
                                                        <td></td>
                                                        <td>{{AddShiftSearch.TOTAL_BREAK_MINUTES.toFixed(0)}}</td>
                                                        <td ng-show="ENABLE_APPROVE_BUTTON"></td>
                                                    </tr>
                                                    <tr ng-show="ENABLE_APPROVE_BUTTON">
                                                        <td colspan="4">
                                                            <button type="button"
                                                                    class="btn btn-sm btn-outline w-100"
                                                                    ng-click="ADD_NEW_BREAK_IN_Fn()"
                                                                    ng-disabled="!ENABLE_APPROVE_BUTTON">
                                                                Add New
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="pt-3" ng-show="ADD_SHIFT_TAB_ID==2">
                            <div class="row">
                                <div class="col-xxl-12 col-xl-12 col-md-12" ng-repeat="communication in  COMMUNICATION_LIST">
                                    <blockquote class="blockquote">
                                        <p>
                                            {{communication.NOTE}}
                                        </p>
                                    </blockquote>
                                </div>
                                <div class="col-xxl-12 col-xl-12 col-md-12" ng-show="COMMUNICATION_LIST.length == 0">
                                    <blockquote class="blockquote">
                                        <p class="text-center">
                                            No Record!
                                        </p>
                                    </blockquote>
                                </div>
                            </div>
                        </div>
                        <!--<div class="pt-3" ng-show="ADD_SHIFT_TAB_ID==3" >
                            <div class="row">
                                <div class="col-xxl-6 col-xl-6 col-md-6">
                                    <label>Supplement Name</label>
                                    <input type="text" placeholder="Add here" />
                                </div>
                                <div class="col-xxl-6 col-xl-6 col-md-6">
                                    <label>Hourly</label>
                                    <input type="text" placeholder="Add here" />
                                </div>
                            </div>
                        </div>-->
                        <div class="py-3" ng-show="ADD_SHIFT_TAB_ID==4">
                            <div class="table-responsive">
                                <table class="mb-0">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Change</th>
                                            <th>Changed By</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="_history in SHIFT_HISTORY_LIST">
                                            <td>{{_history.CREATED_DATE | date : 'MMM dd, yyyy'}}</td>
                                            <td>{{_history.HISTORY_MESSAGE}}</td>
                                            <td>{{_history.USER_NAME}}</td>
                                        </tr>
                                        <tr ng-show="SHIFT_HISTORY_LIST.length == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="pt-3" ng-show="ADD_SHIFT_TAB_ID==6">
                            <form name="ADD_SHIFT_WAGE_FORM" novalidate autocomplete="off">
                                <div class="row">
                                    <div class="col-xxl-12 col-md-12 col-xl-12">
                                        <div class="txt-danger mb-4"><i class="fa-regular fa-triangle-exclamation mx-1"></i> You can set a unique wage to override the employee’s default wage for this shift only.</div>
                                    </div>
                                    <div class="col-xxl-6 col-md-6 col-xl-6">
                                        <label>Wage</label>
                                        <input type="text"
                                               name="WAGE"
                                               placeholder="€ 15.13"
                                               ng-model="AddShiftSearch.WAGE"
                                               class="mb-0" />
                                        <span class="span-small-text">The default wage for James Baines is €15.13</span>
                                    </div>
                                    <div class="col-xxl-6 col-xl-6 col-md-6">
                                        <label>Wage type<span class="txt-danger">*</span></label>
                                        <input type="hidden"
                                               name="WAGE_TYPE_ID"
                                               ng-model="AddShiftSearch.WAGE_TYPE_ID"
                                               ng-class="{'error':ADD_SHIFT_WAGE_FORM.submitted && ADD_SHIFT_WAGE_FORM.WAGE_TYPE_ID.$error.required}" />
                                        <ul class="nav nav-pills" ng-class="{'error':ADD_SHIFT_WAGE_FORM.submitted && ADD_SHIFT_WAGE_FORM.WAGE_TYPE_ID.$error.required}">
                                            <li class="dropdown w-100">
                                                <a class="text-limitations cursor-pointer"
                                                   data-toggle="dropdown">
                                                    <span class="select-label" id="select_label">
                                                        {{AddShiftSearch.CUSTOM_WAGE_NAME}}
                                                    </span>
                                                </a>
                                                <ul ID="divNewNotifications"
                                                    class="dropdown-menu scrollbar-wrapper w-auto"
                                                    style="min-width:100%">
                                                    <li class=""
                                                        ng-show="AddShiftSearch.DD_DEFAULT_TEXT!=AddShiftSearch.CUSTOM_WAGE_NAME"
                                                        ng-click="SELECTED_ADD_SHIFT_WAGE_Fn('')">{{AddShiftSearch.DD_DEFAULT_TEXT}}</li>
                                                    <li class=""
                                                        ng-click="SELECTED_ADD_SHIFT_WAGE_Fn(_wage)"
                                                        ng-repeat="_wage in WAGES_LIST">
                                                        <span class="">{{_wage.WAGE_NAME}}</span>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="btn btn-primary my-2"
                                            click-once ng-click="SAVE_WAGE()">
                                        Save
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-outline-danger my-2" ng-class="{'disabled' :AddShiftSearch.STATUS_ID == 93 || AddShiftSearch.SCHDL_SHIFT_ID == 0}"
                        ng-click="DELETE_ADD_SHIFT_Fn()"
                        ng-disabled="APPROVE_MODE">
                    Delete
                </button>
                <button class="btn btn-warning-outline my-2"
                        ng-disabled="VIEW_MODE"
                        click-once
                        ng-click="AddShiftSearch.SCHDL_SHIFT_ID > 0 ? HRM_SCHDL_UPD_SHIFT(1,1): HRM_SCHDL_INS_SHIFTS(1)">
                    <i class="fa-light fa-circle-xmark me-2"></i>
                    Mark as Unavailable
                </button>
                <button class="btn btn-light my-2"
                        ng-disabled="VIEW_MODE"
                        ng-click="RESET_Fn()">
                    Cancel
                </button>
                <button class="btn btn-primary my-2"
                        ng-show="ENABLE_UPDATE_BUTTON || AddShiftSearch.SCHDL_SHIFT_ID == 0"
                        ng-disabled="VIEW_MODE"
                        click-once ng-click="AddShiftSearch.SCHDL_SHIFT_ID > 0 ? HRM_SCHDL_UPD_SHIFT(1,0): HRM_SCHDL_INS_SHIFTS(0)">
                    {{AddShiftSearch.SCHDL_SHIFT_ID > 0 ? 'Update': 'Save'}}
                </button>
                <button class="btn btn-light-success my-2"
                        ng-disabled="VIEW_MODE && !ENABLE_APPROVE_BUTTON"
                        ng-show="ENABLE_APPROVE_BUTTON"
                        click-once ng-click="HRM_SCHDL_APPROVE_BY_SHIFT_ID(AddShiftSearch)">
                    Approve
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Add SHIFT MODAL ENDS HERE -->
<!-- Add SHIFT Overlap Start HERE -->
<div class="modal fade" id="overlap_employee_POPUP" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content custom-modal">
            <div class="modal-header border-0">
                <button type="button" class="btn-close modal-close" ng-click="CLOSE_OVERLAP_POPUP_Fn()"></button>
            </div>
            <div class="modal-body text-center">
                <div class="modal-toggle-wrapper">
                    <div class="d-flex justify-content-center">
                        <div class="tickIcon_warning">
                            <span class="badge text-bg-warning-modal">
                                <i class="fa-light fa-triangle-exclamation fa-lg"></i>
                            </span>
                        </div>
                    </div>
                    <h6 class="text-center pb-2 fw-500">The following employees have an overlapping shift. </h6>
                    <div class="alert alert-light-warning py-2" ng-repeat="overlap_employee in OVERLAP_EMP_LIST">
                        <div class="row align-items-center">
                            <div class="col-auto"><i class="fa-light fa-triangle-exclamation txt-orange fa-lg"></i></div>
                            <div class="col text-start">
                                <span class="txt-orange" href="#">{{overlap_employee.EMPLOYEE_NAME}} - Site: {{overlap_employee.BRANCH_NAME}} <br />{{overlap_employee.BUSINESS_DATE | date: 'dd MMM ,yyyy'}} ({{overlap_employee.SCHEDULED_START | date : 'h:mm a'}} - {{overlap_employee.SCHEDULED_END | date:'h:mm a'}})</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-center text-dark">Please amend their shift or remove their name from the employee list before saving this shift</p>
                </div>
                <div class="row">
                    <button type="button" class="btn btn-outline w-100" ng-click="CLOSE_OVERLAP_POPUP_Fn()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Add SHIFT Overlap ENDS HERE -->
<!-- COPY SHIFT MODAL STARTS-->
<div class="modal fade" id="copy_shifts" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 f-w-500">Copy Shift to 25 Sept 2024</h6>
                    <p class="text-center text-dark mb-0">You are copying the shift(07:00 to 16:00) from 24th Sept and applying  to following dates</p>
                    <p class="text-center text-dark mb-0">If you agree to proceed, this will replace any other shift created for Malik Wihowo on 25th Sept.</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-danger w-100" type="button" data-bs-dismiss="modal">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- COPY SHIFT MODAL ENDS -->
<!-- COPY WEEK SHIFT MODAL STARTS-->
<div class="modal fade" id="copy_shift_week" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="col-xxl-12 col-xl-12 col-md-12 d-flex align-items-center justify-content-center">
                        <span class="tickIcon_primary mt-0">
                            <span class="badge text-bg-primary-modal">
                                <i class="fa-light fa-copy fa-lg"></i>
                            </span>
                        </span>
                    </div>
                    <h6 class="text-center pb-2 f-w-500">Copy Shift from {{START_DATE | date : format : mediumDate}} - {{END_DATE | date : format : mediumDate}}</h6>
                    <hr class="mb-2" />
                    <h6 class="border-bottom pb-2 text-center">Copy to</h6>
                    <div class="row pt-2">
                        <div class="col-xxl-6 col-xl-6 col-md-6" ng-repeat="_week in COPY_WEEK_ARRAY">
                            <input class="form-check-input me-1"
                                   id="copy-shift-{{$index}}"
                                   type="checkbox"
                                   ng-model="_week.IS_SELECTED" />
                            <label class="form-check-label" for="copy-shift-{{$index}}">{{_week.START_DATE | date:'MMM dd'}} - {{_week.END_DATE | date:'MMM dd'}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6" ng-click="HRM_SCHDL_COPY_SHIFTS()"><button class="btn btn-primary w-100" type="button" data-bs-dismiss="modal">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- COPY WEEK SHIFT MODAL END-->
<!-- COPY DAY SHIFTS MODAL STARTS-->
<div class="modal fade" id="copy_shift_day" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="col-xxl-12 col-xl-12 col-md-12 d-flex align-items-center justify-content-center">
                        <span class="tickIcon_primary mt-0">
                            <span class="badge text-bg-primary-modal">
                                <i class="fa-light fa-copy fa-lg"></i>
                            </span>
                        </span>
                    </div>

                    <h6 class="border-bottom pb-2 text-center">Copy  {{SELECTED_FOR_COPY_DATE | date:'MMM dd, yyyy' }} shift(s) <span ng-show="IS_SINGLE_SHIFT_COPY">of {{COPIED_SHIFT_EMPLOYEE}}.</span> </h6>
                    <h6 class="border-bottom pb-2 text-center mt-2">Copy to</h6>
                    <ul class="copy_week">
                        <li ng-repeat="_day in COPY_DAYS_ARRAY">
                            <input class="form-check-input me-1"
                                   id="copy-shift-{{$index}}"
                                   type="checkbox"
                                   ng-model="_day.IS_SELECTED" />
                            <label class="form-check-label" for="copy-shift-{{$index}}">
                                {{_day.BUSINESS_DATE | date:'dd-MMM-yy, EEE'}}
                            </label>
                        </li>
                    </ul>

                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6">
                        <button class="btn btn-primary w-100" ng-click="HRM_SCHDL_COPY_SHIFTS()">Proceed</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- COPY DAY SHIFTS MODAL END-->
<!--COPY DAY SHIFTS MODAL alert starts-->
<div class="modal fade" id="copy_shift_day_alert" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-toggle="modal" data-bs-target="#copy_shift_day" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 f-w-500">Remove future shift if there's a time overlap?</h6>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6">
                        <button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal" click-once ng-click="HRM_SCHDL_COPY_DAY_SHIFTS(COPY_SHIFT_IDS,0)">No</button>
                    </div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-danger w-100" type="button" data-bs-dismiss="modal" click-once ng-click="HRM_SCHDL_COPY_DAY_SHIFTS(COPY_SHIFT_IDS,1)">Yes</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--COPY DAY SHIFTS MODAL alert ends-->
<!-- FIND REPLACEMENT MODAL STARTS -->
<div class="modal fade" id="find_replacement" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="row">
                        <div class="col-xxl-12 col-xl-12 col-md-12 d-flex align-items-center justify-content-center">
                            <span class="publish_parent mb-5">
                                <span class="publish_child">
                                    <i class="fa-solid fa-circle-exclamation txt-primary fa-4x"></i>
                                </span>
                            </span>
                        </div>
                    </div>
                    <h6 class="text-center pb-2 f-w-700">Replacement</h6>
                    <p class="text-center text-dark mb-0">Other employees from position Chef who are available during the same timeslot 07:16:00 on 24 Sept 2024</p>
                    <div class="row mt-3">
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <label>Select Employee for shift <span class="txt-danger">*</span></label>
                            <ul class="nav nav-pills mb-0">
                                <li class="dropdown w-100">
                                    <a class="text-limitations cursor-pointer"
                                       data-toggle="dropdown">
                                        <span class="select-label d-flex" id="select_label">
                                            James Baines
                                        </span>
                                    </a>
                                    <ul ID="divNewNotifications"
                                        class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto"
                                        style="min-width:100%">
                                        <li class="DontHideOnClick">
                                            Employee 1
                                        </li>
                                        <li class="DontHideOnClick">
                                            Employee 2
                                        </li>
                                        <li class="DontHideOnClick">
                                            Employee 3
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-primary w-100" type="button" data-bs-dismiss="modal">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- FIND REPLACEMENT MODAL ENDS -->
<!-- FIND REPLACEMENT MODAL STARTS -->
<div class="modal fade" id="repeat_specific_days" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <div class="row">
                        <div class="col-xxl-12 col-xl-12 col-md-12">
                            <label>Select Specific Date</label>
                            <input type="text" name="dateinput_1" class="dateinputddmmyy" placeholder="DD/MM/YY">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-primary w-100" type="button" data-bs-dismiss="modal">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- FIND REPLACEMENT MODAL ENDS -->
<!-- DELETE SHIFT MODAL STARTS -->
<div class="modal fade" id="delete_shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 f-w-500">Delete Shift for {{DELETE.SHIFT.BUSINESS_DATE | date : format : mediumDate}}</h6>
                    <p class="text-center text-dark mb-0">You are about to delete shift of {{DELETE.EMPLOYEE.EMPLOYEE_NAME}}, (from {{DELETE.SHIFT.SCHEDULED_START | date : "h:mm a"}} to {{DELETE.SHIFT.SCHEDULED_END | date : "h:mm a"}})</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-danger w-100" type="button" data-bs-dismiss="modal" click-once ng-click="HRM_SCHDL_DELETE_MULTIPLE_SHIFTS(DELETE.SHIFT.SCHDL_SHIFT_ID)">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--  DELETE SHIFT MODAL STARTS -->
<!-- DELETE MULTI SHIFT MODAL STARTS -->
<div class="modal fade" id="delete_multi_shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 f-w-500" ng-show="IS_ANY_APPROVED_SHIFT">You cannot delete an approved shift. Please uncheck the approved shift before attempting to delete.</h6>
                    <h6 class="text-center pb-2 f-w-500" ng-show="!IS_ANY_APPROVED_SHIFT && selected_employee_count>0">Confirm {{selected_employee_count}} Shift(s) Deletion</h6>
                    <h6 class="text-center pb-2 f-w-500" ng-show="!IS_ANY_APPROVED_SHIFT && selected_employee_count==0">Confirm Shift(s) Deletion</h6>
                    <p class="text-center text-dark mb-0">
                        You are about to delete shift(s) between ({{START_DATE | date : medium}} to {{END_DATE | date : medium}}).
                        <span ng-show="!IS_ANY_APPROVED_SHIFT">Are you sure you want to proceed?</span>
                    </p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6">
                        <button class="btn btn-danger w-100"
                                ng-class="{'disabled': IS_ANY_APPROVED_SHIFT}"
                                type="button"
                                data-bs-dismiss="modal"
                                click-once
                                ng-disabled="IS_ANY_APPROVED_SHIFT"
                                ng-click="HRM_SCHDL_DELETE_MULTIPLE_SHIFTS('',DELETE_MULTI_SHIFT_IDS)">
                            Proceed
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--  DELETE MULTI SHIFT MODAL END -->
<!-- DELETE THIS WEEK MODAL STARTS -->
<div class="modal fade" id="delete_this_week" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 f-w-500">Delete This Week Shift</h6>
                    <p class="text-center text-dark mb-0">You are about to delete shift between ({{START_DATE | date : medium}} to {{END_DATE | date : medium}})</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-danger w-100" type="button" data-bs-dismiss="modal" click-once ng-click="HRM_SCHDL_DELETE_WEEK_SHIFTS()">Proceed</button></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--  DELETE THIS WEEK MODAL END -->
<div class="modal fade" id="Shift_Template" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
            </div>
            <div class="modal-body">
                <div class="modal-toggle-wrapper">
                    <ul class="modal-img">
                        <li> <img src="../../../E_Content/images/HR/exclaimation_circle.svg" class="pb-2" alt="error"></li>
                    </ul>
                    <h6 class="text-center pb-2 fw-500">Delete <span class="text-break">"{{SELECTED_SHIFT_NAME}}"</span> from Shift Template?</h6>
                    <p class="text-center text-dark">Are you sure you want to delete?</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <div class="row w-100">
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-outline w-100" type="button" data-bs-dismiss="modal" ng-click="SHOW_SHIFT_EDIT_POPUP_Fn(SELECTED_MASTER_ID)">Cancel</button></div>
                    <div class="col-xxl-6 col-md-6 col-xl-6"><button class="btn btn-danger w-100" type="button" data-bs-dismiss="modal" ng-click="HRM_INS_UPD_SHIFT_MASTER(2)">Delete</button></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="add_employee" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h3 class="modal-title text-center w-100">Select Employee(s) to create shift</h3>
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xxl-12 col-xl-12 col-md-12">
                        <label>Select Site <span class="txt-danger">*</span></label>
                        <input type="hidden"
                               name="EMPLY_BRANCH_ID"
                               required
                               ng-model="AddShiftSearch.EMPLY_BRANCH_ID"
                               ng-class="{'error':AddShiftForm.submitted && AddShiftForm.EMPLY_BRANCH_ID.$error.required}" />
                        <ul class="nav nav-pills mb-1" ng-class="{'error':AddShiftForm.submitted && AddShiftForm.EMPLY_BRANCH_ID.$error.required}">
                            <li class="dropdown w-100">
                                <!-- ng-class="{'disabled': AddShiftSearch.SCHDL_SHIFT_ID > 0 || VIEW_MODE}"-->
                                <a class="text-limitations cursor-pointer" ng-class="{'disabled': VIEW_MODE}" data-toggle="dropdown" aria-expanded="true">
                                    <span class="select-label" id="select_label">
                                        {{AddShiftSearch.CUSTOM_BRANCH_NAME}}
                                    </span>
                                </a>
                                <ul id="divNewNotifications" class="dropdown-menu scrollbar-wrapper w-100">
                                    <li class=""
                                        ng-repeat="_branch in SCHEDULE_BRANCH_LIST"
                                        ng-click="SELECTED_BRANCH_Fn(_branch)">
                                        <span class="">{{_branch.BRANCH_NAME}}</span>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xxl-12 col-xl-12 col-md-12">
                        <label>Select Employee for this shift <span class="txt-danger">*</span></label>
                        <ul class="nav nav-pills mb-2" ng-class="{'error':AddShiftForm.submitted && ANY_SELECTED_EMPLOYEE}">
                            <li class="dropdown w-100">
                                <a class="text-limitations cursor-pointer" ng-class="{'disabled': VIEW_MODE}"
                                   data-toggle="dropdown">
                                    <span class="select-label" id="select_label">
                                        <span ng-if="(EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length == 1">
                                            {{ (EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true})[0].EMPLOYEE_NAME }}
                                        </span>
                                        <span ng-if="(EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length != 1">
                                            {{ (EMPLOYEE_LIST | filter:{IS_EMPLOYEE_SELECTED:true}).length }} Employee
                                        </span>
                                    </span>
                                </a>
                                <ul ID="divNewNotifications" class="dropdown-menu DontHideOnClick scrollbar-wrapper w-auto" style="min-width:100%">
                                    <li class="DontHideOnClick sticky-top bg-white" ng-init="TEXT_SEARCH = ''">
                                        <input type="text"
                                               placeholder="Search"
                                               ng-model="TEXT_SEARCH" class="mb-1" />
                                        <span ng-show="EMPLOYEE_LIST.length==0"> No Records to select.</span>
                                    </li>
                                    <li class="DontHideOnClick employee_add_shift" ng-repeat="_employee in EMPLOYEE_LIST | orderBy : ['-IS_EMPLOYEE_SELECTED', 'EMPLOYEE_NAME'] | filter:{EMPLOYEE_NAME : TEXT_SEARCH}"
                                        ng-init="_employee.IS_EMPLOYEE_SELECTED = _employee.IS_EMPLOYEE_SELECTED || false">
                                        <div class="form-group form-check" ng-init="ng_initemployee(_employee)" ng-click="SELECTED_EMPLOYEE_Fn(_employee)">
                                            <input class="form-check-input"
                                                   id="employee_{{$index}}"
                                                   type="checkbox"
                                                   ng-model="_employee.IS_EMPLOYEE_SELECTED"
                                                   ng-disabled="AddShiftSearch.SCHDL_SHIFT_ID > 0"
                                                   checked="">
                                            <img class="profile_pic" src={{_employee.PROFILE_PIC_PATH}} alt="Profile Image" ng-show="_employee.PROFILE_PIC_PATH != null">
                                            <span class="text_avatar_36 ms-2" ng-show="_employee.PROFILE_PIC_PATH == null">{{_employee.SHORT_NAME}}</span>
                                            <label class="form-check-label text-nowrap">{{_employee.EMPLOYEE_NAME}}</label>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-xxl-6 col-xl-6 col-md-6">
                        <button class="btn btn-outline w-100" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                    <div class="col-xxl-6 col-xl-6 col-md-6">
                        <button class="btn btn-primary w-100" ng-click="ADD_SHIFT_POPUP_Fn(3)">Create Shift</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const btnOverLapi = document.querySelector('.btn-overlap-i');
    const btnOverLap = document.querySelector('.btn-overlap');
    const displayShiftDetails = document.querySelectorAll('.displayShiftDetails');

    btnOverLap.addEventListener('click', () => {
        displayShiftDetails.forEach((shiftDetails) => {
            shiftDetails.classList.toggle('d-none');
        })
        btnOverLapi.classList.toggle('fa-chevron-down');
        btnOverLapi.classList.toggle('fa-chevron-up');
    })

    document.querySelectorAll('.timer-collapse').forEach((btn) => {
        btn.addEventListener('click', () => {
            const targetClass = btn.getAttribute('data-target');

            document.querySelectorAll(`.${targetClass}`).forEach((dropdownContent) => {
                dropdownContent.classList.toggle('d-none');
            });

            const icon = btn.querySelector('i');
            icon.classList.toggle('fa-minus');
            icon.classList.toggle('fa-plus');
        });
    });

    $('.dropdown-submenu a.test').on("click", function (e) {
        $(this).next('ul').toggle();
        e.stopPropagation();
        e.preventDefault();
    });
</script>



<div class="modal fade" tabindex="-1" id="divClockInOut" role="dialog" aria-labelledby="myExtraLargeModal" aria-hidden="true">
    <form name="CLOCKINFORM" novalidate autocomplete="off">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myExtraLargeModal">Clock In/Out of {{AddShiftSearch.CUSTOM_EMPLOYEE_NAME}} for {{AddShiftSearch.BUSINESS_DATE | date}} </h4>
                    <button class="btn-close py-0" type="button" ng-click="HRM_RESET_CLOCKINOUT()" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-2">
                        <div class="col-xxl-4 col-md-4 col-xl-4">
                            <label>Shift Time: {{AddShiftSearch.START_TIME | date : "h:mm a"}} - {{AddShiftSearch.END_TIME | date : "h:mm a"}}</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Clock-In Time<span class="txt-danger">*</span></label>
                            <div class="date-column">
                                <input class="form-control py-2 mb-2"
                                       placeholder="Select clock in time"
                                       format="HH:mm"
                                       name="CLOCK_IN"
                                       moment-picker="AddShiftSearch.CLOCK_IN" readonly
                                       ng-model="AddShiftSearch.CLOCK_IN"
                                       show-header="0"
                                       ng-model-options="{ updateOn: 'blur' }"
                                       change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.CLOCK_IN,AddShiftSearch.CLOCK_OUT,5)"
                                       required
                                       ng-class="{'error': CLOCKINFORM.submitted && CLOCKINFORM.CLOCK_IN.$error.required}" />
                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-md-4">
                            <label>Clock-Out Time</label>
                            <div class="date-column">
                                <input class="form-control py-2 mb-2"
                                       moment-picker="AddShiftSearch.CLOCK_OUT"
                                       format="HH:mm"
                                       placeholder="Select clock out time"
                                       name="CLOCK_OUT"
                                       ng-model="AddShiftSearch.CLOCK_OUT" readonly
                                       show-header="0"
                                       change="UPDATE_TOTAL_DURATION_Fn(AddShiftSearch.CLOCK_IN,AddShiftSearch.CLOCK_OUT,5)"
                                       ng-model-options="{ updateOn: 'blur' }" />
                                <i class="date-icon fa-light fa-clock" aria-hidden="true"></i>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button"
                            class="btn btn-outline" ng-click="HRM_RESET_CLOCKINOUT()">
                        Cancel
                    </button>
                    <button type="button"
                            class="btn btn-primary"
                            ng-click="HRM_SAVE_CLOCKINOUT()">
                        Save
                    </button>
                </div>
            </div>

        </div>
    </form>
</div>
<div class="modal fade" tabindex="-1" id="Upload_Forecast" role="dialog" aria-labelledby="myExtraLargeModal" aria-hidden="true">
    <form name="Calendarform" novalidate>
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myExtraLargeModal">Upload {{FORECAST_UPLOAD.TITLE_NAME}} Forecast</h4>
                    <button class="btn-close py-0" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-xxl-6 col-xl-6 col-md-6">
                            <label class="d-block">&nbsp;</label>
                            <div class="btn btn-light w-100" ng-click="DOWNLOAD_FORECAST_TEMPLATE_Fn()">Click here to download {{FORECAST_UPLOAD.TITLE_NAME}} Forecast template</div>
                        </div>
                        <div class="col-xxl-6 col-xl-6 col-md-6">
                            <label class="d-block">Select Branch <span class="txt-danger">*</span></label>
                            <ul class="nav nav-pills mb-2">
                                <li class="dropdown w-100">
                                    <a class="text-limitations cursor-pointer" ng-class="{'error':Calendarform.submitted && Calendarform.UPLOAD_BRANCH_ID.$error.required}"
                                       data-toggle="dropdown">
                                        <span class="select-label" id="select_label">
                                            <span class="truncate">{{AddShiftSearch.CUSTOM_UPLOAD_BRANCH_NAME}}</span>
                                        </span>
                                    </a>
                                    <ul ID="divNewNotifications" class="dropdown-menu DontHideOnClick1 scrollbar-wrapper w-auto" style="min-width:100%">
                                        <li class="DontHideOnClick1"
                                            ng-click="SELECTED_UPLOAD_BRANCH_Fn(brnch,$index)"
                                            ng-repeat="brnch in  ShiftEmpSearch.SELECTED_BRANCHES">
                                            {{brnch.BRANCH_NAME}}
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-xxl-12 col-md-12 col-xl-12 mt-3">
                        <label>Upload: <span class="text-danger">*</span></label>
                        <div class="form-group file-area">
                            <input type="file" name="file"
                                   required="required"
                                   id="HR_uploadExcel1"
                                   class="w-100 default-file-input"
                                   ng-model="FORECAST_UPLOAD.UploadedFiles"
                                   ng-files="getTheFilesToUploadall($files,5,FORECAST_UPLOAD,1, 'HR_uploadExcel','FORECAST',FORECAST_UPLOAD.UPLOAD_TYPE_ID)" />
                            <div class="file-dummy">
                                <h6><span class="txt-primarye"><i class="fa-light fa-file-plus fa-xl txt-primary"></i></span></h6>
                                <p class="mt-2">*.xls files (limit 1MB)</p>
                            </div>
                        </div>
                        <ul class="list-group badge-list mb-3">
                            <li class="file-area py-2" ng-repeat="_upload in FORECAST_UPLOAD.UploadedFiles">
                                <span class="file w-100">
                                    <i class="fa-light fa-download mx-2 txt-primary"></i>
                                    <a class="text_truncat" download="{{_upload.SERVER_FILE_NAME}}" href="../Uploads/{{_upload.FILE_PATH}}{{_upload.SERVER_FILE_NAME}}">{{_upload.ORIGINAL_FILE_NAME}}</a>
                                    <span class="file_date">{{_upload.CREATED_DATE | date}}</span>
                                    <span class="txt-danger c-pointer float-end me-2" ng-click="REMOVE_UPLOAD_Fn(_upload,$index)">Remove</span>
                                </span>
                                <button type="button" class="btn btn-sm btn-outline" ng-show="false">
                                    <i class="fa-light fa-memo fa-lg"></i> View
                                    <i class="fa-light fa-up-right-from-square fa-lg ms-2"></i>
                                </button>
                            </li>
                        </ul>

                    </div>

                    <div class="col-md-12" ng-show="COPY_CODE_ARRY.length>0">
                        <div data-ng-show="INVALID_EXCLE_CELL_FLAG" class="form-group has-error errormessage badge badge-light-danger w-100 p-3">
                            <span class="help-block errormessageline"><i class="fa fa-exclamation-triangle"></i> - Please provide the mandatory details to (marked in red).</span>
                        </div>
                        <div class="form-group has-error errormessage badge badge-light-danger w-100 p-3" ng-repeat="CD in COPY_CODE_ARRY | unique:'CODE' ">
                            <span class="help-block errormessageline" style="padding-left:0px;" ng-if="CD.CODE=='BLANK'">
                                <i class="fa fa-exclamation-triangle"></i> {{CD.CODE}}
                            </span>
                            <span class="help-block errormessageline" style="padding-left:0px;" ng-if="CD.CODE=='CODE0003'">
                                <i class="fa fa-exclamation-triangle"></i> {{CD.CODE}} - Invalid Hyperlink: Malformed URI is embedded as a hyperlink in the document.please remove hyperlink.
                            </span>
                            <span class="help-block errormessageline" style="padding-left:0px;" ng-if="CD.CODE=='NUM0011'">
                                <i class="fa fa-exclamation-triangle"></i> {{CD.CODE}} -Invalid Amount in input data.
                            </span>
                            <span class="help-block errormessageline" style="padding-left:0px;" ng-if="CD.CODE=='CHECK0003'">
                                <i class="fa fa-exclamation-triangle"></i> {{CD.CODE}} - Please provide True or False.
                            </span>
                            <span class="help-block errormessageline" style="padding-left:0px;" ng-if="CD.CODE=='DATE0007'">
                                <i class="fa fa-exclamation-triangle"></i> {{CD.CODE}} - Please provide 'DD/MM/YYYY' format,example:'25/10/2024'.
                            </span>
                        </div>
                    </div>
                    <div class="table-responsive" ng-show="INVALID_FORECAST_LIST.length>0">
                        <table>
                            <tr>
                                <th ng-repeat="(key, value) in INVALID_FORECAST_LIST[0]">{{key}}</th>
                            </tr>
                            <tbody ng-repeat="ex in INVALID_FORECAST_LIST" on-finish-render="ngRepeatFinishedRender">
                                <tr>
                                    <td ng-repeat="(key, value) in ex" ng-class="{'error':obj.IS_DATA_VALID}" ng-init="obj= ngintvalidationvalue(key,value)">
                                        <span ng-show="false">{{value}}</span>
                                        <span ng-class="{'error':obj.IS_VALID}">
                                            <span ng-show="obj.IS_VALID"><i class="fa fa-exclamation-triangle text-danger"></i></span>
                                            {{obj.DISPLAY_TEXT}}
                                        </span>
                                        <span ng-show="obj.IS_DATA_VALID">
                                            {{obj.CODE}}
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button"
                            class="btn btn-primary"
                            ng-disabled="HRM_FORECAST_UPLOAD_TYPE.length== 0 || (AddShiftSearch.UPLOAD_BRANCH_ID=='' || AddShiftSearch.UPLOAD_BRANCH_ID==null)"
                            ng-click="HRM_UPLOAD_FORECAST()">
                        Upload
                    </button>
                </div>
            </div>

        </div>
    </form>
</div>

<script>
    $(document).ready(function () {
        $('.wage-cost').click(function () {
            $('.wage-cost-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.headcount-forecast').click(function () {
            $('.headcount-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.shift-forecast').click(function () {
            $('.shift-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.actual-forecast').click(function () {
            $('.actual-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.actual-wage-forecast').click(function () {
            $('.actual-wage-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.sales-forecast').click(function () {
            $('.sales-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.actual-sales-forecast').click(function () {
            $('.actual-sales-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.wage-forecast').click(function () {
            $('.wage-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.actual-vs-forecast').click(function () {
            $('.actual-vs-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
        $('.guest-forecast').click(function () {
            $('.guest-details').stop(true, true).slideToggle(300);
            $(this).find('i').toggleClass('rotate');
        });
    });
</script>