<form id="GrpForm" name="GrpForm" novalidate>
    <div class="card-header">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label>Customer:</label>
                    <select class="custom-select"
                            name="CUSTOMER_ID"
                            ng-model="GroupSearch.CUSTOMER_ID"
                            ng-options="CL.CUSTOMER_ID as CL.CUSTOMER_NAME for CL in CUSTOMER_LIST "
                            required
                            ng-change="GET_ENTITY_LIST()"
                            ng-class="{'error':GrpForm.submitted && GrpForm.CUSTOMER_ID.$error.required}">
                        <option value="">- Please Select Customer-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Entity:</label>
                    <select class="custom-select"
                            name="ENTITY_ID"
                            ng-model="GroupSearch.ENTITY_ID"
                            ng-options="EL.ENTITY_ID as EL.ENTITY_NAME for EL in ENTITY_LIST"
                            ng-change=""
                            required
                            ng-class="{'error':GrpForm.submitted && GrpForm.ENTITY_ID.$error.required}">
                        <option value="">- Please Select Entity-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Group Name:</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="GROUP_NAME"
                           ng-model="GroupSearch.GROUP_NAME"
                           placeholder="Enter ..."
                           required
                           ng-class="{'error':RoleForm.submitted && RoleForm.GROUP_NAME.$error.required}">

                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Group Description:</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="GROUP_DESCRIPTION"
                           ng-model="GroupSearch.GROUP_DESCRIPTION"
                           placeholder="Enter ..."
                           required
                           ng-class="{'error':RoleForm.submitted && RoleForm.GROUP_DESCRIPTION.$error.required}">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="d-block">&nbsp;Group Mapping:</label>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <div class="custom-control custom-radio">
                                    <input class="custom-control-input" type="radio" id="IS_ALL_GROUP" name="grpmap"
                                           ng-value="-1"
                                           ng-model="GroupSearch.IS_MANAGER_GROUP"  />
                                    <label for="IS_ALL_GROUP" class="custom-control-label">Everyone</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <div class="custom-control custom-radio">
                                    <input class="custom-control-input" type="radio" id="IS_MANAGER_GROUP" name="grpmap"
                                           ng-model="GroupSearch.IS_MANAGER_GROUP" ng-value="1">
                                    <label for="IS_MANAGER_GROUP" class="custom-control-label">Manager</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <div class="custom-control custom-radio">
                                    <input class="custom-control-input" type="radio" id="IS_EMP_GROUP" name="grpmap"
                                           ng-model="GroupSearch.IS_MANAGER_GROUP" ng-value="0">
                                    <label for="IS_EMP_GROUP" class="custom-control-label">Employee</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
            </div>
            <div class="col-md-4">
                <label class="d-block">&nbsp;Active/In-Active:</label>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                           <div class="custom-control custom-radio">
                                <input class="custom-control-input" type="radio" id="GroupSearch.ACTIVE" name="grp"
                                       ng-model="GroupSearch.ACTIVE"
                                       ng-value="1">
                                <label for="GroupSearch.ACTIVE" class="custom-control-label">Active</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="form-group">
                            <div class="custom-control custom-radio">
                                <input class="custom-control-input" type="radio" id="GroupSearch.InActive" name="grp"
                                       ng-value="0"
                                       ng-model="GroupSearch.ACTIVE">
                                <label for="GroupSearch.InActive" class="custom-control-label">In-Active</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-right">
                        <div class="form-group">
                            <div class="custom-control custom-radio">
                                <input class="custom-control-input" type="radio" id="GroupSearch.All" name="grp"
                                       ng-value="-1"
                                       ng-model="GroupSearch.ACTIVE" ng-checked="-1" />
                                <label for="GroupSearch.All" class="custom-control-label">ALL</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <div class="form-group">
                    <a accesskey="" href="#!/Grp_Map?add=nGrp" class="btn btn-wenodo">Create Group</a>
                    <button ng-click="GET_GROUP_MAPPING(1);" class="btn btn-w-default">Search</button>
                    <button type="button" ng-click="RESET_GROUP_LIST();" class="btn btn-w-default">Reset</button>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="text-center" ng-show="GROUP_LIST.length==0" empty-grid>
        </div>
        <div class="table-responsive custom-scrollbar height-auto" ng-show="GROUP_LIST.length>0">
            <table class="table table-striped">
                <thead class="bg-wenodo-dark-blue">
                    <tr>
                        <th class="text-nowrap">Customer Name</th>
                        <th class="text-nowrap">Entity Name</th>
                        <th class="text-nowrap">Group Name</th>
                        <th class="text-nowrap">Group Description</th>
                        <th class="text-nowrap">Group Code</th>
                        <th class="text-nowrap">Mapping</th>
                        <th>Status</th>
                        <th class="headcol-right-header"></th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <td colspan="8" align="center" ng-show="GetData">
                            <a class="btn btn-secondary text-white" ng-click="LAZY_GET_GROUP_MAPPING();">{{VIEWMORERECORD}}</a>
                        </td>
                    </tr>
                </tfoot>
                <tbody ng-repeat="RL in GROUP_LIST" on-finish-render="ngRepeatFinished">
                    <tr>
                        <td> {{RL.CUSTOMER_NAME}}</td>
                        <td> {{RL.ENTITY_NAME}}</td>
                        <td>{{RL.GROUP_NAME}}</td>
                        <td>{{RL.GROUP_DESCRIPTION}}</td>
                        <td>{{RL.GROUP_CODE}}</td>
                        <td ng-if="RL.IS_ADMIN_GROUP==true && RL.IS_MANAGER_GROUP==false">Admin Group</td>
                        <td ng-if="RL.IS_MANAGER_GROUP==true && RL.IS_ADMIN_GROUP==false">Manager Group</td>
                        <td ng-if="RL.IS_MANAGER_GROUP==false && RL.IS_ADMIN_GROUP==false">Employee Group</td>
                        <td ng-if="RL.IS_MANAGER_GROUP==true && RL.IS_ADMIN_GROUP==true">Admin Group</td>
                        <td>{{RL.ACTIVE?'Active':'Inactive'}}</td>
                        <td class="headcol-right">
                            <a ng-click="EDIT_GROUP_MAPPING(RL);" href="#!/Grp_Map?ID={{RL.GROUP_MASTER_ID}}" data-toggle="tooltip" data-html="true" data-original-title="Edit"><i class="fad fa-edit fa-lg text-green"></i></a>
                            <!--<a ng-click="DELETE_GROUP_MAPPING(RL)"><i class="fal fa-trash-alt fa-lg text-danger"></i></a>-->
                            <!--<a ng-click="EDIT_GROUP_ROLE_ASSIGNMENT(RL);" href="#!/Ass_Grp_lst?ID={{RL.GROUP_MAPPING_ID}}"><i class="fal fa-user-plus"></i></a>-->
                        </td>                        
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</form>
<script>
    $('RoleSearch.All').select();
</script>


