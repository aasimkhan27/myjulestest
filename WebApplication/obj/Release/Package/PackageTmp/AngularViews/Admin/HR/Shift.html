<form id="ShiftForm" name="ShiftForm" novalidate>
    <div class="card-header">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label>Customer:*</label>
                    <select class="custom-select"
                            name="CUSTOMER_ID"
                            ng-model="ShiftSearch.CUSTOMER_ID"
                            ng-options="CL.CUSTOMER_ID as CL.CUSTOMER_NAME for CL in CUSTOMER_LIST "
                            required
                            ng-change="GET_ENTITY_LIST()"
                            ng-class="{'error':ShiftForm.submitted && ShiftForm.CUSTOMER_ID.$error.required}">
                        <option value="">- Please Select Customer-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Entity:*</label>
                    <select class="custom-select"
                            name="ENTITY_ID"
                            ng-model="ShiftSearch.ENTITY_ID"
                            ng-options="EL.ENTITY_ID as EL.ENTITY_NAME for EL in ENTITY_LIST"
                            required
                            ng-class="{'error':ShiftForm.submitted && ShiftForm.ENTITY_ID.$error.required}">
                        <option value="">- Please Select Entity-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Shift Code:*</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="SHIFT_CODE"
                           ng-model="ShiftSearch.SHIFT_CODE"
                           placeholder="Enter ..."
                           required
                           ng-class="{'error':ShiftForm.submitted && ShiftForm.SHIFT_CODE.$error.required}">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Shift Title:*</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="SHIFT_TITLE"
                           ng-model="ShiftSearch.SHIFT_TITLE"
                           placeholder="Enter ..."
                           required
                           ng-class="{'error':ShiftForm.submitted && ShiftForm.SHIFT_TITLE.$error.required}">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Paid Break <small>(Min)</small>:*</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="PAID_BREAK"
                           ng-model="ShiftSearch.PAID_BREAK"
                           placeholder="Enter ..."
                           required
                           only-digits
                           ng-class="{'error':ShiftForm.submitted && ShiftForm.PAID_BREAK.$error.required}">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Un-Paid Break <small>(Min)</small>:</label>
                    <input type="text"
                           class="form-control"
                           maxlength="250"
                           name="UN_PAID_BREAK"
                           ng-model="ShiftSearch.UN_PAID_BREAK"
                           placeholder="Enter ..."
                           ng-change="ON_SHIFT_TIME_CHANGE(3)"
                           only-digits
                           ng-class="{'error':ShiftForm.submitted && ShiftForm.UN_PAID_BREAK.$error.required}">
                </div>
            </div>

            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-3 pr-0">
                        <div class="form-group">
                            <label class="text-nowrap">Start Time:*</label>
                            <select class="custom-select border-radius-right" name="SESSION_START"
                                    ng-model="ShiftSearch.START_TIME"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.SESSION_START.$error.required}">
                                <option value="">Hour</option>
                                <option ng-repeat="x in [].constructor(24) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 px-0">
                        <div class="form-group">
                            <label class="text-nowrap">&nbsp;</label>
                            <select class="custom-select border-radius-0" name="START_TIME_MIN"
                                    ng-model="ShiftSearch.START_TIME_MIN"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.START_TIME_MIN.$error.required}">
                                <option value="">Minutes</option>
                                <option ng-repeat="x in [].constructor(60) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 px-0">
                        <div class="form-group">
                            <label class="text-nowrap">&nbsp;</label>
                            <select class="custom-select border-radius-0" name="START_TIME_SEC"
                                    ng-model="ShiftSearch.START_TIME_SEC"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.START_TIME_SEC.$error.required}">
                                <option value="">Seconds</option>
                                <option ng-repeat="x in [].constructor(60) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-3 pr-0">
                        <div class="form-group">
                            <label>End Time:* </label>
                            <select class="custom-select border-radius-right" name="END_TIME"
                                    ng-model="ShiftSearch.END_TIME"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.END_TIME.$error.required}">
                                <option value="">Hour</option>
                                <option ng-repeat="x in [].constructor(24) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 px-0">
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <select class="custom-select border-radius-0" name="END_TIME_MIN"
                                    ng-model="ShiftSearch.END_TIME_MIN"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.END_TIME_MIN.$error.required}">
                                <option value="">Minutes</option>
                                <option ng-repeat="x in [].constructor(60) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 px-0">
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <select class="custom-select border-radius-0" name="END_TIME_SEC"
                                    ng-model="ShiftSearch.END_TIME_SEC"
                                    required
                                    ng-class="{'error':ShiftForm.submitted && ShiftForm.END_TIME_SEC.$error.required}">
                                <option value="">Seconds</option>
                                <option ng-repeat="x in [].constructor(60) track by $index" ng-value="($index<10?'0':'')+$index">{{$index<10?0:''}}{{$index}}</option>
                            </select>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Duration <small>(Min)</small>:*</label>
                    <input type="text"
                           class="form-control"
                           name="DURATION"
                           ng-model="ShiftSearch.DURATION"
                           ng-value="ShiftSearch.DURATION = ((CalculateDuration(ShiftSearch.END_TIME + ':' + ShiftSearch.END_TIME_MIN + ':' + ShiftSearch.END_TIME_SEC, ShiftSearch.START_TIME + ':' + ShiftSearch.START_TIME_MIN + ':' + ShiftSearch.START_TIME_SEC,ShiftSearch.UN_PAID_BREAK))| number:2)"
                           placeholder="Enter ..."
                           disabled
                           ng-class="{'error':ShiftForm.submitted && ShiftForm.DURATION.$error.required}">
                </div>
            </div>
            <div class="col-md-4">
                <label>&nbsp;</label>
                <div class="form-inline mb-3">
                    <div class="col-md-4">
                        <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" id="ShiftSearch.All" name="Active"
                                   ng-value="-1"
                                   ng-model="ShiftSearch.ACTIVE" />
                            <label for="ShiftSearch.All" class="custom-control-label justify-content-left">ALL</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" id="ShiftSearch.ACTIVE" name="Active"
                                   ng-model="ShiftSearch.ACTIVE"
                                   ng-value="1">
                            <label for="ShiftSearch.ACTIVE" class="custom-control-label justify-content-left">Active</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="custom-control custom-radio">
                            <input class="custom-control-input" type="radio" id="ShiftSearch.InActive" name="Active"
                                   ng-model="ShiftSearch.ACTIVE"
                                   ng-value="0">
                            <label for="ShiftSearch.InActive" class="custom-control-label justify-content-left">In-Active</label>
                        </div>
                    </div>

                </div>
            </div>
            <!--<div class="col-md-4">
                <div class="form-group">
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="Shift"
                               ng-model="ShiftSearch.ACTIVE">
                        <label for="Shift" class="custom-control-label">Active</label>
                    </div>
                </div>
            </div>-->
            <div class="col-md-12">
                <div data-ng-show="ShiftForm.submitted && ShiftForm.$invalid" class="form-group has-error errormessage badge badge-light-red w-100 p-3">
                    <span class="help-block errormessageline"><i class="fa fa-exclamation-triangle"></i> - Please provide the mandatory details to submit(marked in red).</span>
                </div>
                <div id="divInvlidUser" class="hideshowdiv" data-ng-show="AbTypeForm.$valid">
                    <span class="help-block">{{InvalidUser}}</span>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <button click-once ng-click="ADMIN_INS_UPD_SHIFT_MASTER();" class="btn btn-wenodo">Save</button>
                    <button ng-click="ADMIN_GET_SHIFT_MASTER(1);" class="btn btn-w-default">Search</button>
                    <button ng-click="RESET_SHIFT()" class="btn btn-w-default">Reset</button>
                </div>
            </div>
        </div>
            </div>

            <div class="card-body">
                <div class="text-center" ng-show="SHIFT_LIST.length==0" empty-grid>
                </div>
                <div class="table-responsive custom-scrollbar height-auto" ng-show="SHIFT_LIST.length>0">
                    <table class="table table-striped">
                        <thead class="bg-wenodo-dark-blue">
                            <tr>
                                <th>Customer</th>
                                <th>Entity</th>
                                <th class="text-nowrap">Shift Code</th>
                                <th class="text-nowrap">Shift Title</th>
                                <th class="text-nowrap">Start Time</th>
                                <th class="text-nowrap">End Time</th>
                                <th>Duration(Min)</th>
                                <th class="text-nowrap">Creation Date</th>
                                <th>Status</th>
                                <th class="headcol-right-header"></th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <td colspan="8" align="center" ng-show="GetData">
                                    <a class="btn btn-secondary text-white" ng-click="LAZY_ADMIN_GET_SHIFT()">{{VIEWMORERECORD}}</a>
                                </td>
                            </tr>
                        </tfoot>
                        <tbody ng-repeat="SL in SHIFT_LIST" on-finish-render="ngRepeatFinished">
                            <tr>
                                <td>{{SL.CUSTOMER_NAME}}</td>
                                <td>{{SL.ENTITY_NAME}}</td>
                                <td>{{SL.SHIFT_CODE}}</td>
                                <td>{{SL.SHIFT_TITLE}}</td>
                                <td>{{SL.START_TIME}}</td>
                                <td>{{SL.END_TIME}}</td>
                                <td>{{SL.DURATION | number : 2}}</td>
                                <td>{{SL.CREATED_DATE | date}}</td>
                                <td>{{SL.ACTIVE ?'Active':'Inactive'}}</td>
                                <td class="headcol-right">
                                    <a ng-click="EDIT_INS_UPD_SHIFT_MASTER(SL,4);" data-toggle="tooltip" data-html="true" data-original-title="Edit"><i class="fad fa-edit fa-lg text-green"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
</form>
