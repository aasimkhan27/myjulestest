<form id="SettingForm" name="SettingForm" novalidate>
    <div class="card-header">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label>Customer:*</label>
                    <select class="custom-select"
                            name="CUSTOMER_ID"
                            ng-model="SettingSearch.CUSTOMER_ID"
                            ng-options="EL.CUSTOMER_ID as EL.CUSTOMER_NAME for EL in CUSTOMER_LIST"
                            ng-change="GET_ENTITY_LIST();"
                            required
                            ng-class="{'error':SettingForm.submitted && SettingForm.CUSTOMER_ID.$error.required}">
                        <option value="">- Please Select Customer -</option>
                    </select>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Entity:*</label>
                    <select class="custom-select"
                            name="ENTITY_ID"
                            ng-model="SettingSearch.ENTITY_ID"
                            ng-options="EL.ENTITY_ID as EL.ENTITY_NAME for EL in ENTITY_LIST"
                            ng-change="ADMIN_GET_ENTITY_SETTINGS();"
                            required
                            ng-class="{'error':SettingForm.submitted && SettingForm.ENTITY_ID.$error.required}">
                        <option value="">- Please Select Entity-</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div data-ng-show="SettingForm.submitted && SettingForm.$invalid" class="form-group has-error errormessage form-group has-error errormessage badge badge-light-red w-100 p-3">
                <span class="help-block errormessageline"><i class="fa fa-exclamation-triangle"></i> - Please provide the mandatory details to submit(marked in red).</span>
            </div>
            <div id="divInvlidUser" class="hideshowdiv" data-ng-show="SettingForm.$valid">
                <span class="help-block">{{InvalidUser}}</span>
            </div>
        </div>
        <div class="col-md-12">
            <div class="row">
                <div class="form-group">
                    <button ng-click="ADMIN_INS_UPD_ENTITY_SETTINGS()" class="btn btn-wenodo">Save</button>
                    <button ng-click="ResetENTITYSETTING()" class="btn btn-w-default">Reset</button>
                </div>
            </div>
        </div>
    </div>


    <div class="card-body">
        <div class="text-center" ng-show="ENTITY_SETTING.length==0" empty-grid>
        </div>
        <div class="table-responsive custom-scrollbar height-auto" ng-show="ENTITY_SETTING.length>0">
            <table class="table table-striped">
                <thead class="bg-wenodo-dark-blue">
                    <tr>
                        <th>Module Name</th>
                        <th>Setting Name</th>
                        <th>Default Value</th>
                        <th width="30%">Setting Value</th>
                    </tr>
                </thead>

                <tbody ng-repeat="ENTITYSETTING in ENTITY_SETTING" ng-init="NG_INIT_SETTING(ENTITYSETTING)">
                    <tr  ng-show="ENTITYSETTING.SETTING_ID !=47">
                        <td>
                            <label>
                                {{ENTITYSETTING.MODULE_NAME}}
                            </label>
                        </td>
                        <td>
                            <label>
                                {{ENTITYSETTING.SETTING_NAME}}:
                                <span ng-if="ENTITYSETTING.SETTING_ID !=15 && ENTITYSETTING.SETTING_ID !=6 && ENTITYSETTING.SETTING_ID !=9 && ENTITYSETTING.SETTING_ID !=10 && ENTITYSETTING.SETTING_ID !=11 && ENTITYSETTING.SETTING_ID !=12 && ENTITYSETTING.SETTING_ID !=20 && ENTITYSETTING.SETTING_ID !=47">*</span>
                            </label>
                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==3">
                            <label ng-if="ENTITYSETTING.SETTING_ID==4">{{WEEKDAY_LIST[ENTITYSETTING.DEFAULT_VALUE]["DAY_NAME"]}}</label>
                            <label ng-if="ENTITYSETTING.SETTING_ID==46">{{TIME_FORMAT_LIST[ENTITYSETTING.DEFAULT_VALUE]["TIME_FORMAT_VALUE"]}}</label>
                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==5"><label>{{ENTITYSETTING.DEFAULT_VALUE}}</label></td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==6"></td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==10"><label>{{ENTITYSETTING.DEFAULT_VALUE}}</label></td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==13"><label>All Day's Working</label></td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==2"></td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==2">

                            <input type="text"
                                   class="form-control"
                                   autocomplete="off"
                                   name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                   ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                   placeholder="Enter..."
                                   required
                                   ng-class="{'error':SettingForm.submitted && SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">

                        </td>

                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==5">
                            <input type="text"
                                   class="form-control"
                                   maxlength="3"
                                   autocomplete="off"
                                   onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                   name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                   ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                   placeholder="Enter..."
                                   required
                                   ng-class="{'error':SettingForm.submitted && SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">

                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==3">
                            <div class="row" ng-if="ENTITYSETTING.SETTING_ID==14">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Start Year:*</label>
                                        <select class="custom-select"
                                                name="YEAR_START_DAY{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                                ng-model="ENTITYSETTING.YEAR_START_DAY"
                                                required
                                                ng-class="{'error':SettingForm.submitted && SettingForm.YEAR_START_DAY{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">
                                            <option value="">- Select Date -</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>
                                            <option value="21">21</option>
                                            <option value="22">22</option>
                                            <option value="23">23</option>
                                            <option value="24">24</option>
                                            <option value="25">25</option>
                                            <option value="26">26</option>
                                            <option value="27">27</option>
                                            <option value="28">28</option>
                                            <option value="29">29</option>
                                            <option value="30">30</option>
                                            <option value="31">31</option>
                                        </select>

                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class="d-block">&nbsp;</label>
                                    <select class="custom-select"
                                            name="YEAR_START_MONTH{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                            ng-model="ENTITYSETTING.YEAR_START_MONTH"
                                            required
                                            ng-class="{'error':SettingForm.submitted && SettingForm.YEAR_START_MONTH{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">
                                        <option value="">- Select Month -</option>
                                        <option value="1">January</option>
                                        <option value="2">February</option>
                                        <option value="3">March</option>
                                        <option value="4">April</option>
                                        <option value="5">May</option>
                                        <option value="6">June</option>
                                        <option value="7">July</option>
                                        <option value="8">August</option>
                                        <option value="9">September</option>
                                        <option value="10">October</option>
                                        <option value="11">November</option>
                                        <option value="12">December</option>

                                    </select>

                                </div>
                            </div>
                            <div ng-if="ENTITYSETTING.SETTING_ID==4">
                            <select class="custom-select"
                                    name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                    required
                                    ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                    ng-options="WDL.DAY_ID as (WDL.DAY_NAME) for WDL in (WEEKDAY_LIST) | filter:{ DAY_ID :'!null'}"
                                    ng-class="{'error':SettingForm.submitted && SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">
                                <option value="">- Please Select -</option>
                            </select>
                        </div>
                            <div ng-if="ENTITYSETTING.SETTING_ID==46">
                                <select class="custom-select"
                                        name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                        required
                                        ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                        ng-options="WDL.TIME_FORMAT_ID as (WDL.TIME_FORMAT_VALUE) for WDL in (TIME_FORMAT_LIST) | filter:{ DAY_ID :'!null'}"
                                        ng-class="{'error':SettingForm.submitted && SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">
                                    <option value="">- Please Select -</option>
                                </select>
                            </div>

                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==10">
                            <input type="text"
                                   class="form-control"
                                   maxlength="5"
                                   onkeypress="return event.charCode >= 48 && event.charCode <= 57 || event.charCode==46"
                                   autocomplete="off"
                                   name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                   ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                   placeholder="Enter..."
                                   required
                                   ng-pattern="PERCENTAGE_PATTERN"
                                   ng-class="{'error':SettingForm.submitted && SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.required}">
                            <small class="text-danger" ng-show="SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$dirty &&
                                   SettingForm.FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}.$error.pattern">Please Enter Valid percentage value</small>

                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==13" ng-init="LOAD_SELECT();">
                            <select class="select2" multiple="multiple" data-placeholder="Select Week Day" style="width:100%" ng-change="ADMIN_SELECT2_CHANGE();"
                                    required
                                    ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                    ng-options="WDL.DAY_ID as WDL.DAY_NAME for WDL in WEEKDAY_LIST"
                                    ng-class="{'error':SettingForm.submitted && SettingForm.ENTITYSETTING.SETTING_VALUE_ADMIN.$error.required}">
                                <option></option>
                            </select>
                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==6 && ENTITYSETTING.SETTING_ID !=20">
                            <div class="custom-control custom-checkbox">
                                <input class="custom-control-input"
                                       type="checkbox"
                                       id="{{$index}}{{ENTITYSETTING.SETTING_VALUE_ADMIN}}"
                                       name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                       ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                       ng-value="ENTITYSETTING.SETTING_VALUE_ADMIN">
                                <label for="{{$index}}{{ENTITYSETTING.SETTING_VALUE_ADMIN}}" class="custom-control-label"></label>
                            </div>
                        </td>
                        <td ng-if="ENTITYSETTING.FIELD_TYPE_ID==6 && ENTITYSETTING.SETTING_ID==20">
                            <div class="custom-control custom-checkbox">

                                <input class="custom-control-input"
                                       type="checkbox"
                                       id="{{$index}}{{ENTITYSETTING.SETTING_VALUE_ADMIN}}"
                                       name="FIELD_NAME{{ENTITYSETTING.SETTING_ID}}{{ENTITYSETTING.FIELD_TYPE_ID}}{{$index}}"
                                       ng-model="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                       ng-value="ENTITYSETTING.SETTING_VALUE_ADMIN"
                                       ng-change="WAGES_TARGET_PERCENTAGE(ENTITYSETTING.SETTING_ID,ENTITYSETTING.SETTING_VALUE_ADMIN)">
                                <label for="{{$index}}{{ENTITYSETTING.SETTING_VALUE_ADMIN}}" class="custom-control-label"></label>
                                <span ng-if="ENTITYSETTING.SETTING_VALUE_ADMIN" class="fa fa-eye" ng-click="VIEW_WAGES();"></span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal fade" id="WAGSTARGET">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header" ng-init="">
                        <h4 class="modal-title">
                            Wages
                        </h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="CLOSE_WAGES();">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body custom-scrollbar min-height-350">
                        <div class="row">
                            <div class="col" ng-repeat="WL in WEEKDAY_LIST_2">
                                <div class="form-group">
                                    <label>{{WL.DAY_NAME}}</label>
                                    <input type="text" class="form-control" ng-model="WL.DAY_VALUE" ng-value="0" onkeypress="return event.charCode >= 48 && event.charCode <= 57" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-wenodo" ng-click="SAVE_WAGES();"> Add </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
