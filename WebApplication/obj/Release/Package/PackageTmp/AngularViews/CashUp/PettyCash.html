<!--<div class="" id="PettyCash" role="tabpanel" ng-show="CASHUP.STEP_NO==4" aria-labelledby="custom-content-below-settings-tab">-->
<div class="overlay_loadingNew" style="display:{{overlay_loadingNew}}!important"></div>
<div id="LOADER_ID">
    <div class="card-header">
        <ul class="nav nav-pills float-left">
            <li class="nav-item border radius-50">
                <span class="font-12 text-bold">Branch: <span class="cash-up-header">{{CASHUP.BRANCH_NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">Area: <span class="cash-up-header">{{CASHUP.AreaList[0].NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">Session: <span class="cash-up-header">{{CASHUP.SESSION.SESSION_NAME}}</span></span>
            </li>
            <li class="nav-item border radius-50 ml-2">
                <span class="font-12 text-bold">CashUp Date: <span class="cash-up-header">{{CASHUP.CASHUP_DATE|date}}</span></span>
            </li>
        </ul>
        <div class="card-tools">
            <ul class="nav nav-pills ml-auto">
                <li class="nav-item border radius-50">
                    <span class="font-12 text-bold">ePOS: <span class="cash-up-header" style="text-decoration:line-through">{{(CASHUP.EPOS_DATA | filter:{"MEDIA":"Petty Cash"})[0].SALES_AMT | number:2}}</span></span>
                    <!--<span class="font-12 text-bold">ePOS: <span class="cash-up-header" style="text-decoration:line-through">0.00</span></span>-->
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold">Actual: <span class="cash-up-header">{{CASHUP.TOTAL_TOTAL_VAL |number:2}}</span></span>
                </li>
                <li class="nav-item border radius-50 ml-2">
                    <span class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_PETTY_CASH!=0}">Variance: <span class="cash-up-header" style="text-decoration:line-through">{{ CASHUP.VARIANCE_PETTY_CASH=((CASHUP.EPOS_DATA | filter:{"MEDIA":"Petty Cash"}).length>0?CASHUP.TOTAL_TOTAL_VAL-((CASHUP.EPOS_DATA | filter:{"MEDIA":"Petty Cash"})[0].SALES_AMT):0) |number:2}}</span></span>

                    <!--<span class="font-12 text-bold" ng-class="{'text-danger':CASHUP.VARIANCE_PETTY_CASH!=0}">Variance: <span class="cash-up-header" style="text-decoration:line-through">{{ CASHUP.VARIANCE_PETTY_CASH=((CASHUP.EPOS_DATA | filter:{"MEDIA":"PETTY CASH"})[0].SALES_AMT*1-CASHUP.TOTAL_TOTAL_VAL*1)  |number:2}}</span></span>-->
                    <!--((CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"}).length>0?(CASHUP.EPOS_DATA | filter:{"MEDIA":"Gift"})[0].SALES_AMT*1-CASHUP.REDEEMED_TOTAL:0) |number:2-->
                    <!--<span class="font-12 text-bold">Variance: <span class="cash-up-header" style="text-decoration:line-through">0.00</span></span>-->
                </li>
            </ul>
        </div>
    </div>
    <div class="card-body">

        <div class="row">
            <div class="col-md-1">
                <label for="Check">Vendor</label>
            </div>

            <div class="col-md-2">
                <label>Cost Category <span style="color:red;">*</span></label>
            </div>

            <div class="col-md-1">
                <label for="Account">Goods</label>
            </div>

            <div class="col-md-1">
                <label for="Account">Gross <span style="color:red;">*</span></label>
            </div>

            <div class="col-md-2">
                <label>Approver <span style="color:red;">*</span></label>
            </div>

            <!--<div class="col-lg-2">
            <label for="Amount" class="text-nowrap">VAT Type</label>

        </div>-->

            <div class=" col-md-1">
                <label for="note">VAT Amount</label>
            </div>

            <div class="col-md-2">
                <label for="note">Net Amount</label>
            </div>

            <div class="col-md-2">
                <label for="Amount" class="text-nowrap">Upload</label>
            </div>

        </div>

        <div class="row" ng-repeat="Pcash in PettyCashList| filter:{IS_DELETED:0}" ng-init="initcasdListpcash(Pcash);ValidControls(Pcash)" on-finish-render="ngRepeatFinished">
            <!--<div class="row" ng-repeat="Pcash in PettyCashList" >-->
            <div class="col-md-1">
                <div class="form-group">
                    <input type="text" class="form-control" ng-model="Pcash.PAID_TO">
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">
                    <select class="custom-select text-xs"
                            ng-options="CL.ID as CL.CATEGORY_NAME for CL in Pcash.CategoryList"
                            ng-model="Pcash.PETTY_CASH_CATEGORY_ID" ng-class="{'error':!Pcash.PETTY_CASH_CATEGORY_VALID}">
                        <option value="">- Please Select-</option>
                    </select>
                </div>
            </div>

            <div class="col-md-1">
                <div class="form-group">
                    <input type="text" class="form-control" ng-model="Pcash.ITEM">
                </div>
            </div>
            <div class="col-md-1">
                <div class="form-group">
                    <input type="text" class="form-control" only-digits ng-model="Pcash.TOTAL_VALUE" ng-blur="SET_GROSS_AMOUNT(Pcash);" ng-class="{'error':!Pcash.TOTAL_VALUE_VALID}">
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">
                    <select class="custom-select text-xs"
                            ng-options="CL.ID as CL.NAME for CL in Pcash.StaffList"
                            ng-model="Pcash.AUTHORIZED_BY_ID" ng-class="{'error':!Pcash.AUTHORIZED_BY_ID_VALID}">
                        <option value="">- Please Select-</option>
                    </select>
                </div>
            </div>

            <div class="col-md-1">
                <input type="text" class="form-control" only-digits ng-model="Pcash.VAT_AMOUNT" ng-change="SET_VAT_AMOUNT(Pcash);">
            </div>

            <div class="col-md-2">
                <input type="text" class="form-control" ng-disabled="true" ng-model="Pcash.NET_AMOUNT" ng-value="Pcash.NET_AMOUNT=((Pcash.TOTAL_VALUE*1-Pcash.VAT_AMOUNT*1) | number:2)">
            </div>
            <div class="col-md-1">
                <div class="form-group">
                    <label for="PcashFile{{$index}}" class="btn btn-upload text-nowrap" ng-show="Pcash.UploadedFiles1==null || Pcash.UploadedFiles1.length==0">
                        <i class="fal fa-upload text-white"></i>
                    </label>
                    <span class="hidden-input">
                        <input id="PcashFile{{$index}}" ng-files="getTheFilesToUploadPcash($files, 'PcashFile', 5,Pcash,13,$index)" name="file" type="file" />
                    </span>
                    <span class="d-block" ng-repeat="upls in Pcash.UploadedFiles1">
                        <br ng-if="$index!=0" />
                        <span ng-if="$index!=0" />
                        <a class="font-11" download="{{upls.SERVER_FILE_NAME}}" href="/uploads/{{upls.FILE_PATH}}{{upls.SERVER_FILE_NAME}}">  
                            <i class="fad fa-download text-blue mt-top"></i> {{upls.ORIGINAL_FILE_NAME| limitTo: 10}}<span ng-if="upls.ORIGINAL_FILE_NAME.length > 10">...</span>
                        </a>
                        <span> <i ng-click="DELETE_UPLOAD_CARD_ALL(Pcash,upls,$index)" class="fa fa-times text-danger fa-sm mt-2 float-right cursor-pointer"></i> </span>
                    </span>
                </div>
            </div>

            <div class="col-md-1">
                <div class="d-flex">
                    <a class="add_dreceived_button mt-2 cursor-pointer" ng-click="AddPCashLine()" click-once ng-show="$last" data-toggle="tooltip" data-html="true" data-original-title="Add More">
                        <i class="fas fa-plus-circle ml-2"></i>
                    </a>
                    <a class="add_dreceived_button mt-2 cursor-pointer" ng-click="DeleteLine(PettyCashList, $index,Pcash)" data-toggle="tooltip" data-html="true" data-original-title="Remove">
                        <i class="fas fa-minus-circle ml-2"></i>
                    </a>
                    <!--<a class="add_dreceived_button" ng-click="DeleteLine(PettyCashList, $index)" ng-show="$last && !$first"><i class="fas fa-minus-circle ml-2"></i></a>-->
                </div>
            </div>
        </div>
        <div class="card-footer p-0">
            <div class="row py-2">
                <div class="col-md-1 offset-md-3 text-right">
                    <h6 class="app-text text-bold">Total</h6>
                </div>

                <div class="col-md-1 text-right">
                    <h6 class="app-text text-bold">{{ CASHUP.TOTAL_TOTAL_VAL=(PettyCashList| filter:{"IS_DELETED":"0"} | total:'TOTAL_VALUE')| number:2 }}</h6>
                </div>

                <div class="col-md-1 offset-md-2 text-right">
                    <h6 class="app-text text-bold">{{ CASHUP.TOTAL_VAT_AMOUNT=(PettyCashList | filter:{"IS_DELETED":"0"}| total:'VAT_AMOUNT')| number:2 }}</h6>
                </div>

                <div class="col-md-2 text-right">
                    <h6 class="app-text text-bold">{{ CASHUP.TOTAL_PETTY_CASH=(PettyCashList | filter:{"IS_DELETED":"0"}| total:'NET_AMOUNT')| number:2 }}</h6>
                </div>
            </div>
        </div>

        <hr ng-show="!CASHUP.PETTYCASHVALID" />
        <div class="form-group text-red p-3" ng-show="!CASHUP.PETTYCASHVALID">
            Please fill the mandatory fields marked in red (*) symbol.
        </div>
        <hr />
        <div class="col-md-12">
            <div class="form-group">
                <label for="noteLayout" class="m-0 pl-1">Comments:</label>
                <textarea class="form-control" 
                          rows="4" 
                          placeholder="{{WRITE_A_COMMENT}}"
                          id="noteLayout" 
                          name="text" 
                          ng-model="CASHUP.PCASH_NOTES"
                           ng-blur="INS_UPD_CASHUP_HEADER_NOTES()"
                          ></textarea>
            </div>
        </div>
        <div class="col-md-12">
            <label for="noteLayout" class="border-bottom m-0 pl-1">Comments</label>
            <div class="text-center ng-isolate-scope" ng-show="PETTY_NOTE_LIST.length==0"><div class="alert bg-custom-blue">{{NO_COMMENTS}}</div></div>
            <blockquote class="blockquote text-success text-sm" ng-repeat="FNL in PETTY_NOTE_LIST" ng-init="NOTE_INIT(FNL)">
                <span class="float-right mb-2">
                    <a class="btn btn-w-default" ng-show="!FNL.IS_EDIT && FNL.IS_TIME_EDIT_FLAG" ng-click="EDIT_COMMENTS(FNL)"><i class="far fa-edit text-success"></i></a>
                    <a class="btn btn-w-default" ng-show="FNL.IS_EDIT" ng-click="SAVE_COMMENTS(FNL)"><i class="far fa-save text-success"></i></a>
                    <a class="btn btn-w-default" ng-show="FNL.IS_EDIT" ng-click="EDIT_CANCEL(FNL)"><i class="far fa-times text-danger"></i></a>
                    <!--<a class="btn btn-w-default"><i class="far fa-trash text-danger"></i></a>-->
                </span>
                <p class="text-success" ng-show="!FNL.IS_EDIT">{{FNL.NOTE}}</p>
                <textarea class="form-control d-block"
                          ng-show="FNL.IS_EDIT"
                          rows="2"
                          id="noteLayout"
                          placeholder="{{WRITE_A_COMMENT}}"
                          name="text"
                          ng-keyup="CHECK_EVENTS($event,FNL)"
                          ng-model="FNL.NOTE"></textarea>
                <div ng-show="FNL.IS_EDIT">
                    <span>Press Esc to Cancel</span>
                    <a ng-click="EDIT_CANCEL(FNL)" class="text-blue cursor-pointer">
                        Cancel
                    </a>
                </div>
                <footer class="blockquote-footer" ng-show="!FNL.IS_EDIT">
                    {{FNL.USER_NAME}},
                    <cite title="">{{FNL.USER_EMAIL}}</cite>
                    <br />
                    <cite class="ml-3">{{FNL.CREATED_DATE | date:'dd-MMM-yyyy HH:mm' }}</cite>
                    <div class="border-bottom"></div>

                </footer>
                <span class="semibold ml-3"
                      ng-show="FNL.IS_TIME_EDIT_FLAG">
                    Remaining time to edit this comment -
                    {{FNL.START_COUNTDOWN }}
                </span>
            </blockquote>
        </div>
    </div>
</div>
    <div class="event-footer animated fadeInUp">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-12 d-inline m-2 text-right">
                    <!--<button class="btn btn-w-default btn-sm" ng-click="ShowDiv(GetPreviousStep())" ng-show="CASHUP.STEP_NO!=0"><i class="fa fa-angle-double-left"></i> Previous</button>-->
                    <button class="btn btn-w-default btn-sm" ng-click="PreviousLink()"><i class="fa fa-angle-double-left"></i> Previous</button>
                    <button class="btn btn-wenodo btn-sm" ng-click="NextLink('Delivery')"><i class="fa fa-angle-double-right"></i> Continue</button>
                    <!--<button class="btn btn-wenodo btn-sm" ng-click="UPD_CASHUP_HEADER_SUBMIT()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==0 || CashUp_Main_STATUS_ID==1 || CashUp_Main_STATUS_ID==5)"><i class="fa fa-angle-double-right"></i> Submit</button>
                    <button class="btn btn-wenodo btn-sm" ng-click="APP_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Approve</button>
                    <button class="btn btn-danger btn-sm" ng-click="REJ_CASHUP()" ng-show="CASHUP.STEP_NO==10 && (CashUp_Main_STATUS_ID==3)"><i class="fa fa-angle-double-right"></i> Return</button>-->
                </div>
            </div>
        </div>
    </div>
    <!--</div>-->
