<div class="row">
    <div class="col-md-12">
        <div class="row align-content-center mn-height-66vh" ng-show="PURCHASE_REQUESTS_PROCESS_LIST.length>0">
            <div class="col-md-12 text-center">
                <h5 class="text-muted">
                    <span class="d-block mb-3">
                        <img src="../../../E_Content/images/sorted.png" />
                    </span>
                    Everything's sorted!
                </h5>
            </div>
        </div>
        <div class="card-body" >
            <div class="row">
                <div class="col">
                    <h6 class="po-details  font-14 text-normal">
                        Bill - <b>{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INVOICE_NUMBER}}</b>  from <b>{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.CONTACT_NAME}}</b>.
                    </h6>
                </div>
                <div class="col-auto">
                    <button type="button" ng-click="HistoryBack()" class="btn btn-w-default">Back</button>
                </div>
            </div>
            <div class="row align-items-center mt-1">
                <div class="col-auto">
                    <div class="name-badge" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_ID>0">{{TextReturn(ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_NAME)}}</div>
                    <div class="name-badge" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_ID==null">{{TextReturn(ApprovalViewSearch.PROCESS_REQUEST_DETAILS.RAISED_BY_NAME)}}</div>
                </div>
                <div class="col-md-5">
                    <span class="po-details" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_ID>0">By {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_NAME}}</span>
                    <span class="po-details" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INTEGRATION_SYSTEM_ID==null">By {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.RAISED_BY_NAME}}</span>
                    <span class="po-supplier">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.REQUESTOR_EMAIL}}</span>
                    <span class="po-supplier"><span class="text-normal">Raised For {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BRANCH_NAME}} </span></span>
                </div>
                <div class="col-md-3"><span class="po-supplier">Bill No: {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INVOICE_NUMBER}}</span></div>
            </div>
            <div class="row mt-3">
                <div class="col">
                    <div class="form-group">
                        <label>Contact</label>
                        <span class="d-block text-bold font-14"> {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.CONTACT_NAME}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Date</label>
                        <span class="d-block text-bold font-14">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.INVOICE_DATE | date}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Due Date</label>
                        <span class="d-block text-bold font-14">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.DUE_DATE ==null || ApprovalViewSearch.PROCESS_REQUEST_DETAILS.DUE_DATE =='' ?'-': ApprovalViewSearch.PROCESS_REQUEST_DETAILS.DUE_DATE  | date}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Reference</label>
                        <span class="d-block text-bold font-14">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.REFERENCE==null || ApprovalViewSearch.PROCESS_REQUEST_DETAILS.REFERENCE==''?'-':ApprovalViewSearch.PROCESS_REQUEST_DETAILS.REFERENCE}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Project Name</label>
                        <span class="d-block text-bold font-14">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PROJECT_NAME==null || ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PROJECT_NAME==''?'-':ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PROJECT_NAME}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Theme</label>
                        <span class="d-block text-bold font-14">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BRANDING_THEME==null || ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BRANDING_THEME==''?'-':ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BRANDING_THEME}}</span>
                    </div>
                </div>
            </div>
            <hr />
            <div class="col-md-12 mt-3">
                <h5 class="card-title mt-2">Line Items</h5>
                <div class="row">
                    <div class="col-auto " ng-show="false">
                        <div class=" mb-2">
                            1  &nbsp;
                            {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BASE_CURRENCY_CODE}}
                            =  {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BASE_TO_INVOICE_CONVERSION_RATE}}
                            {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PO_CURRENCY_CODE}}
                        </div>
                    </div>
                    <div class="col-auto  ml-auto ">
                        <div class="form-inline mb-2">
                            <label class="mr-2"> Currency:</label>
                            <span class="text-bold font-13">    {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.CURRENCY_CODE}}</span>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-inline mb-2">
                            <label class="mr-2">Amounts are</label>
                            <span class="text-bold font-13">{{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_NAME}}</span>
                        </div>
                    </div>
                </div>
                <div class="table-responsive custom-scrollbar height-auto">
                    <table class="table table-head-fixed table-hover table-bordered">
                        <thead class="bg-wenodo-border">
                            <tr>
                                <th>Line#</th>
                                <th width="15%">Item </th>
                                <th width="25%">Description </th>
                                <th>Quantity </th>
                                <th>Unit Price </th>
                                <th>UOM </th>
                                <th>Disc %</th>
                                <th>GL Account </th>
                                <th>Tax Rate </th>
                                <th class="text-right">Tax Amount</th>
                                <th class="text-right">Amount</th>
                                <th ng-repeat="TrackingCat in XERO_TRACKING_CATEGORIES track by $index">{{TrackingCat.FIELD_NAME}}</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="PRL in PROCESS_REQUEST_ITEMS_LIST" ng-init="InitiateItemList(PRL);" on-finish-render="ngRepeatFinishedProcessRender">
                            <tr>
                                <td>{{PRL.LINE_NO}}</td>
                                <td> {{PRL.ITEM_NAME=="" || PRL.ITEM_NAME==null?'-':PRL.ITEM_NAME}}</td>
                                <td>
                                    {{PRL.DESCRIPTION==null || PRL.DESCRIPTION==''?'-': PRL.DESCRIPTION | limitTo:PRL.DESCRIPTION_LIMIT_TO}}
                                    <span ng-show="PRL.DESCRIPTION.length>PRL.DESCRIPTION_LIMIT_TO">...</span>
                                    <span class="btn btn-xs btn-transparent-wenodo" ng-show="PRL.DESCRIPTION.length>PRL.DESCRIPTION_LIMIT_TO" ng-click="READ_MORE_FY(PRL,1)" data-toggle="tooltip" data-html="true" data-original-title="Read More"><i class="far fa-plus"></i></span>
                                    <span class="btn btn-xs btn-transparent-wenodo" ng-show="PRL.DESCRIPTION_LIMIT_TO>DESCRIPTION_LIMIT_TO" ng-click="READ_MORE_FY(PRL,2)" data-toggle="tooltip" data-html="true" data-original-title="Hide"><i class="far fa-minus"></i></span>
                                </td>
                                <td>{{PRL.QUANTITY | number:2}}</td>
                                <td>{{PRL.UNIT_PRICE | number:2}}</td>
                                <td>{{PRL.UOM_NAME==null || PRL.UOM_NAME==''?'-':PRL.UOM_NAME}}</td>
                                <td>{{PRL.DISCOUNT_PERCENT==null || PRL.DISCOUNT_PERCENT==''?'-':PRL.DISCOUNT_PERCENT}}</td>
                                <td>{{PRL.ACCOUNT_DETAILS}}</td>
                                <td> {{PRL.TAX_RATE_DETAILS}}</td>
                                <td class="text-right">{{PRL.TAX_AMOUNT | number:2}}</td>
                                <td class="text-right text-nowrap pr-2">{{PRL.LINE_AMOUNT | number:2}}</td>
                                <td ng-repeat="TrackingCat in PRL.XERO_TRACKING_CATEGORIES track by $index" ng-init="InitiateXeroTrackingCategories(TrackingCat, $index,PRL,2);">
                                    {{TrackingCat.SELECTED_CATEGORY_OPTION.OPTION_NAME}}
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="text-bold table-footer-fixed">
                                <td colspan="10" class="text-right font-13">Sub Total</td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    {{(PROCESS_REQUEST_ITEMS_LIST | total: 'LINE_AMOUNT') | number:2}}
                                </td>
                                <td colspan="{{XERO_TRACKING_CATEGORIES.length}}" ng-if="XERO_TRACKING_CATEGORIES.length>0" class="text-right font-13"></td>
                            </tr>
                            <tr class="text-bold table-footer-fixed" ng-repeat="TAX in PROCESS_REQUEST_ITEMS_LIST | unique:'TAX_RATE_ID'" ng-if="TAX.TAX_RATE_ID!=null && TAX.TAX_RATE_ID!=72">
                                <td colspan="10" class="text-right font-13">{{TAX.TAX_RATE_DETAILS}}</td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    {{PROCESS_REQUEST_ITEMS_LIST | filter:{TAX_RATE_ID:TAX.TAX_RATE_ID} | total:'TAX_AMOUNT' | number:2}}
                                </td>
                                <td colspan="{{XERO_TRACKING_CATEGORIES.length}}" ng-if="XERO_TRACKING_CATEGORIES.length>0" class="text-right font-13"></td>
                            </tr>
                            <tr class="text-bold table-footer-fixed">
                                <td colspan="10" class="text-right font-13">Total  </td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    <span ng-if="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_TYPE==1">
                                        {{((PROCESS_REQUEST_ITEMS_LIST | total: 'LINE_AMOUNT') + (PROCESS_REQUEST_ITEMS_LIST | total: 'TAX_AMOUNT')) | number:2}}
                                    </span>
                                    <span ng-if="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_TYPE==2">
                                        {{(PROCESS_REQUEST_ITEMS_LIST | total: 'LINE_AMOUNT')  | number:2}}
                                    </span>
                                    <span ng-if="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_TYPE==3">
                                        {{(PROCESS_REQUEST_ITEMS_LIST | total: 'LINE_AMOUNT') | number:2}}
                                    </span>
                                    {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.CURRENCY_CODE}}
                                </td>
                                <td colspan="{{XERO_TRACKING_CATEGORIES.length}}" ng-if="XERO_TRACKING_CATEGORIES.length>0" class="text-right font-16"></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <div class="col-md-12">
                <div class="card-header w-100" ng-click="SHOW_HIDE_BUDGET(ApprovalViewSearch.PROCESS_REQUEST_DETAILS)">
                    <h5 class="card-title mt-1">
                        Budget <span ng-show="P2P_PROCESS_BUDGET_MASTER_LIST.length>0">({{ApprovalViewSearch.BUDGET_NAME}})</span>
                    </h5>
                </div>
                <div class="col-md-12 mt-2" ng-show="P2P_PROCESS_BUDGET_MASTER_LIST.length>0">
                    <!--<span class="po-amount">The following budgets would be affected by the approval of the request.</span>-->
                </div>
                <div class="col-md-12 text-center mt-2" ng-show="P2P_PROCESS_BUDGET_MASTER_LIST.length==0">
                    <div class="alert bg-custom-blue">{{BUDGET_TEXT_VALIDATION}}</div>
                </div>
                <div class="card-body p-0 mt-2" ng-show="P2P_PROCESS_BUDGET_MASTER_LIST.length>0">
                    <div class="table-responsive custom-scrollbar">
                        <table class="table table-head-fixed table-hover">
                            <thead class="bg-wenodo-border">
                                <tr>
                                    <th>GL Account </th>
                                    <th>Period</th>
                                    <th class="text-right">Total</th>
                                    <th class="text-right">Remaining</th>
                                    <th class="text-right">Consumed</th>
                                    <th class="text-right">Booked</th>
                                    <th class="text-right">Credit Notes</th>

                                    <th class="text-right">Current Amt.</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="BD in P2P_PROCESS_BUDGET_MASTER_LIST">
                                <tr>
                                    <td rowspan="3">{{BD.GLACCOUNT_NAME}}</td>
                                    <td colspan="7" ng-if="BD.DB_ACCOUNT_ID==0" class="text-align-center text-bold">There is no budget allocated in this GL Account</td>
                                </tr>
                                <tr ng-if="BD.DB_ACCOUNT_ID!=0" ng-repeat="BL in BD.BUDGET_DETAILS_LIST"
                                    ng-init="BL.CURRENT_PO_CUSTOM=0;"
                                    ng-click="VIEW_BUDGET_fn(BD,REQ_Search.PO_DATE,REQ_Search.PROJECT_MASTER_ID,REQ_Search,REQ_Search,'REQ_ACTION')">
                                    <td>{{BL.PERIOD}}</td>
                                    <td class="text-right">{{BL.TOTAL | number:2}}</td>
                                    <td class="text-right">
                                        <span ng-show="false">
                                            {{BD.IS_OVER_BUDGET=(BL.REMAINING_AMOUNT<0 && BD.BUDGET_DETAILS_LIST.length==BL.LINE_ID?true:BD.IS_OVER_BUDGET?true:false)}}
                                        </span>
                                        <span ng-class="{'text-red text-bold':BL.REMAINING_AMOUNT<0}">
                                            {{(BL.REMAINING_AMOUNT=((BL.TOTAL*1)-((BL.BOOKED*1) +(BL.CURRENT_PO_CUSTOM*1)+(BL.CONSUMED*1)+(BL.MEMO*1)))) | number:2}}
                                        </span>
                                    </td>
                                    <td class="text-right">{{BL.CONSUMED | number :2}}</td>
                                    <td class="text-right">{{BL.BOOKED  | number :2}}</td>
                                    <td class="text-right">
                                        <span ng-show="BL.MEMO==0">{{BL.MEMO*-1 | number :2}}</span><span ng-show="BL.MEMO!=0">({{BL.MEMO*-1 | number :2}})</span>
                                    </td>
                                    <td class="text-right">
                                        <span ng-show="false">
                                            {{BL.ITEM_TAX_AMOUNT=(PROCESS_REQUEST_ITEMS_LIST | filter:{ACCOUNT_ID:BD.ACCOUNT_ID} | total:'TAX_AMOUNT')}}
                                            {{BL.ITEM_AMOUNT= (PROCESS_REQUEST_ITEMS_LIST | filter:{ACCOUNT_ID:BD.ACCOUNT_ID} | total:'LINE_AMOUNT') }}
                                            {{BL.TAX_AMT_TOTAL= ((NAN_Fn(BL.ITEM_TAX_AMOUNT)?0:BL.ITEM_TAX_AMOUNT) + BL.ITEM_AMOUNT*1)}}
                                        </span>

                                        <span> {{(SETTING_USE_GROSS==1?(BL.CURRENT_PO_CUSTOM=ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_TYPE==1 ?(BL.TAX_AMT_TOTAL/ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BASE_TO_INVOICE_CONVERSION_RATE):(BL.ITEM_AMOUNT/ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BASE_TO_INVOICE_CONVERSION_RATE)):BL.CURRENT_PO_CUSTOM=(BL.ITEM_AMOUNT-(ApprovalViewSearch.PROCESS_REQUEST_DETAILS.TAX_TYPE==1?0:BL.ITEM_TAX_AMOUNT)/ApprovalViewSearch.PROCESS_REQUEST_DETAILS.BASE_TO_INVOICE_CONVERSION_RATE)) | number:2}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="alert alert-warning-red" ng-show="(P2P_PROCESS_BUDGET_MASTER_LIST | filter:{IS_OVER_BUDGET:true}).length">
                    <strong>Warning!</strong> This bill is going over budget.
                </div>
            </div>
            <div class="col-md-12">
                <div class="card-header border-5"><h5 class="card-title mt-1">Line Matched</h5></div>
                <div class="card-body border-5">
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-head-fixed table-bordered">
                                <thead class="bg-wenodo-border">
                                    <tr>
                                        <td colspan="5" class="text-center text-bold bg-light-green">Invoice Line</td>
                                        <td colspan="11" class="text-center text-bold bg-light-blue">PO Match Line</td>
                                    </tr>
                                    <tr>
                                        <th>Line# </th>
                                        <th width="25%">Description</th>
                                        <th>GL Account</th>
                                        <th>Qty.</th>
                                        <th class="text-right">Amount + Tax</th>
                                        <th>PO#</th>
                                        <th>Line#</th>
                                        <th width="25%">Description</th>
                                        <th>GL Account</th>
                                        <th> Qty.</th>
                                        <th class="text-right">Amount + Tax</th>
                                        <th>Method</th>
                                        <th>Mapping Qty</th>
                                        <th>Mapping Amt.</th>
                                        <th>Received</th>

                                    </tr>
                                </thead>
                                <tbody ng-repeat="ITEM_LINE in  PROCESS_REQUEST_ITEMS_LIST"
                                       ng-init="InitiateProcessInvoice(ITEM_LINE)"
                                       on-finish-render="ngRepeatFinishedRender">
                                    <tr>
                                        <td rowspan="{{ITEM_LINE.MATCHES.length+1}}">{{ITEM_LINE.LINE_NO}}</td>
                                        <td rowspan="{{ITEM_LINE.MATCHES.length+1}}">{{ITEM_LINE.ITEM_NAME}}<br />{{ITEM_LINE.DESCRIPTION}}</td>
                                        <td rowspan="{{ITEM_LINE.MATCHES.length+1}}">{{ITEM_LINE.ACCOUNT_DETAILS}}</td>
                                        <td rowspan="{{ITEM_LINE.MATCHES.length+1}}">{{ITEM_LINE.QUANTITY | number :2 }}</td>
                                        <td rowspan="{{ITEM_LINE.MATCHES.length+1}}" class="text-right"><span class="text-nowrap">{{ITEM_LINE.LINE_AMOUNT | number :2 }}</span></td>
                                    </tr>
                                    <tr ng-repeat="POLine in ITEM_LINE.MATCHES">
                                        <td>{{POLine.PO_NUMBER}}</td>
                                        <td>{{POLine.LINE_NO}} </td>
                                        <td>{{POLine.ITEM_NAME}}<br /> {{POLine.DESCRIPTION}}</td>
                                        <td>{{POLine.ACCOUNT_DETAILS}}</td>
                                        <td>{{POLine.QUANTITY | number :2 }}</td>
                                        <td class="text-right"><span class="text-nowrap">{{POLine.LINE_AMOUNT | number :2 }} </span></td>
                                        <td>{{POLine.RECEIVING_TYPE_ID==1?'Quantity':'Amount' }}</td>
                                        <td>{{POLine.RECEIVING_TYPE_ID==1?(POLine.USED_QTY | number :2) :'-'  }}</td>
                                        <td>{{POLine.USED_AMOUNT | number :2 }}</td>
                                        <td>
                                            <span ng-show="POLine.RECEIVING_TYPE_ID==1">{{POLine.RECEIVED_QTY | number :2 }}</span>
                                            <span ng-show="POLine.RECEIVING_TYPE_ID==2">{{POLine.RECEIVED_AMOUNT | number :2 }}</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="card-header">Invoice Attachment</div>
                    <div class="text-sm p-3" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.UploadedFiles.length==0">No Attachment</div>
                    <div class="file-block" ng-repeat="file in ApprovalViewSearch.PROCESS_REQUEST_DETAILS.UploadedFiles">
                        <div class="file-info">
                            <i class="far fa-file-alt file-icon"></i>
                            <span class="file-name">{{file.ORIGINAL_FILE_NAME}} </span>
                        </div>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="card-header">PO Attachment</div>
                    <div class="text-sm p-3" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PO_ATTACHMENT_IN_INVOICE.UploadedFiles.length==0">No Attachment</div>
                    <div class="file-block" ng-repeat="file in ApprovalViewSearch.PROCESS_REQUEST_DETAILS.PO_ATTACHMENT_IN_INVOICE.UploadedFiles">
                        <div class="file-info">
                            <i class="far fa-file-alt file-icon"></i>
                            <span class="file-name">
                                <a href="/P2PFiles/{{file.FILE_PATH}}{{file.SERVER_FILE_NAME}}" download="{{file.SERVER_FILE_NAME}}">
                                    <span class="text-limit-1 cursor-pointer">{{file.ORIGINAL_FILE_NAME}} </span>
                                </a>
                            </span>
                        </div>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="card-header">GRN Attachment</div>
                    <div class="text-sm p-3" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.GRN_ATTACHMENT.UploadedFiles.length==0">No Attachment</div>
                    <div class="file-block" ng-repeat="file in ApprovalViewSearch.PROCESS_REQUEST_DETAILS.GRN_ATTACHMENT.UploadedFiles">
                        <div class="file-info">
                            <i class="far fa-file-alt file-icon"></i>
                            <span class="file-name">
                                <a href="/P2PFiles/{{file.FILE_PATH}}{{file.SERVER_FILE_NAME}}" download="{{file.SERVER_FILE_NAME}}">
                                    <span class="text-limit-1 cursor-pointer">{{file.ORIGINAL_FILE_NAME}} </span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card-header">Other Attachment</div>
                    <div class="text-sm p-3" ng-show="ApprovalViewSearch.PROCESS_REQUEST_DETAILS.OTHER_ATTACHMENT.UploadedFiles.length==0">No Attachment</div>
                    <div class="file-block" ng-repeat="file in ApprovalViewSearch.PROCESS_REQUEST_DETAILS.OTHER_ATTACHMENT.UploadedFiles">
                        <div class="file-info">
                            <i class="far fa-file-alt file-icon"></i>
                            <span class="file-name">
                                <a href="/P2PFiles/{{file.FILE_PATH}}{{file.SERVER_FILE_NAME}}" download="{{file.SERVER_FILE_NAME}}">
                                    <span class="text-limit-1 cursor-pointer">{{file.ORIGINAL_FILE_NAME}} </span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="card-header border-5"><h5 class="card-title mt-1">Note for Approvers</h5></div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">
                                {{ApprovalViewSearch.PROCESS_REQUEST_DETAILS.SUBMISSION_COMMENTS==null || ApprovalViewSearch.PROCESS_REQUEST_DETAILS.SUBMISSION_COMMENTS=='' ?'-':ApprovalViewSearch.PROCESS_REQUEST_DETAILS.SUBMISSION_COMMENTS}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-header"><h5 class="card-title">Approval Workflow</h5></div>
            <div class="row align-items-center mt-3 mb-5">
                <div class="col d-flex custom-scrollbar horizontal_scroll" style="min-height:350px">
                    <div class="col-md-2" ng-repeat-start="APL in PROCESSED_APPROVAL_HEADERS_CHAIN_LIST  | unique:'APPROVAL_CHAIN_GROUP_ID'" ng-init="InitiateApprover(APL)">
                        <div class="row pl-2">
                            <span ng-show="false">{{APL.APL_INDEX=$index+1}}</span>
                            <div class="col-md-12 pl-1">
                                <button type="button" class="btn btn-w-default w-100" ng-class="{'active':APL.STEP_ACTIVE==1, 'active-approved':APL.SEQUENCE_APPROVED}">
                                    {{APL.GROUP_NAME}}
                                    <!--<span class="float-right text-success" ng-show="APL.ACTION_REQUIRED==1">Active</span>-->
                                </button>
                            </div>
                            <span class="w-100 z-index-997">
                                Approval condition: {{APL.ANY_ALL_FLAG==0?'All':'Any'}} <span ng-show="APL.ANY_ALL_FLAG>0"> {{APL.ANY_ALL_FLAG}}</span>
                            </span>
                            <div class="col-auto pl-1 mt-2"
                                 ng-repeat="User in PROCESSED_APPROVAL_HEADERS_CHAIN_LIST | filter:{APPROVAL_CHAIN_GROUP_ID:APL.APPROVAL_CHAIN_GROUP_ID}"
                                 ng-init="InitiateNameApprover(User,APL)">
                                <div class="sec-center mt-1">
                                    <span ng-show="false"> {{ User.ACTION_REQUIRED==1?APL.STEP_ACTIVE=true :''}}</span>
                                    <input class="dropdown" type="checkbox" id="Prodropdown{{$index}}{{APL.APL_INDEX}}" name="dropdown" />
                                    <label class="name-badge-short cursor-pointer"
                                           ng-class="{'name-badge-approved':User.STATUS_ID==37,'name-badge-action-required':User.ACTION_REQUIRED==1 &&  User.STATUS_ID==39,'name-badge-pending':User.ACTION_REQUIRED!=1 && User.STATUS_ID==39,'name-badge-rejected': User.STATUS_ID==38 || User.STATUS_ID==42,'name-badge-auto-approved': User.STATUS_ID==41,'name-badge-no-action-required': User.STATUS_ID==74}"
                                           for="Prodropdown{{$index}}{{APL.APL_INDEX}}">{{User.SHORT_NAME}}</label>
                                    <div class="section-dropdown">
                                        <div class="card-header">
                                            <div class="name-badge d-inline">{{User.SHORT_NAME}} </div>
                                            <span class="mt-2 ml-2">{{User.APPROVER_NAME}}</span>
                                            <span class="badge  text-white float-right"
                                                  ng-class="{'name-badge-approved':User.STATUS_ID==37,'name-badge-pending':User.STATUS_ID==39,'name-badge-rejected': User.STATUS_ID==38 || User.STATUS_ID==42,'name-badge-auto-approved': User.STATUS_ID==41,'name-badge-no-action-required': User.STATUS_ID==74}">{{User.STATUS_NAME}}</span>
                                        </div>
                                        <div class="card-body">
                                            <ul class="products-list product-list-in-card">
                                                <li class="item pt-0">
                                                    <div class="product-info ml-0">
                                                        <div class="product-title">
                                                            {{User.APPROVER_EMAIL}}
                                                            <span class="d-block" ng-if="User.LAST_ACTION_TAKEN_DATE!=null">{{User.LAST_ACTION_TAKEN_DATE | toDate | date}}, {{User.LAST_ACTION_TAKEN_DATE | toDate | date:'H:mm'}}</span>
                                                        </div>
                                                    </div>
                                                    
                                                </li>
                                                <li class="item">
                                                    <div class="product-info ml-0 font-12 custom-scrollbar" style="max-height:100px">
                                                        {{User.COMMENTS==null?'-':User.COMMENTS}}
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="col-auto" ng-if="APL.showborder && !$last" ng-repeat-end><i class="far fa-angle-right text-grey mt-1"></i></div>
                </div>
            </div>
        </div>
    </div>
</div>