<div class="card">
    <div class="card-header"><h5 class="card-title">P2P Reports</h5></div>
    <div class="card-body">
        <div class="text-center" ng-show="REPORT_LIST.length==0" empty-grid></div>
        <div class="table-responsive custom-scrollbar height-auto" ng-show="REPORT_LIST.length>0">
            <table class="table table-head-fixed table-hover">
                <thead class="bg-wenodo-border">
                    <tr>
                        <th>Report</th>
                        <th>Description</th>
                        <th width="6%" class="text-center">Download </th>
                    </tr>
                </thead>
                <tbody ng-repeat="RPT in REPORT_LIST">
                    <tr>
                        <td>{{RPT.REPORT_NAME}}</td>
                        <td>
                            {{RPT.REPORT_DESCRIPTION}}
                        </td>
                        <td class="text-center">
                            <i class="fad fa-download fa-lg cursor-pointer" data-toggle="tooltip" data-html="true" data-original-title="Download"
                               ng-click="DOWNLOAD_SHOW_POP(RPT.REPORT_ID)"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade" id="Report_Date">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" ng-init="$parent.dateinputOpenDate()">
                <h4 class="modal-title"> Download Report </h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="far fa-times fa-sm"></i></span>
                </button>
            </div>
            <div class="modal-body custom-scrollbar height-450" style="overflow:visible">
                <div class="row" ng-show="RPTID ==31 || RPTID ==32 || RPTID ==33 || RPTID ==34 || RPTID ==35 || RPTID ==54 || RPTID==55 || RPTID==57">
                    <div class="col-md-4" ng-show="RPTID !=31 && RPTID !=32 && RPTID !=54">
                        <div class="form-group">
                            <label>Start Date:*</label>
                            <input type="text"
                                   class="form-control dateinputOpenDate"
                                   autocomplete="off"
                                   name="ReportSearch.START_DATE"
                                   readonly
                                   placeholder="Select ..."
                                   ng-model="ReportSearch.START_DATE"
                                   ng-value="ReportSearch.START_DATE | date"
                                   required
                                   ng-class="{'error':ReportForm.submitted && ReportForm.START_DATE.$error.required}" />
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID !=31 && RPTID !=32 && RPTID !=54">
                        <label>End Date:*</label>
                        <input type="text"
                               class="form-control dateinputOpenDate"
                               autocomplete="off"
                               name="ReportSearch.END_DATE"
                               readonly
                               placeholder="Select ..."
                               ng-model="ReportSearch.END_DATE"
                               ng-value="ReportSearch.END_DATE | date"
                               required
                               ng-class="{'error':ReportForm.submitted && ReportForm.END_DATE.$error.required}" />
                    </div>
                    <div class="col-md-4" ng-show="RPTID ==33 || RPTID ==34 || RPTID ==35 || RPTID==55">
                        <div class="form-group">
                            <label>Branch:</label>
                            <select class="custom-select"
                                    name="BRANCH_ID"
                                    ng-model="ReportSearch.BRANCH_ID"
                                    ng-options="EL.BRANCH_ID as EL.BRANCH_NAME for EL in BRANCH_LIST"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.BRANCH_ID.$error.required}">
                                <option value="">- Please Select Branch-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4" ng-if="RPTID ==54">
                        <div class="form-group">
                            <label>Budget Year:</label>
                            <select class="custom-select"
                                    ng-model="ReportSearch.BUDGET_CONSUMPTION_REPORT_YEAR"
                                    ng-options="YEAR.ID  as YEAR.NAME for YEAR in (YEAR_LIST)"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.STATUS_ID.$error.required}">
                                <option value="">- Please Select Year-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID ==31 || RPTID ==32 || RPTID ==54 || RPTID ==57">
                        <label>Branch:<span nf-if="RPTID ==57">*</span></label>
                        <ul class="nav nav-pills">
                            <li class="dropdown w-100">
                                <a class="form-control text-limitations custom-dropdown cursor-pointer" ng-class="{'c-form-control':SHOW_BTN}" data-toggle="dropdown">
                                    <span id="dropdown_title" ng-show="(BRANCH_LIST_BY_USER_PRIVILEGE | filter:{IS_CHECK:true}).length==BRANCH_LIST_BY_USER_PRIVILEGE.length">- Select -</span>
                                    <span id="dropdown_title" ng-show="(BRANCH_LIST_BY_USER_PRIVILEGE | filter:{IS_CHECK:true}).length!=BRANCH_LIST_BY_USER_PRIVILEGE.length">
                                        Site Selected : {{(BRANCH_LIST_BY_USER_PRIVILEGE | filter:{"IS_CHECK":"true"})[0]["BRANCH_NAME"]}}
                                    </span>
                                </a>
                                <ul ID="divNewNotifications" class="dropdown-menu dropdown-menu-arrow text-xs custom-scrollbar min-w-285">
                                    <!--<li ng-click="SITE_All_Fn()" class="DontHideOnClick">
                                        <i class="far fa-lg"
                                           ng-class="{'fa-check-square green':(BRANCH_LIST_BY_USER_PRIVILEGE | filter:{IS_CHECK:true}).length==BRANCH_LIST_BY_USER_PRIVILEGE.length,'fa-square':(BRANCH_LIST_BY_USER_PRIVILEGE | filter:{IS_CHECK:true}).length!=BRANCH_LIST_BY_USER_PRIVILEGE.length}"></i>
                                        <span class="font-12">All</span>
                                    </li>-->
                                    <li class="pl-4 py-2 DontHideOnClick" ng-click="SITE_Fn(site,2)" ng-repeat="site in BRANCH_LIST_BY_USER_PRIVILEGE">
                                        <i class="far fa-lg" ng-class="{'fa-check-square green':site.IS_CHECK,'fa-square':!site.IS_CHECK}"></i>
                                        <span class="font-12 ml-2">
                                            {{site.BRANCH_NAME}}
                                        </span>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class="row" ng-show="RPTID ==7 || RPTID ==9 || RPTID ==25 || RPTID ==26 || RPTID ==30">
                    <div class="col-md-4" ng-show="RPTID !=25">
                        <div class="form-group">
                            <label>Start Date:*</label>
                            <input type="text"
                                   class="form-control dateinputOpenDate"
                                   autocomplete="off"
                                   name="ReportSearch.ROTA_START_DATE"
                                   readonly
                                   placeholder="Select ..."
                                   ng-model="ReportSearch.ROTA_START_DATE"
                                   ng-value="ReportSearch.ROTA_START_DATE | date"
                                   required
                                   ng-class="{'error':ReportForm.submitted && ReportForm.ROTA_START_DATE.$error.required}" />
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID !=25">
                        <div class="form-group">
                            <label>End Date:*</label>
                            <input type="text"
                                   class="form-control dateinputOpenDate"
                                   autocomplete="off"
                                   name="ReportSearch.END_DATE"
                                   readonly
                                   placeholder="Select ..."
                                   ng-model="ReportSearch.ROTA_END_DATE"
                                   ng-value="ReportSearch.ROTA_END_DATE | date"
                                   required
                                   ng-class="{'error':ReportForm.submitted && ReportForm.ROTA_END_DATE.$error.required}" />
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID !=25 && RPTID !=26">
                        <div class="form-group">
                            <label>Location:</label>
                            <select class="custom-select"
                                    name="LOCATION_ID"
                                    ng-model="ReportSearch.LOCATION_ID"
                                    ng-options="EL.LOCATION_ID as EL.LOCATION_NAME for EL in LOCATION"
                                    ng-change="ADMIN_GET_BRANCH();"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.LOCATION_ID.$error.required}">
                                <option value="">- Please Select Location-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Branch:</label>
                            <select class="custom-select"
                                    name="BRANCH_ID"
                                    ng-model="ReportSearch.BRANCH_ID"
                                    ng-options="EL.BRANCH_ID as EL.BRANCH_NAME for EL in BRANCH_LIST"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.BRANCH_ID.$error.required}">
                                <option value="">- Please Select Branch-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID==7 || RPTID==30">
                        <div class="form-group">
                            <label>Status:</label>
                            <select class="custom-select"
                                    ng-model="ReportSearch.STATUS_ID"
                                    ng-options="RS.STATUS_ID  as RS.DISPLAY_TEXT for RS in (ROTA_STATUS_FLAG)"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.STATUS_ID.$error.required}"></select>
                        </div>
                    </div>
                    <div class="col-md-4" ng-show="RPTID !=25">
                        <div class="form-group">
                            <label>Section:</label>
                            <select class="custom-select"
                                    ng-model="ReportSearch.SECTION_ID"
                                    ng-options="SEC.TABLE_ID  as SEC.DISPLAY_TEXT for SEC in (SECTIONS)"
                                    ng-class="{'error':ReportForm.submitted && ReportForm.STATUS_ID.$error.required}">
                                <option value="">- Please Select Section-</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" ng-click="COMMON_REPORT_GENERATE_FILE(RPTID)" ng-if="RPTID ==7 || RPTID ==9 || RPTID ==5|| RPTID ==6 || RPTID ==24 || RPTID ==25 || RPTID ==26 || RPTID ==30 || RPTID ==31 || RPTID ==32 || RPTID ==33 || RPTID ==34 || RPTID ==35 || RPTID ==54  || RPTID==55 || RPTID ==57" ng-disabled="enable=='false'"
                        class="btn btn-wenodo">
                    <span ng-show="LOADER_ICON"><i class='fa fa-spinner fa-spin '></i></span>
                    Download
                </button>
                <button type="button" ng-if="RPTID ==1 || RPTID ==2 || RPTID ==3" ng-click="HR_EMPLOYEE_REPORT();"
                        class="btn btn-wenodo">
                    <span ng-show="LOADER_ICON"><i class='fa fa-spinner fa-spin '></i></span>
                    Download
                </button>
                <button type="button" ng-if="(RPTID == 2 || RPTID == 3) && (REPORT_DATA_LIST_CSV.length>0)"
                        ng-class="{'btn btn-wenodo': REPORT_DATA_LIST_CSV.length>0}"
                        class="btn btn-default"
                        ng-csv="REPORT_DATA_LIST_CSV"
                        filename="{{REPORT_NAME
                            }}.csv"
                        csv-header="JSON_COLUMN_NAME" charset="utf-8">
                    <span class="glyphicon glyphicon-download-alt">&nbsp;</span>Download CSV
                </button>
                <!--<button type="button" ng-show="RPTID ==7 || RPTID ==9 || RPTID ==5 || RPTID ==6"
                        ng-class="{'btn btn-wenodo': REPORT_DATA_LIST.length>0}"
                        class="btn btn-default"
                        ng-if="REPORT_DATA_LIST.length>0" ng-click="DOWNLOAD_EXCEL();">
                    <span class="glyphicon glyphicon-download-alt">&nbsp;</span>Download Excel
                </button>-->
                <!--<button type="button" ng-show="RPTID ==7" ng-if="false"
                        ng-class="{'btn btn-wenodo': REPORT_DATA_LIST.length>0}"
                        class="btn btn-default"
                        ng-if="REPORT_DATA_LIST.length>0" ng-click="DOWNLOAD_PDF();">
                    <span class="glyphicon glyphicon-download-alt">&nbsp;</span>Download PDF
                </button>-->
                <!--<button type="button" class="btn btn-w-default" data-dismiss="modal" aria-label="Close" ng-if="RPTID !=7 || RPTID !=9 || RPTID !=5">Cancel</button>-->
                <button type="button" class="btn btn-w-default" ng-if="RPTID ==7 || RPTID ==9 || RPTID ==5 || RPTID ==6 || RPTID ==2 || RPTID ==3 || RPTID ==24 || RPTID ==25 || RPTID ==26" ng-click="RESET();">Reset</button>

            </div>
        </div>
    </div>
</div>

