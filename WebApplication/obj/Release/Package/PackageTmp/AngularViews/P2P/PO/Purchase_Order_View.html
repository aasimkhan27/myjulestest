<div class="row">
    <div class="col-md-12">
        <div class="row align-content-center mn-height-66vh" ng-show="PURCHASE_ORDERS_LIST.length==0">
            <div class="col-md-12 text-center">
                <h5 class="text-muted">
                    <span class="d-block mb-3">
                        <img src="../../../E_Content/images/sorted.png" />
                    </span>
                    Everything's sorted!
                </h5>
            </div>
        </div>
        <div class="card-body" ng-show="PURCHASE_ORDERS_LIST.length>0">
            <div class="row">
                <div class="col">
                    <h6 class="po-details  font-14 ">
                        Purchase Order
                        <span ng-show="PO_Search.PO_DETAILS.STATUS_ID==72">({{PO_Search.PO_DETAILS.PO_NUMBER}})</span>  to {{PO_Search.PO_DETAILS.CONTACT_NAME}}.
                    </h6>
                </div>
            </div>
            <div class="row align-items-center mt-1">
                <div class="col-auto"><div class="name-badge">{{PO_Search.PO_DETAILS.SHORT_NAME}}</div></div>
                <div class="col-md-5">
                    <span class="po-details">By {{PO_Search.PO_DETAILS.REQUESTOR_NAME}}</span>
                    <span class="po-supplier">{{PO_Search.PO_DETAILS.REQUESTOR_EMAIL}}</span>
                    <span class="po-supplier"><span class="text-normal">Raised For {{PO_Search.PO_DETAILS.BRANCH_NAME}} </span></span>
                </div>
                <div class="col-md-3"><span class="po-supplier">REQ#: {{PO_Search.PO_DETAILS.REQ_NUMBER}}</span></div>
                <div class="col" >
                    <span class="po-supplier text-right" >
                        <button type="button"
                                data-toggle="tooltip"
                                data-html="true"
                                data-original-title="View PO PDF"
                                class="btn btn-w-default cursor-pointer"
                                ng-click="PDF_DOWNLOAD_FY(1,PO_Search.PO_DETAILS)">
                            <i class="far fa-eye"></i>
                        </button>
                        <button type="button"
                                data-toggle="tooltip"
                                data-html="true"
                                data-original-title="Download PO PDF"
                                class="btn btn-w-default cursor-pointer"
                                ng-click="PDF_DOWNLOAD_FY(2,PO_Search.PO_DETAILS)">
                            <i class="far fa-download"></i>
                        </button>
                        <button type="button"
                                class="btn btn-transparent-danger mr-2 border"
                                ng-click="POP_DISCARD_PO_FY(1)"
                                ng-show="PO_Search.PO_DETAILS.GRN_STATUS_ID==75 && PO_Search.PO_DETAILS.STATUS_ID!=73 && CheckSubModuleAccess(132) || CheckSubModuleAccess(134) &&  PO_Search.PO_DETAILS.STATUS_ID!=73 && PO_Search.PO_DETAILS.GRN_STATUS_ID==75"
                                data-toggle="tooltip"
                                data-html="true"
                                data-placement="top"
                                data-original-title="Cancel PO">
                            <i class="far fa-align-slash"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="row mt-3" id="div_PurchaseOrder">
                <div class="col">
                    <div class="form-group">
                        <label>Contact</label>
                        <span class="d-block text-bold font-14"> {{PO_Search.PO_DETAILS.CONTACT_NAME}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Date</label>
                        <span class="d-block text-bold font-14">{{PO_Search.PO_DETAILS.PO_DATE | date}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Delivery Date</label>
                        <span class="d-block text-bold font-14">{{PO_Search.PO_DETAILS.DELIVERY_DATE  | date}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Reference</label>
                        <span class="d-block text-bold font-14">{{PO_Search.PO_DETAILS.REFERENCE==null || PO_Search.PO_DETAILS.REFERENCE==''?'-':PO_Search.PO_DETAILS.REFERENCE}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Project Name</label>
                        <span class="d-block text-bold font-14">{{PO_Search.PO_DETAILS.PROJECT_NAME==null || PO_Search.PO_DETAILS.PROJECT_NAME==''?'-':PO_Search.PO_DETAILS.PROJECT_NAME}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Theme</label>
                        <span class="d-block text-bold font-14">{{PO_Search.PO_DETAILS.BRANDING_THEME==null || PO_Search.PO_DETAILS.BRANDING_THEME==''?'-':PO_Search.PO_DETAILS.BRANDING_THEME}}</span>
                    </div>
                </div>
            </div>
            <div class="col-md-12 border py-3">
                <div class="row">
                    <div class="col font-14 cursor-pointer">Receipt Notes (GRN/SRN)</div>
                    <div class="col-auto">
                        <span class="badge" style="padding:7px 20px"
                              ng-class="{'badge-light-grey':PO_Search.PO_DETAILS.GRN_STATUS_ID==75,'badge-light-blue':PO_Search.PO_DETAILS.GRN_STATUS_ID==76,'badge-success':PO_Search.PO_DETAILS.GRN_STATUS_ID==77}">{{PO_Search.PO_DETAILS.GRN_STATUS_NAME}}</span>
                        <button type="button" ng-click="GRN_POP(37)"
                                ng-show="PO_Search.PO_DETAILS.STATUS_ID!=73 && CheckSubModuleAccess(135)
                                || PO_Search.PO_DETAILS.STATUS_ID!=73 && CheckSubModuleAccess(134)
                                || PO_Search.PO_DETAILS.STATUS_ID!=73 && CheckSubModuleAccess(144)
                                || PO_Search.PO_DETAILS.STATUS_ID!=73 && PO_Search.PO_DETAILS.BUYER_ID==USER_ID"
                                class="btn btn-w-default">
                            Update
                        </button>
                    </div>
                </div>
                <div ng-show="GRN_LIST.length==0 && HIDE_SHOW">
                    <div class="col-md-12 text-center">
                        <h5 class="text-muted">
                            <span class="d-block mb-3">
                                <img src="../../../E_Content/images/sorted.png" />
                            </span>
                            Everything's sorted!
                        </h5>
                    </div>
                </div>
                <div class="row" ng-repeat="GL in GRN_LIST" ng-init="InitiateFilteList(GL);" ng-show="HIDE_SHOW">
                    <div class="col-md-12 border-bottom mt-3" ng-class="$fast"></div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Date</label>
                            <span class="d-block text-bold font-12">{{GL.CREATED_DATE | date}}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Author</label>
                            <span class="d-block text-bold font-12">{{GL.USER_NAME}}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Comment</label>
                            <span class="d-block text-bold font-12">{{GL.COMMENTS}}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Status</label>
                            <span class="d-block text-bold font-12">{{GL.STATUS_NAME}}</span>
                        </div>
                    </div>
                    <div class="col-md-12 mb-2">
                        <label>Attachments</label>
                        <div class="font-12" ng-show="GL.UploadedFiles.length==0">No Attachment</div>
                        <div class="row">
                            <div class=" col-md-3 " ng-repeat="FILE in GL.UploadedFiles">
                                <div class="file-block ">
                                    <div class="file-info">
                                        <i class="far fa-paperclip file-icon"></i>
                                        <span class="text-limit-1">
                                            <a href="../P2PFiles/{{FILE.FILE_PATH}}{{FILE.SERVER_FILE_NAME}}"
                                               download="{{FILE.ORIGINAL_FILE_NAME}}">{{FILE.ORIGINAL_FILE_NAME}}</a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-md-12 mt-3">
                <h5 class="card-title mt-2">Line Items</h5>
                <div class="row">
                    <div class="col-auto " ng-show="false">
                        <div class=" mb-2">
                            1  &nbsp;
                            {{PO_Search.PO_DETAILS.BASE_CURRENCY_CODE}}
                            =  {{PO_Search.PO_DETAILS.BASE_TO_PO_CONVERSION_RATE}}
                            {{PO_Search.PO_DETAILS.PO_CURRENCY_CODE}}
                        </div>
                    </div>
                    <div class="col-auto  ml-auto ">
                        <div class="form-inline mb-2">
                            <label class="mr-2">PO Currency:</label>
                            <span class="text-bold font-13">    {{PO_Search.PO_DETAILS.PO_CURRENCY_CODE}}</span>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-inline mb-2">
                            <label class="mr-2">Amounts are</label>
                            <span class="text-bold font-13">{{PO_Search.PO_DETAILS.TAX_NAME}}</span>
                        </div>
                    </div>
                </div>
                <div class="table-responsive custom-scrollbar height-auto">
                    <table class="table table-head-fixed table-hover table-bordered">
                        <thead class="bg-wenodo-border">
                            <tr>
                                <th width="15%">Item </th>
                                <th width="25%">Description </th>
                                <th>Quantity </th>
                                <th>Unit Price </th>
                                <th>UOM </th>
                                <th>Disc %</th>
                                <th>GL Account </th>
                                <th>Tax Rate </th>
                                <th>Tax Amount</th>
                                <th class="text-right">Amount</th>
                                <th ng-repeat="TrackingCat in SELECTED_OPTION_LIST_MASTER  track by $index">{{TrackingCat.FIELD_NAME}}</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="PRL in PO_ITEM_LIST"
                               ng-init="InitiatePOItemList(PRL);"
                               on-finish-render="ngRepeatFinishedRender">
                            <tr>
                                <td>{{PRL.ITEM_NAME}}</td>
                                <td>
                                    {{PRL.DESCRIPTION==null || PRL.DESCRIPTION==''?'-': PRL.DESCRIPTION | limitTo:PRL.DESCRIPTION_LIMIT_TO}}
                                    <span ng-show="PRL.DESCRIPTION.length>PRL.DESCRIPTION_LIMIT_TO">...</span>
                                    <span class="btn btn-xs btn-transparent-wenodo" ng-show="PRL.DESCRIPTION.length>PRL.DESCRIPTION_LIMIT_TO" ng-click="READ_MORE_FY(PRL,1)" data-toggle="tooltip" data-html="true" data-original-title="Read More"><i class="far fa-plus"></i></span>
                                    <span class="btn btn-xs btn-transparent-wenodo" ng-show="PRL.DESCRIPTION_LIMIT_TO>DESCRIPTION_LIMIT_TO" ng-click="READ_MORE_FY(PRL,2)" data-toggle="tooltip" data-html="true" data-original-title="Hide"><i class="far fa-minus"></i></span>
                                </td>
                                <td>{{PRL.QUANTITY | number:2}}</td>
                                <td>{{PRL.UNIT_PRICE | number:2}}</td>
                                <td>{{PRL.UOM_NAME}}</td>
                                <td>{{PRL.DISCOUNT_PERCENT=="" || PRL.DISCOUNT_PERCENT==null?'-':PRL.DISCOUNT_PERCENT }}</td>
                                <td>{{PRL.ACCOUNT_DETAILS}}</td>
                                <td>{{PRL.TAX_RATE_DETAILS}}</td>
                                <td class="text-right">
                                    {{PRL.TAX_AMOUNT=PO_Search.PO_DETAILS.TAX_TYPE==3?0:(PO_Search.PO_DETAILS.TAX_TYPE==2?((((PRL.UNIT_PRICE*PRL.QUANTITY) / (1 + (PRL.TAX_RATE/100)))-(((PRL.UNIT_PRICE*PRL.QUANTITY) / (1 + (PRL.TAX_RATE/100)))*(PRL.DISCOUNT_PERCENT/100))) * (PRL.TAX_RATE/100)):(((PRL.UNIT_PRICE*PRL.QUANTITY)-((PRL.UNIT_PRICE*PRL.QUANTITY)*(PRL.DISCOUNT_PERCENT/100))) * (PRL.TAX_RATE/100))) | number:2}}
                                </td>
                                <td class="text-right text-nowrap pr-2">
                                    {{PRL.AMOUNT= ((PRL.QUANTITY * PRL.UNIT_PRICE) - (PRL.QUANTITY*1 * PRL.UNIT_PRICE*1 * (PRL.DISCOUNT_PERCENT)/100)) | number:2}}
                                </td>
                                <td ng-repeat="TrackingCat in PRL.SELECTED_OPTION_LIST_MASTER track by $index"
                                    ng-init="InitiateXeroTrackingPOCategories(TrackingCat, $index,PRL,3);">
                                    {{TrackingCat.OPTION_NAME}}
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="text-bold table-footer-fixed">
                                <td colspan="9" class="text-right font-13">Sub Total</td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    {{(PO_ITEM_LIST | total: 'AMOUNT') | number:2}}
                                </td>
                                <td colspan="{{SELECTED_OPTION_LIST_MASTER.length}}" ng-if="SELECTED_OPTION_LIST_MASTER.length>0" class="text-right font-13"></td>
                            </tr>
                            <tr class="text-bold table-footer-fixed" ng-repeat="TAX in PO_ITEM_LIST | unique:'TAX_RATE_ID'" ng-if="TAX.TAX_RATE_ID!=null">
                                <td colspan="9" class="text-right font-13">
                                    {{TAX.TAX_RATE_DETAILS}}
                                </td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    {{PO_ITEM_LIST | filter:{TAX_RATE_ID:TAX.TAX_RATE_ID} | total:'TAX_AMOUNT' | number:2}}
                                </td>
                                <td colspan="{{SELECTED_OPTION_LIST_MASTER.length}}" ng-if="SELECTED_OPTION_LIST_MASTER.length>0" class="text-right font-13"></td>
                            </tr>
                            <tr class="text-bold table-footer-fixed">
                                <td colspan="9" class="text-right font-13">Total</td>
                                <td class="text-right text-nowrap pr-2 font-13">
                                    <span ng-show="false">
                                        {{(PO_ITEM_LIST | total:'TAX_AMOUNT') | number:2}}
                                    </span>
                                    <span ng-if="PO_Search.PO_DETAILS.TAX_TYPE==1">
                                        {{((PO_ITEM_LIST | total: 'AMOUNT') + (PO_ITEM_LIST | total: 'TAX_AMOUNT')) | number:2}}
                                    </span>
                                    <span ng-if="PO_Search.PO_DETAILS.TAX_TYPE==2">
                                        {{(PO_ITEM_LIST | total: 'AMOUNT')  | number:2}}
                                    </span>
                                    <span ng-if="PO_Search.PO_DETAILS.TAX_TYPE==3">
                                        {{(PO_ITEM_LIST | total: 'AMOUNT') | number:2}}
                                    </span>
                                    {{PO_Search.PO_DETAILS.PO_CURRENCY_CODE}}
                                </td>
                                <td colspan="{{SELECTED_OPTION_LIST_MASTER.length}}" ng-if="SELECTED_OPTION_LIST_MASTER.length>0" class="text-right font-13"></td>
                            </tr>
                        </tfoot>

                    </table>
                </div>
            </div>
            <div class="col-md-12">
                <div class="card-header w-100">
                    <h5 class="card-title mt-1 font-15"> Advance Amount</h5>
                </div>
                <div class="row mt-3">
                    <div class="col-md-3">
                        <div class="form-group">
                            <span class="d-block text-bold font-14"> {{PO_Search.PO_DETAILS.ADVANCE | number:2}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="card-header w-100">
                    <h5 class="card-title mt-1"> Actual Budget (This shows the current status of Budget) <span ng-show="P2P_PO_MASTER_LIST.length>0"> ({{PO_Search.BUDGET_NAME}})</span> </h5>
                    <button type="button"
                            ng-click="GET_P2P_BUDGET_SNAPSHOT(PO_Search.PO_DETAILS);PO_Search.PO_DETAILS.SHOW_REQ_BUDGET=!PO_Search.PO_DETAILS.SHOW_REQ_BUDGET;"
                            data-toggle="tooltip"
                            data-html="true"
                            data-original-title="View Requisition Budget"
                            class="btn btn-transparent-wenodo ml-2 border float-right">
                        View Requisition Budget
                    </button>
                </div>
                <div class="col-md-12 mt-2" ng-show="P2P_PO_MASTER_LIST.length>0">
                    <span class="po-amount">The following budgets would be affected by the approval of the request.</span>
                </div>
                <div class="col-md-12 text-center mt-2" ng-show="P2P_PO_MASTER_LIST.length==0" empty-grid> </div>
                <div class="card-body p-0 mt-2" ng-show="P2P_PO_MASTER_LIST.length>0">
                    <div class="table-responsive custom-scrollbar">
                        <table class="table table-head-fixed table-hover">
                            <thead class="bg-wenodo-border">
                                <tr>
                                    <th>GL Account </th>
                                    <th>Period</th>
                                    <th class="text-right">Total</th>
                                    <th class="text-right">Remaining</th>
                                    <th class="text-right">Consumed</th>
                                    <th class="text-right">Booked</th>
                                    <th class="text-right">Credit Notes</th>
                                    <th class="text-right">Current Amt.</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="BD in P2P_PO_MASTER_LIST">
                                <tr>
                                    <td rowspan="3">{{BD.GLACCOUNT_NAME}}</td>
                                    <td colspan="7" ng-if="BD.DB_ACCOUNT_ID==0" class="text-align-center text-bold">There is no budget allocated in this GL Account</td>
                                </tr>
                                <tr ng-if="BD.DB_ACCOUNT_ID!=0" ng-repeat="BL in BD.BUDGET_DETAILS_LIST"
                                    ng-init="BL.CURRENT_PO_CUSTOM=0;"
                                    ng-click="VIEW_BUDGET_fn(BD,PO_Search.PO_DETAILS.PO_DATE,PO_Search.PO_DETAILS.PROJECT_MASTER_ID,PO_Search,PO_Search,'PO_ACTION')">
                                    <td>{{BL.PERIOD}}</td>
                                    <td class="text-right">{{BL.TOTAL | number:2}}</td>
                                    <td class="text-right">
                                        <span ng-show="false">
                                            {{BD.IS_OVER_BUDGET=(BL.REMAINING_AMOUNT<0 && BD.BUDGET_DETAILS_LIST.length==BL.LINE_ID?true:BD.IS_OVER_BUDGET?true:false)}}
                                        </span>
                                        <span ng-class="{'text-red text-bold':BL.REMAINING_AMOUNT<0}">
                                            {{(BL.REMAINING_AMOUNT=((BL.TOTAL*1)-((BL.BOOKED*1) +(BL.CURRENT_PO_CUSTOM*1)+(BL.CONSUMED*1)+(BL.MEMO*1)))) | number:2}}
                                        </span>
                                    </td>
                                    <td class="text-right">{{BL.CONSUMED | number :2}}</td>
                                    <td class="text-right">{{BL.BOOKED  | number :2}}</td>
                                    <td class="text-right">
                                        <span ng-show="BL.MEMO==0">{{BL.MEMO*-1 | number :2}}</span><span ng-show="BL.MEMO!=0">({{BL.MEMO*-1 | number :2}})</span>
                                    </td>
                                    <td class="text-right">
                                        <span ng-show="false">
                                            {{BL.ITEM_TAX_AMOUNT=(PO_ITEM_LIST | filter:{ACCOUNT_ID:BD.ACCOUNT_ID} | total:'TAX_AMOUNT')}}
                                            {{BL.ITEM_AMOUNT= (PO_ITEM_LIST | filter:{ACCOUNT_ID:BD.ACCOUNT_ID} | total:'AMOUNT') }}
                                            {{BL.TAX_AMT_TOTAL= ((NAN_Fn(BL.ITEM_TAX_AMOUNT)?0:BL.ITEM_TAX_AMOUNT) + BL.ITEM_AMOUNT*1)}}
                                        </span>
                                        {{PO_Search.PO_DETAILS.TAX_TYPE==1?((BL.CURRENT_PO_CUSTOM=((BL.TAX_AMT_TOTAL)/PO_Search.PO_DETAILS.BASE_TO_PO_CONVERSION_RATE)) | number:2):((BL.CURRENT_PO_CUSTOM=((BL.ITEM_AMOUNT)/PO_Search.PO_DETAILS.BASE_TO_PO_CONVERSION_RATE))| number:2)}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="alert alert-warning-red" ng-show="(P2P_PO_MASTER_LIST | filter:{IS_OVER_BUDGET:true}).length">
                <strong>Warning!</strong> This requisition is going over budget.
            </div>
            <div class="col-md-12" ng-show="PO_Search.PO_DETAILS.SHOW_REQ_BUDGET">
                <div class="card-header w-100">
                    <h5 class="card-title mt-1">
                        Requisition Budget (This shows the budget when the requisition was posted) <span ng-show="PO_Search.PO_DETAILS.P2P_SNAP_SHOT_MASTER_LIST.length>0"></span>
                    </h5>
                    <div class="card-tools">
                        <button type="button" class="btn btn-transparent-wenodo border" data-toggle="tooltip" data-html="true" data-original-title="Hide" ng-click="PO_Search.PO_DETAILS.SHOW_REQ_BUDGET=!PO_Search.PO_DETAILS.SHOW_REQ_BUDGET">
                            <i class="fa fa-close"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-12 text-center mt-2" ng-show="PO_Search.PO_DETAILS.P2P_SNAP_SHOT_MASTER_LIST.length==0" empty-grid> </div>
                <div class="card-body p-0 mt-2" ng-show="PO_Search.PO_DETAILS.P2P_SNAP_SHOT_MASTER_LIST.length>0">
                    <div class="table-responsive custom-scrollbar">
                        <table class="table table-head-fixed table-hover">
                            <thead class="bg-wenodo-border">
                                <tr>
                                    <th>GL Account </th>
                                    <th>Period</th>
                                    <th class="text-right">Total</th>
                                    <th class="text-right">Remaining</th>
                                    <th class="text-right">Consumed</th>
                                    <th class="text-right">Booked</th>
                                    <th class="text-right">Credit Notes</th>
                                    <th class="text-right">Amount</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="BD in PO_Search.PO_DETAILS.P2P_SNAP_SHOT_MASTER_LIST | unique:'ACCOUNT_ID'">
                                <tr><td rowspan="3">{{BD.ACCOUNT_DETAILS}}</td></tr>
                                <tr ng-repeat="BL in PO_Search.PO_DETAILS.P2P_SNAP_SHOT_MASTER_LIST | filter:{ACCOUNT_ID:BD.ACCOUNT_ID}">
                                    <td>{{BL.PERIOD}}</td>
                                    <td class="text-right">{{BL.TOTAL | number:2}}</td>
                                    <td class="text-right">
                                        <span ng-class="{'text-red text-bold':BL.REMAINING_AMOUNT<0}">
                                            {{(BL.REMAINING_AMOUNT=((BL.TOTAL*1)-((BL.BOOKED*1) +(BL.CURRENT*1)+(BL.CONSUMED*1)+(BL.MEMO*1)))) | number:2 }}
                                        </span>
                                    </td>
                                    <td class="text-right">{{BL.CONSUMED | number :2}}</td>
                                    <td class="text-right">{{BL.BOOKED  | number :2}}</td>
                                    <td class="text-right">
                                        <span ng-show="BL.MEMO==0">{{BL.MEMO*-1 | number :2}}</span><span ng-show="BL.MEMO!=0">({{BL.MEMO*-1 | number :2}})</span>
                                    </td>
                                    <td class="text-right">
                                        {{BL.CURRENT | number:2}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>



            <div class="col-md-12 mt-3">
                <h5 class="card-title w-100">Attachments</h5>
                <div ng-show="PO_Search.PO_DETAILS.UploadedFiles.length==0">No attachment</div>
                <div class="row" ng-show="PO_Search.PO_DETAILS.UploadedFiles!=null && PO_Search.PO_DETAILS.UploadedFiles.length>0">
                    <div class="col-md-3">
                        <div class="file-block" ng-repeat="FILE in PO_Search.PO_DETAILS.UploadedFiles">
                            <div class="file-info">
                                <i class="far fa-paperclip file-icon"></i>
                                <span class="text-limit-1"> <a href="../P2PFiles/{{FILE.FILE_PATH}}{{FILE.SERVER_FILE_NAME}}" download="../{{FILE.FILE_PATH}}{{FILE.SERVER_FILE_NAME}}">  {{FILE.ORIGINAL_FILE_NAME}} </a></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 mt-3">
                <h5 class="card-title w-100">Delivery Details</h5>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Address</label>
                            <span class="d-block font-12">{{PO_Search.PO_DETAILS.DELIVERY_ADDRESS}}</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Attention To</label>
                                <span class="d-block font-12">
                                    {{PO_Search.PO_DETAILS.ATTENTION == null || PO_Search.PO_DETAILS.ATTENTION==''?'-':PO_Search.PO_DETAILS.ATTENTION}}
                                </span>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Phone</label>
                                <span class="d-block font-12">{{PO_Search.PO_DETAILS.PHONE}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Delivery Instructions</label>
                            <span class="d-block font-12">
                                {{PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS == null || PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS==''?'-':PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS | limitTo:REQ_PROC_Search.DELIVERY_INSTRUCTIONS_LIMIT_TO}}
                            </span>
                            <span ng-show="PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS.length>REQ_PROC_Search.DELIVERY_INSTRUCTIONS_LIMIT_TO">...</span>
                            <span class="btn btn-xs btn-transparent-wenodo"
                                  ng-show="PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS.length>REQ_PROC_Search.DELIVERY_INSTRUCTIONS_LIMIT_TO"
                                  ng-click="READ_MORE_FY(PO_Search.PO_DETAILS,1,'DELIVERY_INSTRUCTIONS')"
                                  data-toggle="tooltip" data-html="true"
                                  data-original-title="Read More"><i class="far fa-plus"></i></span>
                            <span class="btn btn-xs btn-transparent-wenodo"
                                  ng-show="PO_Search.PO_DETAILS.DELIVERY_INSTRUCTIONS.length==REQ_PROC_Search.DELIVERY_INSTRUCTIONS_LIMIT_TO"
                                  ng-click="READ_MORE_FY(PO_Search.PO_DETAILS,2,'DELIVERY_INSTRUCTIONS')"
                                  data-toggle="tooltip" data-html="true"
                                  data-original-title="Hide"><i class="far fa-minus"></i></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <h5 class="text-dark-blue text-bold font-13 mb-0">Note for Approvers</h5>
                <span class="font-12">
                    {{PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS == null || PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS==''?'-':PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS | limitTo:PO_Search.NOTE_FOR_APPROVERS_LIMIT_TO}}
                    <span ng-show="PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS.length>PO_Search.NOTE_FOR_APPROVERS_LIMIT_TO">...</span>
                    <span class="btn btn-xs btn-wenodo d-inline-flex"
                          ng-show="PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS.length>PO_Search.NOTE_FOR_APPROVERS_LIMIT_TO"
                          ng-click="READ_MORE_ACTION_FY(PO_Search.PO_DETAILS,1,'NOT_FOR_APPROVER','ACTION')"
                          data-toggle="tooltip" data-html="true"
                          data-original-title="Read More">
                        <i class="far fa-plus"></i>
                    </span>
                    <span class="btn btn-xs btn-wenodo d-inline-flex"
                          ng-show="PO_Search.PO_DETAILS.NOTE_FOR_APPROVERS.length==PO_Search.NOTE_FOR_APPROVERS_LIMIT_TO"
                          ng-click="READ_MORE_ACTION_FY(PO_Search.PO_DETAILS,2,'NOT_FOR_APPROVER','ACTION')"
                          data-toggle="tooltip" data-html="true"
                          data-original-title="Hide"><i class="far fa-minus"></i></span>
                </span>
            </div>
            <div class="col-md-12 mt-3" ng-show="PO_TERMS_AND_CONDITIONS_MASTER_LIST.length>0">
                <h5 class="text-dark-blue text-bold font-13 mb-0">Terms & Conditions</h5>
                <ul class="products-list product-list-in-card pl-2 pr-2">
                    <li class="item" ng-repeat="PRL in PO_TERMS_AND_CONDITIONS_MASTER_LIST">
                        <span class="terms"><span class="text-bold">{{$index+1}}.</span> {{PRL.TEXT}}</span>
                    </li>
                </ul>
            </div>

            <div class="col-md-12 mt-3">
                <div class="card-header w-100">
                    <h5 class="card-title mt-1">
                        Linked Invoice(s)
                    </h5>
                </div>
                <div class="col-md-12 text-center mt-2" ng-show="INVOICE_PO_MAPPING.length==0" empty-grid> </div>
                <div class="card-body p-0 mt-2" ng-show="INVOICE_PO_MAPPING.length>0">
                    <div class="table-responsive custom-scrollbar">
                        <table class="table table-head-fixed table-hover">
                            <thead class="bg-wenodo-border">
                                <tr>
                                    <td colspan="2" class="text-center text-bold bg-light-green">Invoice</td>
                                    <td colspan="4" class="text-center text-bold bg-light-blue">PO Mapped Details</td>
                                </tr>
                                <tr>
                                    <th>Invoice Number </th>
                                    <th>Due Date </th>
                                    <th>Amount + Tax </th>

                                </tr>
                            </thead>
                            <tbody ng-repeat="IN in INVOICE_PO_MAPPING | unique: 'INVOICE_HEADER_ID'">
                                <tr>
                                    <td><a href="#!/Bill_View?INV={{IN.INVOICE_HEADER_ID}}">{{IN.INVOICE_NUMBER}}</a></td>
                                    <td>{{IN.DUE_DATE | date}}</td>
                                    <td>
                                        {{(INVOICE_PO_MAPPING | filter:{INVOICE_HEADER_ID:IN.INVOICE_HEADER_ID} | total:'MAPPED_AMOUNT') | number: 2}}
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td></td>
                                    <td>Total</td>
                                    <td>{{(INVOICE_PO_MAPPING  | total:'MAPPED_AMOUNT') | number: 2}}</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>