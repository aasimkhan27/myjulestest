<div class="card-header"><h5 class="heading-text-2">{{TEXT_EDIT}}  </h5></div>
<div class="card-body">
    <form id="ResourceForm"  name="ResourceForm" novalidate >
        <div class="row">
            <div class="col-md-1">
                <label>Title *</label>
            </div>
            <div class="col">
                <div class="form-group">
                    <input type="text"
                           class="form-control"
                           name="TITLE"
                           ng-model="RESOURCE_SEARCH.TITLE"
                           required
                           placeholder="Enter Title"
                           ng-class="{'error':ResourceForm.submitted && ResourceForm.TITLE.$error.required}" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Description *</label>
            </div>
            <div class="col">
                <div class="form-group">
                    <textarea class="form-control"
                              name="DESCRIPTION"
                              ng-model="RESOURCE_SEARCH.DESCRIPTION"
                              required
                              rows="5"
                              placeholder="Enter Description"
                              ng-class="{'error':ResourceForm.submitted && ResourceForm.DESCRIPTION.$error.required}"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Upload Image *</label>
            </div>
                    <div class="col">
                        <div class="form-group">
                            <input type="hidden"
                                   class="form-control"
                                   name="PAGE"
                                   ng-model="RESOURCE_SEARCH.PAGE"
                                   required
                                   placeholder="Enter Link" />
                            <div class="form-group" ng-class="{'error':ResourceForm.submitted && IS_IMG_VALID}">
                                <label for="Upload_Image" class="btn btn-upload text-nowrap">
                                    <i class="fal fa-upload"></i>
                                </label>
                                <span class="hidden-input">
                                    <input id="Upload_Image" ng-files="getTheFilesToUploadimage($files,5)" name="file" type="file" />
                                </span>
                                <div class="d-block border-top py-2 font-12" ng-show="RESOURCE_SEARCH.IMAGE!=null && RESOURCE_SEARCH.IMAGE!=''">
                                    <div class="file-upload-content">
                                        <img class="file-upload-image" id="IMAGE_SRC" src="/uploads/{{RESOURCE_SEARCH.IMAGE}}" alt="your image" />
                                        <div class="image-title-wrap">
                                            <button type="button" ng-click="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <span class="d-block mt-2"><b>Note:</b> Upload image in jpeg, png or svg format. The size should be 350x380 pixels.</span>
                            <!--<input type="file"   fileread="uploadme.src">
                            <img ng-src="{{ uploadme.src }}">
                    <div class="dropzone"  file-dropzone="[image/png, image/jpeg, image/gif]"
                         file="image" file-name="imageFileName" data-max-file-size="3">
                        <span>Drop Image Here</span>
                    </div>
                    <div class="image-container">
                        <img ng-src={{image}} />
                        <span class="file-name">{{imageFileName}}</span>
                    </div>
                    </div>-->

                    <!--<div class="file-upload">
                        <button class="btn btn-wenodo" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Add Image</button>
                        <div class="image-upload-wrap"  ng-class="{'error':ResourceForm.submitted && IS_IMG_VALID}">
                            <input class="file-upload-input" type='file'   onchange="readURL(this);" accept="image/*"   />
                            <div class="text-center">
                                <h4>Drag and drop  <br />your Image</h4>
                            </div>
                        </div>
                        <span class="d-block mt-2"><b>Note:</b> Upload image in jpeg, png or svg format. The size should be 350x380 pixels.</span>
                        <div class="file-upload-content">
                            <img class="file-upload-image" id="IMAGE_SRC" src="#" alt="your image" />
                            <div class="image-title-wrap">
                                <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
                            </div>
                        </div>
                    </div>-->
                </div>
                <!--<div class="form-group">
                        <div class="file-upload">
                            <button class="btn btn-wenodo" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Add Image</button>

                        <div class="image-upload-wrap"  ng-class="{'error':ResourceForm.submitted && IS_IMG_VALID}">
                            <input class="file-uploasd-input" type='file' onchange="readURL(this);" accept="image/*" />
                            <div class="text-center">
                                <h4>Drag and drop <br />your Image</h4>
                            </div>
                            <span class="d-block text-grey mt-2"><b>Note:</b> Upload image in jpeg, png or svg format. The size should be 350x380 pixels.</span>
                            <div class="file-upload-content">
                                <img class="file-upload-image"  src="#" alt="your image" />
                                <div class="image-title-wrap">
                                    <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Date *</label>
            </div>
            <div class="col">
                <div class="form-group" ng-init="$parent.dateinputOpenDate()">
                    <input type="text"
                           class="form-control dateinputOpenDate"
                           name="DISPLAY_DATE"
                           ng-model="RESOURCE_SEARCH.DISPLAY_DATE"
                           required
                           placeholder="Select Date"
                           ng-class="{'error':ResourceForm.submitted && ResourceForm.DISPLAY_DATE.$error.required}" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Upload Page *</label>
            </div>
            <div class="col">
                <div class="form-group">
                    <input  type="hidden"
                           class="form-control"
                           name="PAGE"
                           ng-model="RESOURCE_SEARCH.PAGE"
                           required
                           placeholder="Enter Link" />
                    <div class="form-group"  ng-class="{'error':ResourceForm.submitted && ResourceForm.PAGE.$error.required}">
                        <label for="Upload_Page" class="btn btn-upload text-nowrap">
                            <i class="fal fa-upload"></i>
                        </label>
                        <span class="hidden-input">
                            <input id="Upload_Page" ng-files="getTheFilesToUpload_data($files, 'fileUpl_EvtInfo', 5,CRS,4,$index)" name="file" type="file" />
                        </span>
                        <span class="d-block border-top py-2 font-12" ng-show="RESOURCE_SEARCH.PAGE!=null"> {{RESOURCE_SEARCH.PAGE}}<span> <i ng-click="DELETE_UPLOAD_QUALIFICATION(CRS,upls,$index)" class="fa fa-times text-danger fa-sm mt-1 float-right cursor-pointer"></i> </span>
                        </span>
                    </div>
                   
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Sort Order *</label>
            </div>
            <div class="col">
                <div class="form-group">
                    <input type="number"
                           class="form-control"
                           name="DISPLAY_ORDER"
                           required
                           ng-model="RESOURCE_SEARCH.DISPLAY_ORDER"
                           placeholder="Select Order"
                           ng-class="{'error':ResourceForm.submitted && ResourceForm.DISPLAY_ORDER.$error.required}" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <label>Select Branch</label>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <select class="custom-select"
                            name="BRANCH_ID"
                            ng-model="RESOURCE_SEARCH.BRANCH_ID"
                            ng-options="CL.BRANCH_ID as CL.BRANCH_NAME for CL in BRANCH_LIST "
                            ng-class="{'error':ResourceForm.submitted && ResourceForm.BRANCH_ID.$error.required}">
                        <option value="">- All-</option>
                    </select>
                </div>
            </div>  
            <div class="col-md-1 text-right">
                <label>Type *</label>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <!--<select class="form-control">
                        <option>HTML</option>
                        <option>SVG</option>
                    </select>-->
                    <select class="custom-select"
                            name="PAGE_TYPE"
                            ng-model="RESOURCE_SEARCH.PAGE_TYPE"
                            ng-options="CL.ID as CL.NAME for CL in TAGS_LPAGE_LIST "
                            required
                            ng-class="{'error':ResourceForm.submitted && ResourceForm.PAGE_TYPE.$error.required}">
                        <option value="">- All-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-1 text-right">
                <label>Select Tag</label>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <!--<select class="form-control">
                        <option>All</option>
                        <option>Process</option>
                        <option>Cashup</option>
                        <option>HR App</option>
                        <option>Wefyle</option>
                        <option>Auto Entry</option>
                    </select>-->
                    <select class="custom-select"
                            name="TAG_ID"
                            ng-model="RESOURCE_SEARCH.TAG_ID"
                            ng-options="CL.TAG_ID as CL.TAG_NAME for CL in RESOURCE_TAGS_LIST "
                            ng-class="{'error':ResourceForm.submitted && ResourceForm.TAG_ID.$error.required}">
                    </select>

                </div>
            </div>
        </div>
        <!--<div class="row">
            <div class="col-md-1">
                <label>Active</label>
            </div>
            <div class="col">
                <div class="form-group">
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="role"
                               ng-model="RESOURCE_SEARCH.ACTIVE">
                        <label for="role" class="custom-control-label"></label>
                    </div>
                </div>
            </div>
        </div>-->

        <div class="row">
            <div class="col-md-1"></div>
            <div class="col">
                <div class="form-group mt-3">
                    <button type="button" ng-click="INS_UPD_RESOURCE_TILES(1)" ng-show="IS_ADD_EDIT_FLAG_PRIVEILAGE" class="btn btn-wenodo">
                        Save
                    </button>
                    <button type="button" ng-click="INS_UPD_RESOURCE_TILES(2)" ng-show="IS_ADD_EDIT_FLAG_PRIVEILAGE" class="btn btn-wenodo">Save & go back</button>
                    <button type="button" ng-click="DELETE_INS_UPD_RESOURCE_TILES(2)" ng-show="CHECK_MODULE_ACCESS(41,4)" class="btn btn-danger">Delete</button>
                    <button type="button" ng-click="RESET_RES()" class="btn btn-w-default">Reset</button>
                    <a href="#!/Resources" class="btn btn-w-default">Cancel</a>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('.image-upload-wrap').hide();

                $('.file-upload-image').attr('src', e.target.result);
                $('.file-upload-content').show();

                $('.image-title').html(input.files[0].name);
            };
            reader.readAsDataURL(input.files[0]);
        } else {
            removeUpload();
        }
    }

    function removeUpload() {
        $('.file-upload-input').replaceWith($('.file-upload-input').clone());
        $('.file-upload-content').hide();
        $('.image-upload-wrap').show();
    }
    $('.image-upload-wrap').bind('dragover', function () {
        $('.image-upload-wrap').addClass('image-dropping');
    });
    $('.image-upload-wrap').bind('dragleave', function () {
        $('.image-upload-wrap').removeClass('image-dropping');
    });
</script>